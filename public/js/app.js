(function() {
  'use strict';

  var globals = typeof global === 'undefined' ? self : global;
  if (typeof globals.require === 'function') return;

  var modules = {};
  var cache = {};
  var aliases = {};
  var has = {}.hasOwnProperty;

  var expRe = /^\.\.?(\/|$)/;
  var expand = function(root, name) {
    var results = [], part;
    var parts = (expRe.test(name) ? root + '/' + name : name).split('/');
    for (var i = 0, length = parts.length; i < length; i++) {
      part = parts[i];
      if (part === '..') {
        results.pop();
      } else if (part !== '.' && part !== '') {
        results.push(part);
      }
    }
    return results.join('/');
  };

  var dirname = function(path) {
    return path.split('/').slice(0, -1).join('/');
  };

  var localRequire = function(path) {
    return function expanded(name) {
      var absolute = expand(dirname(path), name);
      return globals.require(absolute, path);
    };
  };

  var initModule = function(name, definition) {
    var hot = hmr && hmr.createHot(name);
    var module = {id: name, exports: {}, hot: hot};
    cache[name] = module;
    definition(module.exports, localRequire(name), module);
    return module.exports;
  };

  var expandAlias = function(name) {
    return aliases[name] ? expandAlias(aliases[name]) : name;
  };

  var _resolve = function(name, dep) {
    return expandAlias(expand(dirname(name), dep));
  };

  var require = function(name, loaderPath) {
    if (loaderPath == null) loaderPath = '/';
    var path = expandAlias(name);

    if (has.call(cache, path)) return cache[path].exports;
    if (has.call(modules, path)) return initModule(path, modules[path]);

    throw new Error("Cannot find module '" + name + "' from '" + loaderPath + "'");
  };

  require.alias = function(from, to) {
    aliases[to] = from;
  };

  var extRe = /\.[^.\/]+$/;
  var indexRe = /\/index(\.[^\/]+)?$/;
  var addExtensions = function(bundle) {
    if (extRe.test(bundle)) {
      var alias = bundle.replace(extRe, '');
      if (!has.call(aliases, alias) || aliases[alias].replace(extRe, '') === alias + '/index') {
        aliases[alias] = bundle;
      }
    }

    if (indexRe.test(bundle)) {
      var iAlias = bundle.replace(indexRe, '');
      if (!has.call(aliases, iAlias)) {
        aliases[iAlias] = bundle;
      }
    }
  };

  require.register = require.define = function(bundle, fn) {
    if (bundle && typeof bundle === 'object') {
      for (var key in bundle) {
        if (has.call(bundle, key)) {
          require.register(key, bundle[key]);
        }
      }
    } else {
      modules[bundle] = fn;
      delete cache[bundle];
      addExtensions(bundle);
    }
  };

  require.list = function() {
    var list = [];
    for (var item in modules) {
      if (has.call(modules, item)) {
        list.push(item);
      }
    }
    return list;
  };

  var hmr = globals._hmr && new globals._hmr(_resolve, require, modules, cache);
  require._cache = cache;
  require.hmr = hmr && hmr.wrap;
  require.brunch = true;
  globals.require = require;
})();

(function() {
var global = typeof window === 'undefined' ? this : window;
var process;
var __makeRelativeRequire = function(require, mappings, pref) {
  var none = {};
  var tryReq = function(name, pref) {
    var val;
    try {
      val = require(pref + '/node_modules/' + name);
      return val;
    } catch (e) {
      if (e.toString().indexOf('Cannot find module') === -1) {
        throw e;
      }

      if (pref.indexOf('node_modules') !== -1) {
        var s = pref.split('/');
        var i = s.lastIndexOf('node_modules');
        var newPref = s.slice(0, i).join('/');
        return tryReq(name, newPref);
      }
    }
    return none;
  };
  return function(name) {
    if (name in mappings) name = mappings[name];
    if (!name) return;
    if (name[0] !== '.' && pref) {
      var val = tryReq(name, pref);
      if (val !== none) return val;
    }
    return require(name);
  }
};
require.register("actions/application.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _promise = require('babel-runtime/core-js/promise');

var _promise2 = _interopRequireDefault(_promise);

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _stringify = require('babel-runtime/core-js/json/stringify');

var _stringify2 = _interopRequireDefault(_stringify);

exports.loginData = loginData;
exports.searchResult = searchResult;
exports.searchLoading = searchLoading;
exports.searchValue = searchValue;
exports.controlModal = controlModal;
exports.storePublications = storePublications;
exports.addDOIs = addDOIs;
exports.editForm = editForm;
exports.clearForm = clearForm;
exports.cartUpdate = cartUpdate;
exports.clearCart = clearCart;
exports.removeFromCart = removeFromCart;
exports.login = login;
exports.logout = logout;
exports.getCRState = getCRState;
exports.search = search;
exports.searchRecords = searchRecords;
exports.getPublications = getPublications;
exports.submitPublication = submitPublication;
exports.submitArticle = submitArticle;
exports.submitIssue = submitIssue;
exports.deposit = deposit;
exports.getItem = getItem;
exports.getDepositHistory = getDepositHistory;
exports.deleteRecord = deleteRecord;

var _reactRouter = require('react-router');

var _xmldoc = require('../utilities/xmldoc');

var _xmldoc2 = _interopRequireDefault(_xmldoc);

var _fetch = require('../utilities/fetch');

var _fetch2 = _interopRequireDefault(_fetch);

var _xmlGenerator = require('../utilities/xmlGenerator');

var _routing = require('../routing');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var withQuery = require('with-query');

// Action Creators, useless unless dispatched

function loginData(data) {
  return { type: 'LOGIN', data: data };
}

function searchResult(result, value) {
  return { type: 'SEARCH_RESULT', result: result, value: value };
}

function searchLoading(status) {
  return { type: 'SEARCH_STATUS', status: status };
}

function searchValue(value) {
  return { type: 'SEARCH_VALUE', value: value };
}

function controlModal(modalObj) {
  return { type: 'MODAL', modalObj: modalObj };
}

function storePublications(publications) {
  return { type: 'PUBLICATIONS', publications: publications };
}

function addDOIs(doi) {
  return { type: 'DOI_ADD', doi: doi };
}

function editForm(keyVal) {
  return { type: 'REDUXFORM_ADD', keyVal: keyVal };
}

function clearForm() {
  return { type: 'REDUXFORM_CLEAR' };
}

function cartUpdate(article) {
  return { type: 'CART_UPDATE', cart: article };
}

function clearCart() {
  return { type: 'CLEAR_CART' };
}

function removeFromCart(doi) {
  return { type: 'REMOVE_FROM_CART', action: { removeDoi: doi } };
}

// Async Action Creators

function login(usr, pwd) {
  var error = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (reason) {
    return console.error('ERROR in login', reason);
  };

  return function (dispatch) {
    (0, _fetch2.default)('http://mdt.crossref.org/mdt/v1/login', {
      method: 'post',
      body: (0, _stringify2.default)({ usr: usr, pwd: pwd })
    }).then(function (response) {
      if (response.status !== 200) {
        dispatch(loginData({ error: response.status + ': ' + response.statusText }));
      } else return response.json();
    }).then(function (response) {
      if (!response) return;
      var authBearer = response.token_type + ' ' + response.access_token;
      localStorage.setItem('auth', authBearer);
      localStorage.setItem('user', usr);
      response.error = null;
      dispatch(loginData(response));
      dispatch(getCRState('login'));
    }).catch(function (reason) {
      return error(reason);
    });
  };
}

function logout() {
  _reactRouter.browserHistory.push(_routing.routes.base);
}

function getCRState(type) {
  var error = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (reason) {
    return console.error('ERROR in getCRState', reason);
  };

  return function (dispatch) {
    (0, _fetch2.default)('http://mdt.crossref.org/mdt/v1/state', {
      method: 'get',
      headers: { Authorization: localStorage.getItem('auth') }
    }).then(function (response) {
      return response.json();
    }).then(function (state) {
      var scrubbedState = (0, _extends3.default)({}, state); //Scrubbed state is used to clear unnecessary or bad data from remote state.

      if (type === 'login') delete scrubbedState.login; //do not retrieve old login state if this is a new login

      // delete scrubbedState.cart;  //deposit cart tends to get bad data, clear it by un-commenting this line, don't forget to re-comment when done


      var pathname = scrubbedState.routing.locationBeforeTransitions.pathname;
      var base = _routing.routes.base;
      var matchLength = base.length + 4;

      // check if saved history matches current base. Only match base + 4 characters because some routes may be dynamic but the smallest static route is 4 characters long

      var match = function checkRoutes() {
        for (var route in _routing.routes) {
          if (pathname.substring(0, matchLength) === _routing.routes[route].substring(0, matchLength)) return true;
        }
        return false;
      }();

      // redirect if it is a new base or if the base route somehow got saved to CRState. The base route is the login page so it should never save to CRState

      if (!match || pathname === base) {
        scrubbedState.routing.locationBeforeTransitions.pathname = base === '/' ? '/publications' : base + '/publications';
      }

      console.warn('Retrieving from remote store: ', scrubbedState);
      dispatch({
        type: 'SET_STATE',
        payload: scrubbedState
      });
    }).catch(function (reason) {
      return error(reason);
    });
  };
}

function search(query) {
  var error = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (reason) {
    return console.error('ERROR in search', reason);
  };

  return function (dispatch) {
    if (!query) return;
    dispatch(searchValue(query));
    dispatch(searchLoading(true)); //having 2 dispatches seems to give the initial searchValue time to save to store before the return's searchValue is checked
    (0, _fetch2.default)('http://mdt.crossref.org/mdt/v1/search?q=' + query, {
      method: 'get',
      headers: { Authorization: localStorage.getItem('auth') }
    }).then(function (response) {
      return response.json();
    }).then(function (result) {
      dispatch(searchResult(result.message, query));
    }).catch(function (reason) {
      return error(reason);
    });
  };
}

function searchRecords(query, pubTitle, type) {
  var error = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function (reason) {
    return console.error('ERROR in searchRecords', reason);
  };

  return function (dispatch) {
    if (!query) return;
    dispatch(searchValue(query));
    dispatch(searchLoading(true));
    (0, _fetch2.default)('http://mdt.crossref.org/mdt/v1/search/works?q=' + query + '&title=' + pubTitle + '&type=' + type.toLowerCase(), {
      method: 'get',
      headers: { Authorization: localStorage.getItem('auth') }
    }).then(function (response) {
      return response.json();
    }).then(function (result) {
      dispatch(searchResult(result.message, query));
    }).catch(function (reason) {
      return error(reason);
    });
  };
}

function getPublications(DOIs, callback) {
  var error = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (reason) {
    return console.error('ERROR in getPublications', reason);
  };

  return function (dispatch) {
    if (!Array.isArray(DOIs)) DOIs = [DOIs];
    _promise2.default.all(DOIs.map(function (doi) {
      return (0, _fetch2.default)('http://mdt.crossref.org/mdt/v1/work?doi=' + doi, { headers: { Authorization: localStorage.getItem('auth') } }).then(function (publication) {
        return publication.json();
      }).catch(function (reason) {
        return console.error('ERROR: publication DOI fetch failed ', reason);
      });
    })).then(function (publications) {
      dispatch(storePublications(publications));
      if (callback) callback(publications);
    }).catch(function (reason) {
      error(reason);
    });
  };
}

function submitPublication(form, callback) {
  var error = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (reason) {
    return console.error('ERROR in submitPublication', reason);
  };

  return function (dispatch) {
    (0, _fetch2.default)('http://mdt.crossref.org/mdt/v1/work', {
      method: 'post',
      headers: { Authorization: localStorage.getItem('auth') },
      body: (0, _stringify2.default)({
        message: {
          'title': { 'title': form.title },
          'doi': form.DOI,
          'owner-prefix': form.DOI.split('/')[0],
          'type': 'Publication',
          'mdt-version': form['mdt-version'] || '0',
          'status': 'draft',
          'content': (0, _xmlGenerator.publicationXml)(form),
          'contains': []
        }
      })
    }).then(function () {
      return (0, _fetch2.default)('http://mdt.crossref.org/mdt/v1/work?doi=' + form.DOI, { headers: { Authorization: localStorage.getItem('auth') } }).then(function (publication) {
        return publication.json();
      }).then(function (publication) {
        dispatch(storePublications(publication));
        if (callback) callback(publication);
      }).catch(function (reason) {
        error(reason);
      });
    }).catch(function (reason) {
      error(reason);
    });
  };
}

function submitArticle(publication, articleDoi, callback) {
  var error = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function (reason) {
    return console.error('ERROR in submitArticle', reason);
  };

  return function (dispatch) {

    (0, _fetch2.default)('http://mdt.crossref.org/mdt/v1/work', {
      method: 'post',
      headers: { Authorization: localStorage.getItem('auth') },
      body: (0, _stringify2.default)(publication)
    }).then(function () {
      return (0, _fetch2.default)('http://mdt.crossref.org/mdt/v1/work?doi=' + articleDoi, { headers: { Authorization: localStorage.getItem('auth') } }).then(function (article) {
        return article.json();
      }).then(function (article) {
        if (callback) callback();
      }).catch(function (reason) {
        return error(reason);
      });
    }).catch(function (reason) {
      return error(reason);
    });
  };
}

function submitIssue(publication, callback) {
  var error = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (reason) {
    return console.error('ERROR in submitIssue', reason);
  };

  return function (dispatch) {
    (0, _fetch2.default)('http://mdt.crossref.org/mdt/v1/work', {
      method: 'post',
      headers: { Authorization: localStorage.getItem('auth') },
      body: (0, _stringify2.default)(publication)
    }).then(function () {
      if (callback) callback();
    }).catch(function (reason) {
      return error(reason);
    });
  };
}

function deposit(cartArray, callback) {
  var error = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (reason) {
    return console.error(reason);
  };

  return function (dispatch) {
    (0, _fetch2.default)('http://mdt.crossref.org/mdt/v1/deposit', {
      method: 'post',
      headers: { Authorization: localStorage.getItem('auth') },
      body: (0, _stringify2.default)({
        message: cartArray
      })
    }).then(function (result) {
      console.log(result);
      if (result.status > 202) throw 'Error ' + result.status + ': ' + result.statusText;
      return result.json();
    }).then(function (result) {
      var resultArray = result.message;
      resultArray = resultArray.map(function (item) {
        var getXML = (0, _xmldoc2.default)(item.result);
        if (getXML !== undefined) item.result = getXML;
        return item;
      });
      console.log('DEPOSIT RESULT', resultArray);
      if (callback) callback(resultArray);
    }).catch(function (reason) {
      return error(reason);
    });
  };
}

function getItem(doi) {
  return function (dispatch) {
    if (doi) {
      return _promise2.default.resolve((0, _fetch2.default)('http://mdt.crossref.org/mdt/v1/work?doi=' + doi, { headers: { Authorization: localStorage.getItem('auth') } }).then(function (response) {
        if (response.status !== 200) {
          console.error(response.status + ': ' + response.statusText, response);
          throw response.status + ': ' + response.statusText;
        }
        return response.json();
      }));
    }
  };
}

function getDepositHistory(params, callback) {
  var error = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (reason) {
    return console.error(reason);
  };

  return function (dispatch) {
    return _promise2.default.resolve((0, _fetch2.default)(withQuery('http://mdt.crossref.org/mdt/v1/history', params), {
      headers: { Authorization: localStorage.getItem('auth') }
    }).then(function (depositHistory) {
      return depositHistory.json();
    })).then(function (depositHistory) {
      if (callback) callback(depositHistory);
      return depositHistory;
    }).catch(function (reason) {
      return error(reason);
    });
  };
}

function deleteRecord(doi, pubDoi, callback) {
  var error = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function (reason) {
    return console.error('ERROR in deleteRecord', reason);
  };

  return function (dispatch) {
    (0, _fetch2.default)('http://mdt.crossref.org/mdt/v1/work?doi=' + doi, {
      method: 'delete',
      headers: { Authorization: localStorage.getItem('auth') }
    }).then(function (response) {
      if (response.status === 200) {
        dispatch(getPublications(pubDoi));
        if (callback) callback();
      } else throw 'delete ' + response.url + ' failed: ' + (response.status || 'Unknown status') + ' - ' + (response.statusText || 'Unknown statusText');
    }).catch(function (reason) {
      return error(reason);
    });
  };
}

});

;require.register("components/Publication/actionBar.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/Publication/actionBar.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouter = require('react-router');

var _addIssueCard = require('../addIssueCard');

var _addIssueCard2 = _interopRequireDefault(_addIssueCard);

var _routing = require('../../routing');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ActionBar = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(ActionBar, _Component);

  function ActionBar(props) {
    (0, _classCallCheck3.default)(this, ActionBar);

    var _this = (0, _possibleConstructorReturn3.default)(this, (ActionBar.__proto__ || (0, _getPrototypeOf2.default)(ActionBar)).call(this, props));

    _this.openAddIssueModal = function () {
      _this.props.reduxControlModal({
        showModal: true,
        title: 'Create New Issue/Volume',
        style: 'addIssueModal',
        Component: _addIssueCard2.default,
        props: {
          handle: _this.props.handle,
          publication: _this.props.publication,
          reduxControlModal: _this.props.reduxControlModal,
          reduxCartUpdate: _this.props.reduxCartUpdate,
          postIssue: _this.props.postIssue,
          ownerPrefix: _this.props.ownerPrefix
        }
      });
    };

    _this.onlyIssueSelected = function () {
      var selections = _this.props.selections;
      if (!selections.length) return false;
      var types = selections.map(function (selection) {
        return selection.article.type;
      });
      return !types.includes('article');
    };

    _this.state = {
      actionMenuOpen: false,
      addRecordMenuOpen: false
    };
    return _this;
  }

  (0, _createClass3.default)(ActionBar, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var onlyIssue = this.onlyIssueSelected();
      var _props = this.props,
          doi = _props.doi,
          publication = _props.publication,
          handle = _props.handle,
          handleAddCart = _props.handleAddCart,
          deleteSelections = _props.deleteSelections,
          duplicateSelection = _props.duplicateSelection;

      return _react2.default.createElement(
        'div',
        { className: 'publication-actions', __source: {
            fileName: _jsxFileName,
            lineNumber: 64
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'pull-left add-record tooltips', onClick: function onClick() {
              return _this2.setState({ addRecordMenuOpen: !_this2.state.addRecordMenuOpen, actionMenuOpen: false });
            }, __source: {
              fileName: _jsxFileName,
              lineNumber: 65
            },
            __self: this
          },
          'Add Record',
          this.state.addRecordMenuOpen && _react2.default.createElement(
            'div',
            {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 67
              },
              __self: this
            },
            _react2.default.createElement(
              'p',
              { onClick: function onClick() {
                  return _reactRouter.browserHistory.push(_routing.routes.publications + '/' + encodeURIComponent(doi) + '/addarticle');
                }, __source: {
                  fileName: _jsxFileName,
                  lineNumber: 68
                },
                __self: this
              },
              'New Article'
            ),
            _react2.default.createElement(
              'p',
              { onClick: this.openAddIssueModal, __source: {
                  fileName: _jsxFileName,
                  lineNumber: 69
                },
                __self: this
              },
              'New Volume/Issue'
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'pull-right', __source: {
              fileName: _jsxFileName,
              lineNumber: 72
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'actions tooltips ' + (this.props.selections.length ? 'activeAction' : ''),
              onClick: this.props.selections.length ? function () {
                return _this2.setState({ actionMenuOpen: !_this2.state.actionMenuOpen, addRecordMenuOpen: false });
              } : null,
              __source: {
                fileName: _jsxFileName,
                lineNumber: 73
              },
              __self: this
            },
            'Action',
            this.state.actionMenuOpen && _react2.default.createElement(
              'div',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 77
                },
                __self: this
              },
              _react2.default.createElement(
                'p',
                { className: onlyIssue ? 'grayedOut' : '', onClick: onlyIssue ? null : handleAddCart, __source: {
                    fileName: _jsxFileName,
                    lineNumber: 78
                  },
                  __self: this
                },
                'Add to Cart'
              ),
              _react2.default.createElement(
                'p',
                { onClick: duplicateSelection, __source: {
                    fileName: _jsxFileName,
                    lineNumber: 79
                  },
                  __self: this
                },
                'Duplicate'
              ),
              _react2.default.createElement(
                'p',
                { onClick: deleteSelections, __source: {
                    fileName: _jsxFileName,
                    lineNumber: 80
                  },
                  __self: this
                },
                'Remove'
              )
            )
          )
        ),
        _react2.default.createElement('div', { className: 'clear-both', __source: {
            fileName: _jsxFileName,
            lineNumber: 84
          },
          __self: this
        })
      );
    }
  }]);
  return ActionBar;
}(_react.Component), _class.propTypes = {
  reduxControlModal: _propTypes2.default.func.isRequired,
  reduxCartUpdate: _propTypes2.default.func.isRequired,
  handle: _propTypes2.default.func.isRequired,
  doi: _propTypes2.default.string.isRequired,
  publication: _propTypes2.default.object.isRequired,
  handleAddCart: _propTypes2.default.func.isRequired,
  deleteSelections: _propTypes2.default.func.isRequired,
  postIssue: _propTypes2.default.func.isRequired,
  ownerPrefix: _propTypes2.default.string.isRequired,
  selections: _propTypes2.default.array.isRequired
}, _temp);
exports.default = ActionBar;

});

require.register("components/Publication/article.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/Publication/article.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _reactRouter = require('react-router');

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _routing = require('../../routing');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Article = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(Article, _Component);

  function Article() {
    (0, _classCallCheck3.default)(this, Article);
    return (0, _possibleConstructorReturn3.default)(this, (Article.__proto__ || (0, _getPrototypeOf2.default)(Article)).apply(this, arguments));
  }

  (0, _createClass3.default)(Article, [{
    key: 'toggleCheckBox',
    value: function toggleCheckBox(e) {
      var doi = this.props.doi;

      if (e.currentTarget.checked) {
        this.props.handleAddToList({ article: doi });
      } else {
        this.props.handleRemoveFromList({ article: doi });
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _props$doi = this.props.doi,
          title = _props$doi.title,
          status = _props$doi.status,
          type = _props$doi.type,
          date = _props$doi.date,
          doi = _props$doi.doi;
      var _props = this.props,
          publicationDoi = _props.publicationDoi,
          issue = _props.issue;

      date = (0, _moment2.default)(date || undefined).format('MMM Do YYYY');
      title = title.title;
      var url = doi && 'http://doi.org/' + doi;

      var checked = !this.props.selections.length ? { checked: false } : {};

      return _react2.default.createElement(
        'tr',
        { className: status, __source: {
            fileName: _jsxFileName,
            lineNumber: 36
          },
          __self: this
        },
        _react2.default.createElement(
          'td',
          { className: 'checkbox', __source: {
              fileName: _jsxFileName,
              lineNumber: 37
            },
            __self: this
          },
          _react2.default.createElement(
            'label',
            {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 37
              },
              __self: this
            },
            _react2.default.createElement('input', (0, _extends3.default)({ type: 'checkbox', onClick: this.toggleCheckBox.bind(this) }, checked, {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 37
              },
              __self: this
            })),
            _react2.default.createElement(
              'span',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 37
                },
                __self: this
              },
              '\xA0'
            )
          )
        ),
        _react2.default.createElement(
          'td',
          { className: 'title', __source: {
              fileName: _jsxFileName,
              lineNumber: 38
            },
            __self: this
          },
          issue ? _react2.default.createElement(
            _reactRouter.Link,
            { className: 'pull-left add-record', to: _routing.routes.publications + '/' + encodeURIComponent(publicationDoi) + '/' + encodeURIComponent(issue) + '/addarticle/' + encodeURIComponent(doi), __source: {
                fileName: _jsxFileName,
                lineNumber: 40
              },
              __self: this
            },
            title
          ) : _react2.default.createElement(
            _reactRouter.Link,
            { className: 'pull-left add-record', to: _routing.routes.publications + '/' + encodeURIComponent(publicationDoi) + '/addarticle/' + encodeURIComponent(doi), __source: {
                fileName: _jsxFileName,
                lineNumber: 42
              },
              __self: this
            },
            title
          )
        ),
        _react2.default.createElement(
          'td',
          { className: 'date', __source: {
              fileName: _jsxFileName,
              lineNumber: 45
            },
            __self: this
          },
          date
        ),
        '90-t`r',
        _react2.default.createElement(
          'td',
          { className: 'type', __source: {
              fileName: _jsxFileName,
              lineNumber: 46
            },
            __self: this
          },
          type
        ),
        _react2.default.createElement(
          'td',
          { className: 'status', __source: {
              fileName: _jsxFileName,
              lineNumber: 47
            },
            __self: this
          },
          status
        ),
        _react2.default.createElement(
          'td',
          { className: 'url', __source: {
              fileName: _jsxFileName,
              lineNumber: 48
            },
            __self: this
          },
          url && _react2.default.createElement(
            'a',
            { target: '_blank', href: url, __source: {
                fileName: _jsxFileName,
                lineNumber: 48
              },
              __self: this
            },
            url
          )
        )
      );
    }
  }]);
  return Article;
}(_react.Component), _class.propTypes = {
  handleRemoveFromList: _propTypes2.default.func.isRequired,
  handleAddToList: _propTypes2.default.func.isRequired,
  selections: _propTypes2.default.array.isRequired,
  publicationDoi: _propTypes2.default.string.isRequired,
  doi: _propTypes2.default.object
}, _temp);
exports.default = Article;

});

require.register("components/Publication/articlesContainer.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/Publication/articlesContainer.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _my_decorators = require('my_decorators');

var _article = require('./article');

var _article2 = _interopRequireDefault(_article);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ArticleContainer = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(ArticleContainer, _Component);

  function ArticleContainer() {
    (0, _classCallCheck3.default)(this, ArticleContainer);
    return (0, _possibleConstructorReturn3.default)(this, (ArticleContainer.__proto__ || (0, _getPrototypeOf2.default)(ArticleContainer)).apply(this, arguments));
  }

  (0, _createClass3.default)(ArticleContainer, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var articles = this.props.doi.contains;
      var issueDoi = this.props.doi.doi;
      var pubDoi = this.props.publication.message.doi;
      return _react2.default.createElement(
        'tr',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 22
          },
          __self: this
        },
        _react2.default.createElement(
          'td',
          { colSpan: 6, className: 'issue-articles', __source: {
              fileName: _jsxFileName,
              lineNumber: 23
            },
            __self: this
          },
          _react2.default.createElement(
            'table',
            {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 24
              },
              __self: this
            },
            _react2.default.createElement(
              'thead',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 25
                },
                __self: this
              },
              _react2.default.createElement(
                'tr',
                {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 25
                  },
                  __self: this
                },
                _react2.default.createElement('td', {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 25
                  },
                  __self: this
                }),
                _react2.default.createElement('td', {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 25
                  },
                  __self: this
                }),
                _react2.default.createElement('td', {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 25
                  },
                  __self: this
                }),
                _react2.default.createElement('td', {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 25
                  },
                  __self: this
                }),
                _react2.default.createElement('td', {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 25
                  },
                  __self: this
                }),
                _react2.default.createElement('td', {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 25
                  },
                  __self: this
                })
              )
            ),
            _react2.default.createElement(
              'tbody',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 26
                },
                __self: this
              },
              articles.map(function (article, i) {
                return _react2.default.createElement(_article2.default, {
                  doi: article,
                  key: i,
                  fetchIssue: _this2.props.fetchIssue,
                  handleAddCart: _this2.props.handleAddCart,
                  handleRemoveFromList: _this2.props.handleRemoveFromList,
                  handleAddToList: _this2.props.handleAddToList,
                  issue: issueDoi,
                  publicationDoi: _this2.props.publicationDoi,
                  selections: _this2.props.selections,
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 28
                  },
                  __self: _this2
                });
              })
            )
          )
        )
      );
    }
  }]);
  return ArticleContainer;
}(_react.Component), _class.propTypes = {
  handleRemoveFromList: _propTypes2.default.func.isRequired,
  handleAddToList: _propTypes2.default.func.isRequired,
  filterBy: _propTypes2.default.string.isRequired,
  selections: _propTypes2.default.array.isRequired,
  publicationDoi: _propTypes2.default.string.isRequired,
  doi: _propTypes2.default.object
}, _temp);
exports.default = ArticleContainer;

});

require.register("components/Publication/filter.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/Publication/filter.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouter = require('react-router');

var _my_decorators = require('my_decorators');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PublicationFilter = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(PublicationFilter, _Component);

  function PublicationFilter(props) {
    (0, _classCallCheck3.default)(this, PublicationFilter);

    var _this = (0, _possibleConstructorReturn3.default)(this, (PublicationFilter.__proto__ || (0, _getPrototypeOf2.default)(PublicationFilter)).call(this, props));

    _this.filter = function (type) {
      _this.setState({
        current: type
      });
      _this.props.handleFilter(type);
    };

    _this.state = {
      current: 'all'
    };
    return _this;
  }

  (0, _createClass3.default)(PublicationFilter, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      return _react2.default.createElement(
        'div',
        { className: 'publication-header', __source: {
            fileName: _jsxFileName,
            lineNumber: 27
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'publication-status-selector', __source: {
              fileName: _jsxFileName,
              lineNumber: 28
            },
            __self: this
          },
          _react2.default.createElement(
            _reactRouter.Link,
            { onClick: function onClick() {
                _this2.filter('all');
              }, className: this.state.current === 'all' ? 'selected' : '', __source: {
                fileName: _jsxFileName,
                lineNumber: 29
              },
              __self: this
            },
            'All'
          ),
          _react2.default.createElement(
            _reactRouter.Link,
            { onClick: function onClick() {
                _this2.filter('draft');
              }, className: this.state.current === 'draft' ? 'selected' : '', __source: {
                fileName: _jsxFileName,
                lineNumber: 30
              },
              __self: this
            },
            'Draft'
          ),
          _react2.default.createElement(
            _reactRouter.Link,
            { onClick: function onClick() {
                _this2.filter('accepted');
              }, className: this.state.current === 'accepted' ? 'selected' : '', __source: {
                fileName: _jsxFileName,
                lineNumber: 31
              },
              __self: this
            },
            'Accepted'
          ),
          _react2.default.createElement(
            _reactRouter.Link,
            { onClick: function onClick() {
                _this2.filter('failed');
              }, className: this.state.current === 'failed' ? 'selected' : '', __source: {
                fileName: _jsxFileName,
                lineNumber: 32
              },
              __self: this
            },
            'Failed'
          )
        )
      );
    }
  }]);
  return PublicationFilter;
}(_react.Component), _class.propTypes = {
  handleFilter: _propTypes2.default.func.isRequired
}, _temp);
exports.default = PublicationFilter;

});

require.register("components/Publication/issue.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/Publication/issue.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _my_decorators = require('my_decorators');

var _addIssueCard = require('../addIssueCard');

var _addIssueCard2 = _interopRequireDefault(_addIssueCard);

var _xmldoc = require('../../utilities/xmldoc');

var _xmldoc2 = _interopRequireDefault(_xmldoc);

var _objectSearch = require('../../utilities/objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

var _immutabilityHelper = require('immutability-helper');

var _immutabilityHelper2 = _interopRequireDefault(_immutabilityHelper);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Issue = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(Issue, _Component);

  function Issue(props) {
    (0, _classCallCheck3.default)(this, Issue);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Issue.__proto__ || (0, _getPrototypeOf2.default)(Issue)).call(this, props));

    _this.toggleCheckBox = function (e) {
      var doi = _this.props.doi;

      if (e.currentTarget.checked) {
        _this.props.handleAddToList({ article: doi });
      } else {
        _this.props.handleRemoveFromList({ article: doi });
      }
    };

    _this.modalOpen = function (e) {
      if (e && e.preventDefault) e.preventDefault();
      _this.props.reduxControlModal({
        showModal: true,
        title: 'Edit Issue/Volume',
        style: 'addIssueModal',
        Component: _addIssueCard2.default,
        props: {
          mode: 'edit',
          issue: _this.props.doi,
          publication: _this.props.publication,
          publicationMessage: _this.props.publicationMessage,
          doiMessage: _this.props.publicationDoi,
          handle: _this.props.handle,
          fetchIssue: _this.props.fetchIssue,
          postIssue: _this.props.postIssue,
          reduxCartUpdate: _this.props.reduxCartUpdate,
          handleAddCart: _this.props.handleAddCart,
          handleAddToList: _this.props.handleAddToList,
          triggerModal: _this.props.triggerModal,
          ownerPrefix: _this.props.ownerPrefix
        }
      });
    };

    _this.state = {
      issue: {}
    };
    return _this;
  }

  (0, _createClass3.default)(Issue, [{
    key: 'getTitles',
    value: function getTitles(doi) {
      var _this2 = this;

      this.props.fetchIssue(doi, function (Publication) {
        var message = Publication.message;
        var Issue = message.contains[0];
        var parsedIssue = (0, _xmldoc2.default)(Issue.content);
        var issueTitle = (0, _objectSearch2.default)(parsedIssue, 'title') ? (0, _objectSearch2.default)(parsedIssue, 'title') : '';
        var issueNumber = (0, _objectSearch2.default)(parsedIssue, 'issue') ? (0, _objectSearch2.default)(parsedIssue, 'issue') : '';
        var journal_volume = (0, _objectSearch2.default)(parsedIssue, 'journal_volume');
        var theVolume = '';
        if (journal_volume) {
          theVolume = (0, _objectSearch2.default)(journal_volume, 'volume') ? (0, _objectSearch2.default)(journal_volume, 'volume') : '';
        }

        _this2.setState({
          issue: (0, _immutabilityHelper2.default)(_this2.state.issue, { $set: {
              title: issueTitle,
              issue: issueNumber,
              volumetitle: theVolume
            } })
        });
      });
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (!this.props.selections.length) if (nextProps.doi !== this.props.doi || this.props.triggerModal !== nextProps.triggerModal) {
        var doi = nextProps.doi.doi;

        this.getTitles(doi);

        if (nextProps.triggerModal) {
          //its a doi
          if (nextProps.triggerModal === doi) {
            this.modalOpen();
          }
        }
      }
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var doi = this.props.doi.doi;

      this.getTitles(doi);
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          doiMessage = _props.doiMessage,
          handle = _props.handle,
          fetchIssue = _props.fetchIssue,
          publicationMessage = _props.publicationMessage,
          publicationDoi = _props.publicationDoi,
          publication = _props.publication;
      var _props$doi = this.props.doi,
          status = _props$doi.status,
          type = _props$doi.type,
          date = _props$doi.date,
          doi = _props$doi.doi;

      date = (0, _moment2.default)(date || undefined).format('MMM Do YYYY');
      //title needs to be either issue title + volume title or either one
      var issueTitle = this.state.issue.title || this.state.issue.issue || '';
      var title = (this.state.issue.volumetitle ? 'Volume ' + this.state.issue.volumetitle : '') + (this.state.issue.title || this.state.issue.issue ? ' Issue ' + issueTitle : '');
      var url = doi && 'http://dx.doi.org/' + doi;

      var checked = !this.props.selections.length ? { checked: false } : {};

      return _react2.default.createElement(
        'tr',
        { className: 'issue', __source: {
            fileName: _jsxFileName,
            lineNumber: 124
          },
          __self: this
        },
        _react2.default.createElement(
          'td',
          { className: 'checkbox', __source: {
              fileName: _jsxFileName,
              lineNumber: 125
            },
            __self: this
          },
          _react2.default.createElement(
            'label',
            {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 125
              },
              __self: this
            },
            _react2.default.createElement('input', (0, _extends3.default)({ type: 'checkbox', onClick: this.toggleCheckBox }, checked, {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 125
              },
              __self: this
            })),
            _react2.default.createElement(
              'span',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 125
                },
                __self: this
              },
              '\xA0'
            )
          )
        ),
        _react2.default.createElement(
          'td',
          { className: 'title', __source: {
              fileName: _jsxFileName,
              lineNumber: 126
            },
            __self: this
          },
          _react2.default.createElement(
            'a',
            { onClick: this.modalOpen, href: '', __source: {
                fileName: _jsxFileName,
                lineNumber: 127
              },
              __self: this
            },
            title
          )
        ),
        _react2.default.createElement(
          'td',
          { className: 'date', __source: {
              fileName: _jsxFileName,
              lineNumber: 129
            },
            __self: this
          },
          date
        ),
        _react2.default.createElement(
          'td',
          { className: 'type', __source: {
              fileName: _jsxFileName,
              lineNumber: 130
            },
            __self: this
          },
          type
        ),
        _react2.default.createElement(
          'td',
          { className: 'status', __source: {
              fileName: _jsxFileName,
              lineNumber: 131
            },
            __self: this
          },
          status
        ),
        _react2.default.createElement(
          'td',
          { className: 'url', __source: {
              fileName: _jsxFileName,
              lineNumber: 132
            },
            __self: this
          },
          url && _react2.default.createElement(
            'a',
            { className: 'issueDOILink', target: '_blank', href: url, __source: {
                fileName: _jsxFileName,
                lineNumber: 132
              },
              __self: this
            },
            url
          ),
          '\xA0',
          _react2.default.createElement(
            _reactRouter.Link,
            { className: 'issueDoiAddNew', to: '/mdt/publications/' + encodeURIComponent(publicationDoi) + '/' + encodeURIComponent(doi) + '/addarticle', __source: {
                fileName: _jsxFileName,
                lineNumber: 132
              },
              __self: this
            },
            _react2.default.createElement(
              'span',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 132
                },
                __self: this
              },
              'Add Article'
            )
          )
        )
      );
    }
  }]);
  return Issue;
}(_react.Component), _class.propTypes = {
  handleRemoveFromList: _propTypes2.default.func.isRequired,
  handleAddToList: _propTypes2.default.func.isRequired,
  fetchIssue: _propTypes2.default.func.isRequired,
  reduxControlModal: _propTypes2.default.func.isRequired,
  publication: _propTypes2.default.object.isRequired,
  publicationDoi: _propTypes2.default.string.isRequired,
  publicationMessage: _propTypes2.default.object.isRequired,
  doi: _propTypes2.default.object.isRequired,
  reduxCartUpdate: _propTypes2.default.func.isRequired,
  ownerPrefix: _propTypes2.default.string.isRequired,
  selections: _propTypes2.default.array.isRequired
}, _temp);
exports.default = Issue;

});

require.register("components/Publication/listing.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/Publication/listing.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _my_decorators = require('my_decorators');

var _issue = require('./issue');

var _issue2 = _interopRequireDefault(_issue);

var _article = require('./article');

var _article2 = _interopRequireDefault(_article);

var _articlesContainer = require('./articlesContainer');

var _articlesContainer2 = _interopRequireDefault(_articlesContainer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Listing = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(Listing, _Component);

  function Listing() {
    (0, _classCallCheck3.default)(this, Listing);
    return (0, _possibleConstructorReturn3.default)(this, (Listing.__proto__ || (0, _getPrototypeOf2.default)(Listing)).apply(this, arguments));
  }

  (0, _createClass3.default)(Listing, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var publicationDoi = this.props.publicationMessage.doi;
      var publicationMessage = this.props.publicationMessage;
      var publication = this.props.publication;
      var contains = this.props.publicationMessage.contains || [];
      var itemlist = _lodash2.default.flatten(contains.map(function (child, i) {
        if (child) {
          switch (child.type.toLowerCase()) {
            case 'issue':
              return [_react2.default.createElement(_issue2.default, { doi: child, key: i,
                ownerPrefix: _this2.props.ownerPrefix,
                reduxControlModal: _this2.props.reduxControlModal,
                publication: publication,
                publicationDoi: publicationDoi,
                publicationMessage: publicationMessage,
                reduxCartUpdate: _this2.props.reduxCartUpdate,
                handleRemoveFromList: _this2.props.handleRemoveFromList,
                handleAddToList: _this2.props.handleAddToList,
                fetchIssue: _this2.props.fetchIssue,
                triggerModal: _this2.props.triggerModal,
                postIssue: _this2.props.postIssue,
                handle: _this2.props.handle,
                selections: _this2.props.selections,
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 35
                },
                __self: _this2
              }), _react2.default.createElement(_articlesContainer2.default, {
                filterBy: _this2.props.filterBy,
                doi: child,
                fetchIssue: _this2.props.fetchIssue,
                publication: publication,
                publicationDoi: publicationDoi,
                publicationMessage: publicationMessage,
                key: i + '-articles',
                reduxCartUpdate: _this2.props.reduxCartUpdate,
                handleRemoveFromList: _this2.props.handleRemoveFromList,
                handleAddToList: _this2.props.handleAddToList,
                handle: _this2.props.handle,
                selections: _this2.props.selections,
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 50
                },
                __self: _this2
              })];
            case 'article':
              return _react2.default.createElement(_article2.default, {
                doi: child,
                key: i,
                fetchIssue: _this2.props.fetchIssue,
                publication: publication,
                publicationDoi: publicationDoi,
                publicationMessage: publicationMessage,
                handleRemoveFromList: _this2.props.handleRemoveFromList,
                handleAddToList: _this2.props.handleAddToList,
                handle: _this2.props.handle,
                selections: _this2.props.selections,
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 66
                },
                __self: _this2
              });
          }
        }
      }));

      if (this.props.filterBy !== 'all') {
        itemlist = _lodash2.default.filter(itemlist, function (item) {
          return item.props.doi.status.toLowerCase() === _this2.props.filterBy;
        });
      }

      return _react2.default.createElement(
        'table',
        { className: 'publication-children-listing', __source: {
            fileName: _jsxFileName,
            lineNumber: 89
          },
          __self: this
        },
        _react2.default.createElement(
          'thead',
          {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 90
            },
            __self: this
          },
          _react2.default.createElement(
            'tr',
            {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 91
              },
              __self: this
            },
            _react2.default.createElement('td', { className: 'checkbox', __source: {
                fileName: _jsxFileName,
                lineNumber: 92
              },
              __self: this
            }),
            _react2.default.createElement('td', { className: 'title', __source: {
                fileName: _jsxFileName,
                lineNumber: 93
              },
              __self: this
            }),
            _react2.default.createElement(
              'td',
              { className: 'date', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 94
                },
                __self: this
              },
              'Date'
            ),
            _react2.default.createElement(
              'td',
              { className: 'type', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 95
                },
                __self: this
              },
              'Type'
            ),
            _react2.default.createElement(
              'td',
              { className: 'status', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 96
                },
                __self: this
              },
              'Status'
            ),
            _react2.default.createElement('td', { className: 'url', __source: {
                fileName: _jsxFileName,
                lineNumber: 97
              },
              __self: this
            })
          )
        ),
        _react2.default.createElement(
          'tbody',
          {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 100
            },
            __self: this
          },
          itemlist
        )
      );
    }
  }]);
  return Listing;
}(_react.Component), _class.propTypes = {
  filterBy: _propTypes2.default.string.isRequired,
  reduxControlModal: _propTypes2.default.func.isRequired,
  handleRemoveFromList: _propTypes2.default.func.isRequired,
  handleAddToList: _propTypes2.default.func.isRequired,
  fetchIssue: _propTypes2.default.func.isRequired,
  postIssue: _propTypes2.default.func.isRequired,
  reduxCartUpdate: _propTypes2.default.func.isRequired,
  ownerPrefix: _propTypes2.default.string.isRequired,
  selections: _propTypes2.default.array.isRequired,
  publication: _propTypes2.default.object
}, _temp);
exports.default = Listing;

});

require.register("components/Publication/publication.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/Publication/publication.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouter = require('react-router');

var _listing = require('./listing');

var _listing2 = _interopRequireDefault(_listing);

var _filter = require('./filter');

var _filter2 = _interopRequireDefault(_filter);

var _actionBar = require('./actionBar');

var _actionBar2 = _interopRequireDefault(_actionBar);

var _titleBar = require('./titleBar');

var _titleBar2 = _interopRequireDefault(_titleBar);

var _addIssueCard = require('../addIssueCard');

var _addIssueCard2 = _interopRequireDefault(_addIssueCard);

var _routing = require('../../routing');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Publication = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(Publication, _Component);

  function Publication(props) {
    var _this2 = this;

    (0, _classCallCheck3.default)(this, Publication);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Publication.__proto__ || (0, _getPrototypeOf2.default)(Publication)).call(this, props));

    _this.handleAddCart = function () {
      if (_this.noneSelected()) return;
      var selections = _this.state.selections;
      for (var i in selections) {
        if (selections[i].article.type === 'article') _this.props.reduxCartUpdate([_this.state.selections[i].article]);
      }
    };

    _this.noneSelected = function () {
      if (!_this.state.selections.length) {
        _this.props.reduxControlModal({
          showModal: true,
          style: 'defaultModal',
          title: 'Please make a selection',
          Component: function Component(_ref) {
            var close = _ref.close;
            return _react2.default.createElement(
              'div',
              { className: 'actionModal', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 81
                },
                __self: _this2
              },
              _react2.default.createElement(
                'div',
                { className: 'messageHolder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 82
                  },
                  __self: _this2
                },
                _react2.default.createElement(
                  'p',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 83
                    },
                    __self: _this2
                  },
                  'No records are selected.'
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'buttonHolder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 85
                  },
                  __self: _this2
                },
                _react2.default.createElement(
                  'button',
                  { onClick: close, __source: {
                      fileName: _jsxFileName,
                      lineNumber: 86
                    },
                    __self: _this2
                  },
                  'Ok'
                )
              )
            );
          }
        });return true;
      } else return false;
    };

    _this.deleteSelections = function () {
      if (_this.noneSelected()) return;
      _this.props.reduxControlModal({
        showModal: true,
        title: 'Remove Record',
        style: 'defaultModal',
        Component: DeleteConfirmModal,
        props: {
          confirm: function confirm() {
            for (var i in _this.state.selections) {
              _this.props.asyncDeleteRecord(_this.state.selections[i].article.doi, _this.props.publication.message.doi);
            }
            _this.props.reduxControlModal({ showModal: false }); //Can also put this as a callback for asyncDeleteRecord, will affect whether the modal closes first then record dissapears or vice versa
            _this.setState({ selections: [] });
          },
          selections: _this.state.selections
        }
      });
    };

    _this.duplicateSelection = function () {
      if (_this.noneSelected()) return;

      if (_this.state.selections.length > 1) return _this.props.reduxControlModal({
        showModal: true,
        style: 'defaultModal',
        title: 'Please select one record to duplicate',
        Component: function Component(_ref2) {
          var close = _ref2.close;
          return _react2.default.createElement(
            'div',
            { className: 'actionModal', __source: {
                fileName: _jsxFileName,
                lineNumber: 122
              },
              __self: _this2
            },
            _react2.default.createElement(
              'div',
              { className: 'messageHolder', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 123
                },
                __self: _this2
              },
              _react2.default.createElement(
                'p',
                {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 124
                  },
                  __self: _this2
                },
                'You can only duplicate one record at a time. Please select only one record.'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'buttonHolder', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 126
                },
                __self: _this2
              },
              _react2.default.createElement(
                'button',
                { onClick: close, __source: {
                    fileName: _jsxFileName,
                    lineNumber: 127
                  },
                  __self: _this2
                },
                'Ok'
              )
            )
          );
        }
      });

      if (_this.state.selections[0].article.type === 'article') _reactRouter.browserHistory.push({
        pathname: _routing.routes.publications + '/' + encodeURIComponent(_this.props.publication.message.doi) + '/addarticle',
        state: {
          duplicateFrom: _this.state.selections[0].article.doi
        }
      });

      if (_this.state.selections[0].article.type === 'issue') {
        _this.props.reduxControlModal({
          showModal: true,
          title: 'Duplicate Issue/Volume',
          style: 'addIssueModal',
          Component: _addIssueCard2.default,
          props: {
            mode: 'edit',
            issue: _this.state.selections[0].article,
            publication: _this.props.publication,
            handle: _this.props.handle,
            fetchIssue: _this.props.fetchIssue,
            postIssue: _this.props.postIssue,
            ownerPrefix: _this.props.ownerPrefix,
            duplicate: true
          }
        });
        _this.setState({ selections: [] });
      }
    };

    _this.handleFilter = function (type) {
      _this.setState({
        filterBy: type
      });
    };

    _this.state = {
      filterBy: 'all',
      selections: []
    };
    return _this;
  }

  (0, _createClass3.default)(Publication, [{
    key: 'handleAddToList',
    value: function handleAddToList(item) {
      var selections = this.state.selections;
      var newSelections = [].concat((0, _toConsumableArray3.default)(selections));
      for (var i in selections) {
        if (item.article.doi.toLowerCase() === selections[i].article.doi.toLowerCase()) return;
      }
      item.article.pubDoi = this.props.publication.message.doi;
      newSelections.push(item);
      this.setState({ selections: newSelections });
    }
  }, {
    key: 'handleRemoveFromList',
    value: function handleRemoveFromList(item) {
      var selections = this.state.selections;
      var filteredSelections = selections.filter(function (selection) {
        return item.article.doi.toLowerCase() !== selection.article.doi.toLowerCase();
      });
      this.setState({
        selections: filteredSelections
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          publication = _props.publication,
          handle = _props.handle,
          reduxControlModal = _props.reduxControlModal,
          ownerPrefix = _props.ownerPrefix;

      var publicationMessage = publication.message || emptyObject;
      var contains = publicationMessage.contains || emptyArray;
      var doi = publicationMessage.doi;
      return _react2.default.createElement(
        'div',
        { className: 'publication', __source: {
            fileName: _jsxFileName,
            lineNumber: 172
          },
          __self: this
        },
        _react2.default.createElement(_filter2.default, {
          handleFilter: this.handleFilter.bind(this),
          __source: {
            fileName: _jsxFileName,
            lineNumber: 173
          },
          __self: this
        }),
        _react2.default.createElement(_titleBar2.default, {
          publicationMessage: publicationMessage,
          asyncSearchRecords: this.props.asyncSearchRecords,
          search: this.props.search, asyncGetItem: this.props.asyncGetItem,
          reduxControlModal: this.props.reduxControlModal,
          publication: publication,
          postIssue: this.props.postIssue,
          asyncGetPublications: this.props.handle, __source: {
            fileName: _jsxFileName,
            lineNumber: 176
          },
          __self: this
        }),
        _react2.default.createElement(_actionBar2.default, {
          ownerPrefix: ownerPrefix,
          selections: this.state.selections,
          doi: doi,
          publication: publication,
          handle: handle,
          reduxControlModal: reduxControlModal,
          handleAddCart: this.handleAddCart,
          reduxCartUpdate: this.props.reduxCartUpdate,
          deleteSelections: this.deleteSelections,
          duplicateSelection: this.duplicateSelection,
          postIssue: this.props.postIssue, __source: {
            fileName: _jsxFileName,
            lineNumber: 185
          },
          __self: this
        }),
        _react2.default.createElement(
          'div',
          { className: 'publication-children', __source: {
              fileName: _jsxFileName,
              lineNumber: 197
            },
            __self: this
          },
          contains.length ? _react2.default.createElement(_listing2.default, {
            filterBy: this.state.filterBy,
            ownerPrefix: ownerPrefix,
            reduxControlModal: this.props.reduxControlModal,
            handle: this.props.handle,
            publication: publication,
            publicationDoi: doi,
            publicationMessage: publicationMessage,
            reduxCartUpdate: this.props.reduxCartUpdate,
            handleRemoveFromList: this.handleRemoveFromList.bind(this),
            handleAddToList: this.handleAddToList.bind(this),
            fetchIssue: this.props.fetchIssue,
            postIssue: this.props.postIssue,
            triggerModal: this.props.triggerModal,
            selections: this.state.selections,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 199
            },
            __self: this
          }) : _react2.default.createElement(
            'div',
            { className: 'empty-message', __source: {
                fileName: _jsxFileName,
                lineNumber: 214
              },
              __self: this
            },
            'No articles, please create one!'
          )
        )
      );
    }
  }]);
  return Publication;
}(_react.Component), _class.propTypes = {
  reduxControlModal: _propTypes2.default.func.isRequired,
  asyncDeleteRecord: _propTypes2.default.func.isRequired,

  publication: _propTypes2.default.shape({
    status: _propTypes2.default.string.isRequired,
    'message-type': _propTypes2.default.string.isRequired,
    'message-version': _propTypes2.default.string.isRequired,
    message: _propTypes2.default.object.isRequired
  }).isRequired,

  handle: _propTypes2.default.func.isRequired,
  reduxCartUpdate: _propTypes2.default.func.isRequired,
  fetchIssue: _propTypes2.default.func.isRequired,
  postIssue: _propTypes2.default.func.isRequired,
  cart: _propTypes2.default.array.isRequired, //is cart required here?
  ownerPrefix: _propTypes2.default.string.isRequired,
  asyncSearchRecords: _propTypes2.default.func.isRequired,
  search: _propTypes2.default.object.isRequired,
  asyncGetItem: _propTypes2.default.func.isRequired
}, _temp);
exports.default = Publication;


function DeleteConfirmModal(_ref3) {
  var confirm = _ref3.confirm,
      selections = _ref3.selections,
      close = _ref3.close;


  var selectionNames = selections.reduce(function (accumulator, currentValue, index) {
    var title = currentValue && currentValue.article && currentValue.article.status === 'draft' ? currentValue.article.title.title : '';
    if (!accumulator && title) return title;
    if (accumulator && title) return accumulator + ', ' + title;else return accumulator;
  }, '');

  return _react2.default.createElement(
    'div',
    { className: 'actionModal', __source: {
        fileName: _jsxFileName,
        lineNumber: 232
      },
      __self: this
    },
    _react2.default.createElement(
      'div',
      { className: 'messageHolder', __source: {
          fileName: _jsxFileName,
          lineNumber: 233
        },
        __self: this
      },
      _react2.default.createElement(
        'h4',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 234
          },
          __self: this
        },
        'Do you want to remove the selected records? Record data in draft state will be deleted.'
      ),
      _react2.default.createElement('br', {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 235
        },
        __self: this
      }),
      _react2.default.createElement('br', {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 235
        },
        __self: this
      }),
      _react2.default.createElement(
        'p',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 236
          },
          __self: this
        },
        '- ' + (selectionNames ? selectionNames : 'No records in draft state')
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'buttonTable', __source: {
          fileName: _jsxFileName,
          lineNumber: 238
        },
        __self: this
      },
      _react2.default.createElement(
        'div',
        { className: 'tableRow', __source: {
            fileName: _jsxFileName,
            lineNumber: 239
          },
          __self: this
        },
        _react2.default.createElement('div', { className: 'leftCell', __source: {
            fileName: _jsxFileName,
            lineNumber: 240
          },
          __self: this
        }),
        _react2.default.createElement(
          'div',
          { className: 'rightCell', __source: {
              fileName: _jsxFileName,
              lineNumber: 241
            },
            __self: this
          },
          _react2.default.createElement(
            'button',
            { className: 'leftButton', onClick: close, __source: {
                fileName: _jsxFileName,
                lineNumber: 242
              },
              __self: this
            },
            'Cancel'
          ),
          _react2.default.createElement(
            'button',
            { className: 'rightButton', onClick: confirm, __source: {
                fileName: _jsxFileName,
                lineNumber: 243
              },
              __self: this
            },
            'Remove'
          )
        )
      )
    )
  );
}

var emptyObject = {};
var emptyArray = [];

});

require.register("components/Publication/titleBar.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/Publication/titleBar.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _my_decorators = require('my_decorators');

var _searchRecords = require('../searchRecords');

var _searchRecords2 = _interopRequireDefault(_searchRecords);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TitleBar = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(TitleBar, _Component);

  function TitleBar() {
    (0, _classCallCheck3.default)(this, TitleBar);
    return (0, _possibleConstructorReturn3.default)(this, (TitleBar.__proto__ || (0, _getPrototypeOf2.default)(TitleBar)).apply(this, arguments));
  }

  (0, _createClass3.default)(TitleBar, [{
    key: 'render',
    value: function render() {
      var publicationMessage = this.props.publicationMessage;

      var title = (publicationMessage.title || {}).title || '';

      return _react2.default.createElement(
        'div',
        { className: 'publication-title', __source: {
            fileName: _jsxFileName,
            lineNumber: 25
          },
          __self: this
        },
        _react2.default.createElement(
          'h1',
          {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 26
            },
            __self: this
          },
          title
        ),
        _react2.default.createElement(_searchRecords2.default, {
          reduxControlModal: this.props.reduxControlModal,
          asyncSearchRecords: this.props.asyncSearchRecords,
          search: this.props.search, pubTitle: title,
          asyncGetItem: this.props.asyncGetItem,
          publication: this.props.publication,
          postIssue: this.props.postIssue,
          asyncGetPublications: this.props.asyncGetPublications, __source: {
            fileName: _jsxFileName,
            lineNumber: 27
          },
          __self: this
        })
      );
    }
  }]);
  return TitleBar;
}(_react.Component), _class.propTypes = {
  publicationMessage: _propTypes2.default.object.isRequired,
  asyncSearchRecords: _propTypes2.default.func.isRequired,
  search: _propTypes2.default.object.isRequired,
  asyncGetItem: _propTypes2.default.func.isRequired,
  reduxControlModal: _propTypes2.default.func.isRequired,
  postIssue: _propTypes2.default.func.isRequired,
  publication: _propTypes2.default.object.isRequired,
  asyncGetPublications: _propTypes2.default.func.isRequired
}, _temp);
exports.default = TitleBar;

});

require.register("components/SubItems/AdditionalInformation/index.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = undefined;

var _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _jsxFileName = 'app/components/SubItems/AdditionalInformation/index.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactToggleSwitch = require('react-toggle-switch');

var _reactToggleSwitch2 = _interopRequireDefault(_reactToggleSwitch);

var _my_decorators = require('my_decorators');

var _immutabilityHelper = require('immutability-helper');

var _immutabilityHelper2 = _interopRequireDefault(_immutabilityHelper);

var _archiveLocations = require('../../../utilities/archiveLocations');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Languages = require('../../../utilities/language.json');


var PublicationTypes = require('../../../utilities/publicationTypes.json');

var AdditionalInformation = function (_Component) {
    (0, _inherits3.default)(AdditionalInformation, _Component);

    function AdditionalInformation(props) {
        (0, _classCallCheck3.default)(this, AdditionalInformation);

        var _this = (0, _possibleConstructorReturn3.default)(this, (AdditionalInformation.__proto__ || (0, _getPrototypeOf2.default)(AdditionalInformation)).call(this, props));

        _this.handleAddInfo = function () {
            _this.props.handler({
                addInfo: (0, _immutabilityHelper2.default)(_this.props.addInfo, { $set: {
                        archiveLocation: _this.refs.archiveLocation.value,
                        language: _this.refs.language.value,
                        publicationType: _this.refs.publicationType.value,
                        similarityCheckURL: _this.refs.similarityCheckURL.value,
                        freetolicense: _this.state.on ? 'yes' : 'no'
                    } })
            });
        };

        _this.state = {
            on: false
        };
        return _this;
    }

    (0, _createClass3.default)(AdditionalInformation, [{
        key: 'componentWillMount',
        value: function componentWillMount() {
            if (this.props.addInfo.freetolicense === 'yes') {
                this.setState({
                    on: true
                });
            }
        }
    }, {
        key: 'displayLanguages',
        value: function displayLanguages() {
            var _this2 = this;

            var languages = [_react2.default.createElement('option', { key: '-1', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 30
                },
                __self: this
            })].concat((0, _toConsumableArray3.default)(Languages.map(function (language, i) {
                return _react2.default.createElement(
                    'option',
                    { key: i, value: language.abbr, __source: {
                            fileName: _jsxFileName,
                            lineNumber: 31
                        },
                        __self: _this2
                    },
                    language.name
                );
            })));

            return _react2.default.createElement(
                'select',
                {
                    ref: 'language',
                    onChange: this.handleAddInfo,
                    className: 'height32',
                    value: this.props.addInfo.language,
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 35
                    },
                    __self: this
                },
                languages
            );
        }
    }, {
        key: 'displayArchiveLocations',
        value: function displayArchiveLocations() {
            var _this3 = this;

            var locations = [_react2.default.createElement('option', { key: '-1', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 48
                },
                __self: this
            })].concat((0, _toConsumableArray3.default)(_archiveLocations.ArchiveLocations.map(function (location, i) {
                return _react2.default.createElement(
                    'option',
                    { key: i, value: location.value, __source: {
                            fileName: _jsxFileName,
                            lineNumber: 49
                        },
                        __self: _this3
                    },
                    location.name
                );
            })));

            return _react2.default.createElement(
                'select',
                {
                    ref: 'archiveLocation',
                    onChange: this.handleAddInfo,
                    className: 'height32',
                    value: this.props.addInfo.archiveLocation,
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 53
                    },
                    __self: this
                },
                locations
            );
        }
    }, {
        key: 'displayPublicationTypes',
        value: function displayPublicationTypes() {
            var _this4 = this;

            var publicationType = [_react2.default.createElement('option', { key: '-1', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 66
                },
                __self: this
            })].concat((0, _toConsumableArray3.default)(PublicationTypes.map(function (pubtype, i) {
                return _react2.default.createElement(
                    'option',
                    { key: i, value: pubtype.value, __source: {
                            fileName: _jsxFileName,
                            lineNumber: 67
                        },
                        __self: _this4
                    },
                    pubtype.name
                );
            })));

            return _react2.default.createElement(
                'select',
                {
                    ref: 'publicationType',
                    onChange: this.handleAddInfo,
                    className: 'height32',
                    value: this.props.addInfo.publicationType,
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 71
                    },
                    __self: this
                },
                publicationType
            );
        }
    }, {
        key: 'render',
        value: function render() {
            var _this5 = this;

            return _react2.default.createElement(
                'div',
                { className: 'noAddable', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 96
                    },
                    __self: this
                },
                _react2.default.createElement(
                    'div',
                    {
                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 97
                        },
                        __self: this
                    },
                    _react2.default.createElement(
                        'div',
                        { className: 'row', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 98
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'div',
                            { className: 'fieldHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 99
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 100
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 101
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 102
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 103
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 104
                                                },
                                                __self: this
                                            },
                                            'Similarity Check URL'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 107
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 108
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 109
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 112
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('input', {
                                            className: 'height32',
                                            type: 'text',
                                            ref: 'similarityCheckURL',
                                            onChange: this.handleAddInfo,
                                            value: this.props.addInfo.similarityCheckURL,
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 113
                                            },
                                            __self: this
                                        })
                                    )
                                )
                            ),
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 123
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 124
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 125
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 126
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 127
                                                },
                                                __self: this
                                            },
                                            'Archive Location'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 130
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 131
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 132
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 135
                                            },
                                            __self: this
                                        },
                                        this.displayArchiveLocations()
                                    )
                                )
                            )
                        ),
                        _react2.default.createElement('div', { className: 'errorHolder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 141
                            },
                            __self: this
                        })
                    ),
                    _react2.default.createElement(
                        'div',
                        { className: 'row', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 144
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'div',
                            { className: 'fieldHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 145
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 146
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 147
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 148
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 149
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 150
                                                },
                                                __self: this
                                            },
                                            'Language'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 153
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 154
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 155
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 158
                                            },
                                            __self: this
                                        },
                                        this.displayLanguages()
                                    )
                                )
                            ),
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 163
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 164
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 165
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 166
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 167
                                                },
                                                __self: this
                                            },
                                            'Publication Type'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 170
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 171
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 172
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 175
                                            },
                                            __self: this
                                        },
                                        this.displayPublicationTypes()
                                    )
                                )
                            )
                        ),
                        _react2.default.createElement('div', { className: 'errorHolder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 181
                            },
                            __self: this
                        })
                    ),
                    _react2.default.createElement(
                        'div',
                        { className: 'row', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 184
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'div',
                            { className: 'fieldHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 185
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 186
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 187
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 188
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 189
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 190
                                                },
                                                __self: this
                                            },
                                            '\xA0'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 193
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 194
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'switchOuterHolder', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 195
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement(
                                                'div',
                                                { className: 'switchInnerHolder', __source: {
                                                        fileName: _jsxFileName,
                                                        lineNumber: 196
                                                    },
                                                    __self: this
                                                },
                                                _react2.default.createElement(
                                                    'div',
                                                    {
                                                        __source: {
                                                            fileName: _jsxFileName,
                                                            lineNumber: 197
                                                        },
                                                        __self: this
                                                    },
                                                    '\xA0'
                                                ),
                                                _react2.default.createElement(
                                                    'div',
                                                    { className: 'switchLicense', __source: {
                                                            fileName: _jsxFileName,
                                                            lineNumber: 198
                                                        },
                                                        __self: this
                                                    },
                                                    _react2.default.createElement(
                                                        'div',
                                                        { className: 'switchLabel', __source: {
                                                                fileName: _jsxFileName,
                                                                lineNumber: 199
                                                            },
                                                            __self: this
                                                        },
                                                        _react2.default.createElement(
                                                            'span',
                                                            {
                                                                __source: {
                                                                    fileName: _jsxFileName,
                                                                    lineNumber: 199
                                                                },
                                                                __self: this
                                                            },
                                                            'Free to License'
                                                        )
                                                    ),
                                                    _react2.default.createElement(_reactToggleSwitch2.default, {
                                                        ref: 'freetolicense',
                                                        onClick: function onClick() {
                                                            _this5.setState({ on: !_this5.state.on }, _this5.handleAddInfo);
                                                        },
                                                        on: this.state.on,
                                                        __source: {
                                                            fileName: _jsxFileName,
                                                            lineNumber: 200
                                                        },
                                                        __self: this
                                                    })
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    ),
                    _react2.default.createElement('div', { className: 'errorHolder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 215
                        },
                        __self: this
                    })
                )
            );
        }
    }]);
    return AdditionalInformation;
}(_react.Component);

exports.default = AdditionalInformation;

});

require.register("components/SubItems/Contributor/index.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = undefined;

var _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _defineProperty2 = require('babel-runtime/helpers/defineProperty');

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _jsxFileName = 'app/components/SubItems/Contributor/index.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _immutabilityHelper = require('immutability-helper');

var _immutabilityHelper2 = _interopRequireDefault(_immutabilityHelper);

var _my_decorators = require('my_decorators');

var _roles = require('../../../utilities/roles.js');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Contributor = function (_Component) {
    (0, _inherits3.default)(Contributor, _Component);

    function Contributor(props) {
        (0, _classCallCheck3.default)(this, Contributor);

        var _this = (0, _possibleConstructorReturn3.default)(this, (Contributor.__proto__ || (0, _getPrototypeOf2.default)(Contributor)).call(this, props));

        _this.toggle = function () {
            _this.setState({
                showSubItem: !_this.state.showSubItem
            });
        };

        _this.handleContributor = function () {
            var contributor = {};
            for (var i in _this.refs) {
                if (_this.refs[i]) {
                    contributor[i] = _this.refs[i].value;
                }
            }

            _this.props.handler({ // this situation, state did NOT update immediately to see change, must pass in a call back
                contributors: (0, _immutabilityHelper2.default)(_this.props.data, (0, _defineProperty3.default)({}, _this.props.index, { $set: contributor }))
            });
        };

        var index = _this.props.index;

        _this.state = {
            showSubItem: index === 0 ? true : false
        };
        return _this;
    }

    (0, _createClass3.default)(Contributor, [{
        key: 'displayRoles',
        value: function displayRoles(ref) {
            var _this2 = this;

            var roles = [_react2.default.createElement('option', { key: '-1', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 26
                },
                __self: this
            })].concat((0, _toConsumableArray3.default)(_roles.Roles.map(function (role, i) {
                return _react2.default.createElement(
                    'option',
                    { key: i, value: role.value, __source: {
                            fileName: _jsxFileName,
                            lineNumber: 27
                        },
                        __self: _this2
                    },
                    role.name
                );
            })));

            return _react2.default.createElement(
                'select',
                {
                    ref: ref,
                    onChange: this.handleContributor,
                    className: 'height32',
                    value: this.props.contributor[ref],
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 31
                    },
                    __self: this
                },
                roles
            );
        }
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            return _react2.default.createElement(
                'div',
                {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 57
                    },
                    __self: this
                },
                _react2.default.createElement(
                    'div',
                    { className: 'row subItemRow', onClick: this.toggle, __source: {
                            fileName: _jsxFileName,
                            lineNumber: 58
                        },
                        __self: this
                    },
                    _react2.default.createElement(
                        'div',
                        { className: 'subItemHeader subItemTitle', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 59
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'span',
                            { className: 'arrowHolder' + (this.state.showSubItem ? ' openArrowHolder' : ''), __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 60
                                },
                                __self: this
                            },
                            _react2.default.createElement('img', { src: 'images/AddArticle/DarkTriangle.svg', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 61
                                },
                                __self: this
                            })
                        ),
                        _react2.default.createElement(
                            'span',
                            {
                                __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 63
                                },
                                __self: this
                            },
                            'Contributor ',
                            this.props.index + 1
                        )
                    ),
                    this.props.index > 0 && _react2.default.createElement(
                        'div',
                        { className: 'subItemHeader subItemButton', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 66
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'a',
                            { onClick: function onClick() {
                                    _this3.props.remove(_this3.props.index);
                                }, __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 67
                                },
                                __self: this
                            },
                            'Remove'
                        )
                    )
                ),
                this.state.showSubItem && _react2.default.createElement(
                    'div',
                    {
                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 72
                        },
                        __self: this
                    },
                    _react2.default.createElement(
                        'div',
                        { className: 'row', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 73
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'div',
                            { className: 'fieldHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 74
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 75
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 76
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 77
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 78
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 79
                                                },
                                                __self: this
                                            },
                                            'First Name'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 82
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 83
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 84
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 87
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('input', {
                                            className: 'height32',
                                            type: 'text',
                                            ref: 'firstName',
                                            onChange: this.handleContributor,
                                            value: this.props.contributor.firstName,
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 88
                                            },
                                            __self: this
                                        })
                                    )
                                )
                            ),
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 98
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 99
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 100
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 101
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 102
                                                },
                                                __self: this
                                            },
                                            'Last Name'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 105
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 106
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 107
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 110
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('input', {
                                            className: 'height32',
                                            type: 'text',
                                            ref: 'lastName',
                                            onChange: this.handleContributor,
                                            value: this.props.contributor.lastName,
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 111
                                            },
                                            __self: this
                                        })
                                    )
                                )
                            )
                        ),
                        _react2.default.createElement('div', { className: 'errorHolder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 122
                            },
                            __self: this
                        })
                    ),
                    _react2.default.createElement(
                        'div',
                        { className: 'row', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 125
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'div',
                            { className: 'fieldHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 126
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 127
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 128
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 129
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 130
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 131
                                                },
                                                __self: this
                                            },
                                            'Suffix'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 134
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 135
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 136
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 139
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('input', {
                                            className: 'height32',
                                            type: 'text',
                                            ref: 'suffix',
                                            onChange: this.handleContributor,
                                            value: this.props.contributor.suffix,
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 140
                                            },
                                            __self: this
                                        })
                                    )
                                )
                            ),
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 150
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 151
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 152
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 153
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 154
                                                },
                                                __self: this
                                            },
                                            'Affiliation'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 157
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 158
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 159
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 162
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('input', {
                                            className: 'height32',
                                            type: 'text',
                                            ref: 'affiliation',
                                            onChange: this.handleContributor,
                                            value: this.props.contributor.affiliation,
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 163
                                            },
                                            __self: this
                                        })
                                    )
                                )
                            )
                        ),
                        _react2.default.createElement('div', { className: 'errorHolder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 174
                            },
                            __self: this
                        })
                    ),
                    _react2.default.createElement(
                        'div',
                        { className: 'row', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 177
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'div',
                            { className: 'fieldHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 178
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 179
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 180
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 181
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 182
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 183
                                                },
                                                __self: this
                                            },
                                            'ORCID'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 186
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 187
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 188
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 191
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('input', {
                                            className: 'height32',
                                            type: 'text',
                                            ref: 'orcid',
                                            onChange: this.handleContributor,
                                            value: this.props.contributor.orcid,
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 192
                                            },
                                            __self: this
                                        })
                                    )
                                )
                            ),
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 202
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 203
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 204
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 205
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 206
                                                },
                                                __self: this
                                            },
                                            'Role'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 209
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 210
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 211
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 214
                                            },
                                            __self: this
                                        },
                                        this.displayRoles('role')
                                    )
                                )
                            )
                        ),
                        _react2.default.createElement('div', { className: 'errorHolder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 220
                            },
                            __self: this
                        })
                    ),
                    _react2.default.createElement(
                        'div',
                        { className: 'row', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 223
                            },
                            __self: this
                        },
                        _react2.default.createElement('hr', {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 224
                            },
                            __self: this
                        })
                    ),
                    _react2.default.createElement(
                        'div',
                        { className: 'row', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 226
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'div',
                            { className: 'fieldHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 227
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 228
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 229
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 230
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 231
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 232
                                                },
                                                __self: this
                                            },
                                            'Group Author Name'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 235
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 236
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 237
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 240
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('input', {
                                            className: 'height32',
                                            type: 'text',
                                            ref: 'groupAuthorName',
                                            onChange: this.handleContributor,
                                            value: this.props.contributor.groupAuthorName,
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 241
                                            },
                                            __self: this
                                        })
                                    )
                                )
                            ),
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 251
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 252
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 253
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 254
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 255
                                                },
                                                __self: this
                                            },
                                            'Group Author Role'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 258
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 259
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 260
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 263
                                            },
                                            __self: this
                                        },
                                        this.displayRoles('groupAuthorRole')
                                    )
                                )
                            )
                        ),
                        _react2.default.createElement('div', { className: 'errorHolder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 269
                            },
                            __self: this
                        })
                    )
                )
            );
        }
    }]);
    return Contributor;
}(_react.Component);

exports.default = Contributor;

});

require.register("components/SubItems/Crossmark/crossmark.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CrossmarkCards = exports.CrossmarkAddButton = undefined;

var _keys = require('babel-runtime/core-js/object/keys');

var _keys2 = _interopRequireDefault(_keys);

var _jsxFileName = 'app/components/SubItems/Crossmark/crossmark.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _my_decorators = require('my_decorators');

var _crossmarkCards = require('./crossmarkCards');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var crossmarkCardSelector = {
  'Publication History': _crossmarkCards.PublicationHistory,
  'Peer Review': _crossmarkCards.PeerReview,
  'Copyright & Licensing': _crossmarkCards.Copyright,
  'Supplementary Material': _crossmarkCards.SupplementaryMaterial,
  'Other': _crossmarkCards.Other,
  'Linked Clinical Trials': _crossmarkCards.ClinicalTrials,
  'Status Update': _crossmarkCards.StatusUpdate
};

var CrossmarkAddButton = exports.CrossmarkAddButton = function CrossmarkAddButton(_ref) {
  var showSection = _ref.showSection,
      toggle = _ref.toggle,
      addList = _ref.addList,
      toggleAdd = _ref.toggleAdd,
      addCrossmarkCard = _ref.addCrossmarkCard;
  return _react2.default.createElement(
    'div',
    { className: 'addholder', __source: {
        fileName: _jsxFileName,
        lineNumber: 19
      },
      __self: undefined
    },
    _react2.default.createElement(
      'a',
      { className: 'tooltips', onClick: function onClick() {
          if (!showSection) {
            toggle();
          }
          toggleAdd();
        }, __source: {
          fileName: _jsxFileName,
          lineNumber: 20
        },
        __self: undefined
      },
      'Add New',
      addList && _react2.default.createElement(
        'div',
        { className: 'crossmarkAddList', __source: {
            fileName: _jsxFileName,
            lineNumber: 27
          },
          __self: undefined
        },
        (0, _keys2.default)(crossmarkCardSelector).map(function (value, index) {
          return _react2.default.createElement(
            'a',
            { className: 'crossmark', onClick: function onClick() {
                addCrossmarkCard(value);
              }, key: index, __source: {
                fileName: _jsxFileName,
                lineNumber: 29
              },
              __self: undefined
            },
            value
          );
        })
      )
    )
  );
};

var CrossmarkCards = exports.CrossmarkCards = function CrossmarkCards(_ref2) {
  var makeDateDropDown = _ref2.makeDateDropDown,
      removeCrossmarkCard = _ref2.removeCrossmarkCard,
      crossmarkCards = _ref2.crossmarkCards,
      errors = _ref2.errors;

  var crossmarkCardKeys = (0, _keys2.default)(crossmarkCards);
  return _react2.default.createElement(
    'div',
    {
      __source: {
        fileName: _jsxFileName,
        lineNumber: 40
      },
      __self: undefined
    },
    !crossmarkCardKeys.length && _react2.default.createElement(_crossmarkCards.Blank, {
      __source: {
        fileName: _jsxFileName,
        lineNumber: 41
      },
      __self: undefined
    }),
    crossmarkCardKeys.map(function (cardName, index) {
      var Card = crossmarkCardSelector[cardName];
      return crossmarkCards[cardName] ? _react2.default.createElement(Card, { key: cardName + '-' + index, number: crossmarkCards[cardName] - 1, remove: function remove() {
          return removeCrossmarkCard(cardName);
        }, errors: errors, __source: {
          fileName: _jsxFileName,
          lineNumber: 44
        },
        __self: undefined
      }) : null;
    })
  );
};

});

require.register("components/SubItems/Crossmark/crossmarkCards.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ClinicalTrials = exports.StatusUpdate = exports.Other = exports.SupplementaryMaterial = exports.Copyright = exports.PeerReview = exports.PublicationHistory = exports.Blank = undefined;

var _keys = require('babel-runtime/core-js/object/keys');

var _keys2 = _interopRequireDefault(_keys);

var _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _defineProperty2 = require('babel-runtime/helpers/defineProperty');

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _jsxFileName = 'app/components/SubItems/Crossmark/crossmarkCards.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reduxTextInput = require('./reduxTextInput');

var _reduxTextInput2 = _interopRequireDefault(_reduxTextInput);

var _reduxSelectInput = require('./reduxSelectInput');

var _reduxSelectInput2 = _interopRequireDefault(_reduxSelectInput);

var _date = require('../../../utilities/date');

var _date2 = _interopRequireDefault(_date);

var _crossmarkHelpers = require('../../../utilities/crossmarkHelpers');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Blank = exports.Blank = function (_Component) {
  (0, _inherits3.default)(Blank, _Component);

  function Blank() {
    (0, _classCallCheck3.default)(this, Blank);
    return (0, _possibleConstructorReturn3.default)(this, (Blank.__proto__ || (0, _getPrototypeOf2.default)(Blank)).apply(this, arguments));
  }

  (0, _createClass3.default)(Blank, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'optionalissueiinfo', __source: {
            fileName: _jsxFileName,
            lineNumber: 12
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'innerCardHolder', __source: {
              fileName: _jsxFileName,
              lineNumber: 13
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'row subItemRow', __source: {
                fileName: _jsxFileName,
                lineNumber: 14
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'subItemHeader subItemTitle', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 15
                },
                __self: this
              },
              _react2.default.createElement(
                'span',
                {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 16
                  },
                  __self: this
                },
                'Please add a card'
              )
            )
          )
        )
      );
    }
  }]);
  return Blank;
}(_react.Component);

function generateCard(name, fields) {
  return function (_Component2) {
    (0, _inherits3.default)(crossmarkCard, _Component2);

    function crossmarkCard() {
      var _ref;

      var _temp, _this2, _ret;

      (0, _classCallCheck3.default)(this, crossmarkCard);

      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      return _ret = (_temp = (_this2 = (0, _possibleConstructorReturn3.default)(this, (_ref = crossmarkCard.__proto__ || (0, _getPrototypeOf2.default)(crossmarkCard)).call.apply(_ref, [this].concat(args))), _this2), _this2.state = { number: _this2.props.number || 0 }, _this2.renderFields = function () {
        var errors = _this2.props.errors || {};

        var fieldArray = [];
        var i = 0;
        while (i <= _this2.state.number) {
          fieldArray.push(fields(i, errors, _this2));i++;
        }return fieldArray;
      }, _this2.requireHandler = function (i, e) {
        if (e.target.value) _this2.setState((0, _defineProperty3.default)({}, 'require_' + i, true));else if (e.target.value === '') _this2.setState((0, _defineProperty3.default)({}, 'require_' + i, false));
      }, _temp), (0, _possibleConstructorReturn3.default)(_this2, _ret);
    }

    (0, _createClass3.default)(crossmarkCard, [{
      key: 'render',
      value: function render() {
        var _this3 = this;

        return _react2.default.createElement(
          'div',
          { className: 'optionalissueiinfo', __source: {
              fileName: _jsxFileName,
              lineNumber: 46
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'innerCardHolder', __source: {
                fileName: _jsxFileName,
                lineNumber: 47
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'row subItemRow', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 48
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'subItemHeader subItemTitle', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 50
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'span',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 51
                    },
                    __self: this
                  },
                  name
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'subItemHeader subItemButton', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 54
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'a',
                  { onClick: this.props.remove, __source: {
                      fileName: _jsxFileName,
                      lineNumber: 55
                    },
                    __self: this
                  },
                  'Remove'
                )
              )
            ),
            this.renderFields(),
            _react2.default.createElement(
              'button',
              { type: 'button', onClick: function onClick() {
                  return _this3.setState({ number: _this3.state.number + 1 });
                }, className: 'addFields', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 61
                },
                __self: this
              },
              'Add'
            )
          )
        );
      }
    }]);
    return crossmarkCard;
  }(_react.Component);
}

var PublicationHistory = exports.PublicationHistory = generateCard('Publication History', function fields(i, errors) {
  return _react2.default.createElement(
    'div',
    { key: i, className: 'row', __source: {
        fileName: _jsxFileName,
        lineNumber: 71
      },
      __self: this
    },
    _react2.default.createElement(
      'div',
      { className: 'fieldHolder', __source: {
          fileName: _jsxFileName,
          lineNumber: 72
        },
        __self: this
      },
      _react2.default.createElement(Selector, { title: '', name: 'pubHist_' + i + '_label', style: 'dateAlignSelect', options: ['', 'Received', 'Accepted', 'Published Online', 'Published Print'], __source: {
          fileName: _jsxFileName,
          lineNumber: 73
        },
        __self: this
      }),
      _react2.default.createElement(Date, { title: 'Date', name: 'pubHist_' + i, __source: {
          fileName: _jsxFileName,
          lineNumber: 74
        },
        __self: this
      })
    ),
    _react2.default.createElement('div', { className: 'errorHolder', __source: {
        fileName: _jsxFileName,
        lineNumber: 76
      },
      __self: this
    })
  );
});

var PeerReview = exports.PeerReview = generateCard('Peer Review', function fields(i, errors) {
  return _react2.default.createElement(
    'div',
    { key: i, __source: {
        fileName: _jsxFileName,
        lineNumber: 83
      },
      __self: this
    },
    _react2.default.createElement(
      'div',
      { className: 'row', __source: {
          fileName: _jsxFileName,
          lineNumber: 84
        },
        __self: this
      },
      _react2.default.createElement(
        'div',
        { className: 'fieldHolder', __source: {
            fileName: _jsxFileName,
            lineNumber: 85
          },
          __self: this
        },
        _react2.default.createElement(Selector, { title: '', name: 'peer_' + i + '_label', style: 'textAlignSelect', options: ['', 'Peer reviewed', 'Review Process'], __source: {
            fileName: _jsxFileName,
            lineNumber: 86
          },
          __self: this
        }),
        _react2.default.createElement(TextInput, { title: 'Description', name: 'peer_' + i + '_explanation', __source: {
            fileName: _jsxFileName,
            lineNumber: 87
          },
          __self: this
        })
      ),
      _react2.default.createElement('div', { className: 'errorHolder', __source: {
          fileName: _jsxFileName,
          lineNumber: 89
        },
        __self: this
      })
    ),
    _react2.default.createElement(
      'div',
      { className: 'row', __source: {
          fileName: _jsxFileName,
          lineNumber: 92
        },
        __self: this
      },
      _react2.default.createElement(
        'div',
        { className: 'fieldHolder', __source: {
            fileName: _jsxFileName,
            lineNumber: 93
          },
          __self: this
        },
        _react2.default.createElement(TextInput, { title: 'URL', name: 'peer_' + i + '_href', style: 'floatRight', error: errors['peer_' + i + '_href'], __source: {
            fileName: _jsxFileName,
            lineNumber: 94
          },
          __self: this
        })
      ),
      _react2.default.createElement('div', { className: 'errorHolder', __source: {
          fileName: _jsxFileName,
          lineNumber: 96
        },
        __self: this
      })
    )
  );
});

var Copyright = exports.Copyright = generateCard('Copyright & Licensing', function fields(i, errors) {
  return _react2.default.createElement(
    'div',
    { key: i, __source: {
        fileName: _jsxFileName,
        lineNumber: 104
      },
      __self: this
    },
    _react2.default.createElement(
      'div',
      { className: 'row', __source: {
          fileName: _jsxFileName,
          lineNumber: 105
        },
        __self: this
      },
      _react2.default.createElement(
        'div',
        { className: 'fieldHolder', __source: {
            fileName: _jsxFileName,
            lineNumber: 106
          },
          __self: this
        },
        _react2.default.createElement(Selector, { title: '', name: 'copyright_' + i + '_label', style: 'textAlignSelect', options: ['', 'Copyright Statement', 'Licensing Information'], __source: {
            fileName: _jsxFileName,
            lineNumber: 107
          },
          __self: this
        }),
        _react2.default.createElement(TextInput, { title: 'Description', name: 'copyright_' + i + '_explanation', __source: {
            fileName: _jsxFileName,
            lineNumber: 108
          },
          __self: this
        })
      ),
      _react2.default.createElement('div', { className: 'errorHolder', __source: {
          fileName: _jsxFileName,
          lineNumber: 110
        },
        __self: this
      })
    ),
    _react2.default.createElement(
      'div',
      { className: 'row', __source: {
          fileName: _jsxFileName,
          lineNumber: 113
        },
        __self: this
      },
      _react2.default.createElement(
        'div',
        { className: 'fieldHolder', __source: {
            fileName: _jsxFileName,
            lineNumber: 114
          },
          __self: this
        },
        _react2.default.createElement(TextInput, { title: 'URL', name: 'copyright_' + i + '_href', style: 'floatRight', error: errors['copyright_' + i + '_href'], __source: {
            fileName: _jsxFileName,
            lineNumber: 115
          },
          __self: this
        })
      ),
      _react2.default.createElement('div', { className: 'errorHolder', __source: {
          fileName: _jsxFileName,
          lineNumber: 117
        },
        __self: this
      })
    )
  );
});

var SupplementaryMaterial = exports.SupplementaryMaterial = generateCard('Supplementary Material', function fields(i, errors) {
  return _react2.default.createElement(
    'div',
    { key: i, className: 'row', __source: {
        fileName: _jsxFileName,
        lineNumber: 125
      },
      __self: this
    },
    _react2.default.createElement(
      'div',
      { className: 'fieldHolder', __source: {
          fileName: _jsxFileName,
          lineNumber: 126
        },
        __self: this
      },
      _react2.default.createElement(TextInput, { title: 'Description', name: 'supp_' + i + '_explanation', __source: {
          fileName: _jsxFileName,
          lineNumber: 127
        },
        __self: this
      }),
      _react2.default.createElement(TextInput, { title: 'URL', name: 'supp_' + i + '_href', error: errors['supp_' + i + '_href'], __source: {
          fileName: _jsxFileName,
          lineNumber: 128
        },
        __self: this
      })
    ),
    _react2.default.createElement('div', { className: 'errorHolder', __source: {
        fileName: _jsxFileName,
        lineNumber: 130
      },
      __self: this
    })
  );
});

var Other = exports.Other = generateCard('Other', function fields(i, errors) {
  return _react2.default.createElement(
    'div',
    { key: i, __source: {
        fileName: _jsxFileName,
        lineNumber: 137
      },
      __self: this
    },
    _react2.default.createElement(
      'div',
      { className: 'row', __source: {
          fileName: _jsxFileName,
          lineNumber: 138
        },
        __self: this
      },
      _react2.default.createElement(
        'div',
        { className: 'fieldHolder', __source: {
            fileName: _jsxFileName,
            lineNumber: 139
          },
          __self: this
        },
        _react2.default.createElement(TextInput, { title: 'Label ' + (i + 1), name: 'other_' + i + '_label', __source: {
            fileName: _jsxFileName,
            lineNumber: 140
          },
          __self: this
        }),
        _react2.default.createElement(TextInput, { title: 'Description', name: 'other_' + i + '_explanation', __source: {
            fileName: _jsxFileName,
            lineNumber: 141
          },
          __self: this
        })
      ),
      _react2.default.createElement('div', { className: 'errorHolder', __source: {
          fileName: _jsxFileName,
          lineNumber: 143
        },
        __self: this
      })
    ),
    _react2.default.createElement(
      'div',
      { className: 'row', __source: {
          fileName: _jsxFileName,
          lineNumber: 146
        },
        __self: this
      },
      _react2.default.createElement(
        'div',
        { className: 'fieldHolder', __source: {
            fileName: _jsxFileName,
            lineNumber: 147
          },
          __self: this
        },
        _react2.default.createElement(TextInput, { title: 'URL', name: 'other_' + i + '_href', style: 'floatRight', error: errors['other_' + i + '_href'], __source: {
            fileName: _jsxFileName,
            lineNumber: 148
          },
          __self: this
        })
      ),
      _react2.default.createElement('div', { className: 'errorHolder', __source: {
          fileName: _jsxFileName,
          lineNumber: 150
        },
        __self: this
      })
    )
  );
});

var StatusUpdate = exports.StatusUpdate = generateCard('Status Update', function fields(i, errors, card) {
  return _react2.default.createElement(
    'div',
    { key: i, __source: {
        fileName: _jsxFileName,
        lineNumber: 158
      },
      __self: this
    },
    _react2.default.createElement(
      'div',
      { className: 'row', __source: {
          fileName: _jsxFileName,
          lineNumber: 159
        },
        __self: this
      },
      _react2.default.createElement(
        'div',
        { className: 'fieldHolder', __source: {
            fileName: _jsxFileName,
            lineNumber: 160
          },
          __self: this
        },
        _react2.default.createElement(Selector, { handler: card.requireHandler.bind(null, i), title: 'Update Type (Required)', name: 'update_' + i + '_type', style: 'textAlignSelect', options: [''].concat((0, _toConsumableArray3.default)(_crossmarkHelpers.updateTypes)), __source: {
            fileName: _jsxFileName,
            lineNumber: 161
          },
          __self: this
        }),
        _react2.default.createElement(Date, { title: 'Update Date', name: 'update_' + i, required: card.state['require_' + i], error: errors['update_' + i + '_year'], __source: {
            fileName: _jsxFileName,
            lineNumber: 162
          },
          __self: this
        })
      ),
      _react2.default.createElement('div', { className: 'errorHolder', __source: {
          fileName: _jsxFileName,
          lineNumber: 164
        },
        __self: this
      })
    ),
    _react2.default.createElement(
      'div',
      { className: 'row', __source: {
          fileName: _jsxFileName,
          lineNumber: 167
        },
        __self: this
      },
      _react2.default.createElement(
        'div',
        { className: 'fieldHolder', __source: {
            fileName: _jsxFileName,
            lineNumber: 168
          },
          __self: this
        },
        _react2.default.createElement(TextInput, { title: 'DOI for Update', name: 'update_' + i + '_DOI', required: card.state['require_' + i], error: errors['update_' + i + '_DOI_Invalid'] || errors['update_' + i + '_DOI_Missing'], __source: {
            fileName: _jsxFileName,
            lineNumber: 169
          },
          __self: this
        })
      ),
      _react2.default.createElement('div', { className: 'errorHolder', __source: {
          fileName: _jsxFileName,
          lineNumber: 171
        },
        __self: this
      })
    )
  );
});

var ClinicalTrials = exports.ClinicalTrials = generateCard('Linked Clinical Trials', function fields(i, errors) {
  return _react2.default.createElement(
    'div',
    { key: i, __source: {
        fileName: _jsxFileName,
        lineNumber: 179
      },
      __self: this
    },
    _react2.default.createElement(
      'div',
      { className: 'row', __source: {
          fileName: _jsxFileName,
          lineNumber: 180
        },
        __self: this
      },
      _react2.default.createElement(
        'div',
        { className: 'fieldHolder', __source: {
            fileName: _jsxFileName,
            lineNumber: 181
          },
          __self: this
        },
        _react2.default.createElement(Selector, {
          title: 'Clinical trial registry (Required)',
          name: 'clinical_' + i + '_registry', required: true,
          error: errors['clinical_' + i + '_registry'],
          options: [''].concat((0, _toConsumableArray3.default)((0, _keys2.default)(_crossmarkHelpers.registryDois))), __source: {
            fileName: _jsxFileName,
            lineNumber: 182
          },
          __self: this
        }),
        _react2.default.createElement(TextInput, { title: 'Registered trial number (Required)', name: 'clinical_' + i + '_trialNumber', required: true, error: errors['clinical_' + i + '_trialNumber'], __source: {
            fileName: _jsxFileName,
            lineNumber: 187
          },
          __self: this
        })
      ),
      _react2.default.createElement('div', { className: 'errorHolder', __source: {
          fileName: _jsxFileName,
          lineNumber: 189
        },
        __self: this
      })
    ),
    _react2.default.createElement(
      'div',
      { className: 'row', __source: {
          fileName: _jsxFileName,
          lineNumber: 192
        },
        __self: this
      },
      _react2.default.createElement(
        'div',
        { className: 'fieldHolder', __source: {
            fileName: _jsxFileName,
            lineNumber: 193
          },
          __self: this
        },
        _react2.default.createElement(Selector, { title: 'Relationship of publication to trial', name: 'clinical_' + i + '_type', options: ['', 'Pre-Results', 'Results', 'Post-Results'], __source: {
            fileName: _jsxFileName,
            lineNumber: 194
          },
          __self: this
        })
      ),
      _react2.default.createElement('div', { className: 'errorHolder', __source: {
          fileName: _jsxFileName,
          lineNumber: 196
        },
        __self: this
      })
    )
  );
});

var TextInput = function TextInput(_ref2) {
  var title = _ref2.title,
      name = _ref2.name,
      number = _ref2.number,
      style = _ref2.style,
      required = _ref2.required,
      error = _ref2.error;
  return _react2.default.createElement(
    'div',
    { className: 'fieldinnerholder halflength ' + style, __source: {
        fileName: _jsxFileName,
        lineNumber: 204
      },
      __self: undefined
    },
    _react2.default.createElement(
      'div',
      { className: 'labelholder', __source: {
          fileName: _jsxFileName,
          lineNumber: 205
        },
        __self: undefined
      },
      _react2.default.createElement(
        'div',
        { className: 'labelinnerholder', __source: {
            fileName: _jsxFileName,
            lineNumber: 206
          },
          __self: undefined
        },
        _react2.default.createElement(
          'div',
          { className: 'label', __source: {
              fileName: _jsxFileName,
              lineNumber: 207
            },
            __self: undefined
          },
          title
        )
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'requrefieldholder', __source: {
          fileName: _jsxFileName,
          lineNumber: 210
        },
        __self: undefined
      },
      _react2.default.createElement(
        'div',
        { className: 'requiredholder ' + (!required ? 'norequire' : ''), __source: {
            fileName: _jsxFileName,
            lineNumber: 211
          },
          __self: undefined
        },
        _react2.default.createElement(
          'div',
          { className: 'required height32', __source: {
              fileName: _jsxFileName,
              lineNumber: 212
            },
            __self: undefined
          },
          required && _react2.default.createElement(
            'span',
            {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 213
              },
              __self: undefined
            },
            '*'
          )
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'field', __source: {
            fileName: _jsxFileName,
            lineNumber: 216
          },
          __self: undefined
        },
        _react2.default.createElement(_reduxTextInput2.default, {
          name: name, className: 'height32' + (error ? ' fieldError' : ''), __source: {
            fileName: _jsxFileName,
            lineNumber: 217
          },
          __self: undefined
        })
      )
    )
  );
};

var Selector = function Selector(_ref3) {
  var title = _ref3.title,
      name = _ref3.name,
      number = _ref3.number,
      style = _ref3.style,
      handler = _ref3.handler,
      required = _ref3.required,
      error = _ref3.error,
      _ref3$options = _ref3.options,
      options = _ref3$options === undefined ? ['', 1, 2, 3] : _ref3$options;
  return _react2.default.createElement(
    'div',
    { className: 'fieldinnerholder halflength ' + style, __source: {
        fileName: _jsxFileName,
        lineNumber: 225
      },
      __self: undefined
    },
    _react2.default.createElement(
      'div',
      { className: 'labelholder', __source: {
          fileName: _jsxFileName,
          lineNumber: 226
        },
        __self: undefined
      },
      _react2.default.createElement(
        'div',
        { className: 'labelinnerholder', __source: {
            fileName: _jsxFileName,
            lineNumber: 227
          },
          __self: undefined
        },
        _react2.default.createElement(
          'div',
          { className: 'label', __source: {
              fileName: _jsxFileName,
              lineNumber: 228
            },
            __self: undefined
          },
          title
        )
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'requrefieldholder', __source: {
          fileName: _jsxFileName,
          lineNumber: 231
        },
        __self: undefined
      },
      _react2.default.createElement(
        'div',
        { className: 'requiredholder ' + (!required ? 'norequire' : ''), __source: {
            fileName: _jsxFileName,
            lineNumber: 232
          },
          __self: undefined
        },
        _react2.default.createElement(
          'div',
          { className: 'required height32', __source: {
              fileName: _jsxFileName,
              lineNumber: 233
            },
            __self: undefined
          },
          required && _react2.default.createElement(
            'span',
            {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 234
              },
              __self: undefined
            },
            '*'
          )
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'field', __source: {
            fileName: _jsxFileName,
            lineNumber: 237
          },
          __self: undefined
        },
        _react2.default.createElement(_reduxSelectInput2.default, {
          handler: handler, name: name, className: 'height32' + (error ? ' fieldError' : ''), options: options, __source: {
            fileName: _jsxFileName,
            lineNumber: 238
          },
          __self: undefined
        })
      )
    )
  );
};

var Date = function (_Component3) {
  (0, _inherits3.default)(Date, _Component3);

  function Date() {
    var _ref4;

    var _temp2, _this4, _ret2;

    (0, _classCallCheck3.default)(this, Date);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this4 = (0, _possibleConstructorReturn3.default)(this, (_ref4 = Date.__proto__ || (0, _getPrototypeOf2.default)(Date)).call.apply(_ref4, [this].concat(args))), _this4), _this4.state = { month: '' }, _temp2), (0, _possibleConstructorReturn3.default)(_this4, _ret2);
  }

  (0, _createClass3.default)(Date, [{
    key: 'render',
    value: function render() {
      var _this5 = this;

      var _props = this.props,
          title = _props.title,
          name = _props.name,
          number = _props.number,
          required = _props.required,
          error = _props.error;

      return _react2.default.createElement(
        'div',
        { className: 'fieldinnerholder halflength', __source: {
            fileName: _jsxFileName,
            lineNumber: 252
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'labelholder', __source: {
              fileName: _jsxFileName,
              lineNumber: 253
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'labelinnerholder', __source: {
                fileName: _jsxFileName,
                lineNumber: 254
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'label', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 255
                },
                __self: this
              },
              title
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'requrefieldholder', __source: {
              fileName: _jsxFileName,
              lineNumber: 258
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'requiredholder adjustDateRequire ' + (!required ? 'norequire' : ''), __source: {
                fileName: _jsxFileName,
                lineNumber: 259
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'required height32', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 260
                },
                __self: this
              },
              required && _react2.default.createElement(
                'span',
                {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 260
                  },
                  __self: this
                },
                '*'
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'field', __source: {
                fileName: _jsxFileName,
                lineNumber: 262
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'datepickerholder', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 263
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'dateselectholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 264
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 265
                    },
                    __self: this
                  },
                  'Year'
                ),
                _react2.default.createElement(_reduxSelectInput2.default, {
                  name: name + '_year',
                  className: 'height32 datepickselects ' + (error ? 'fieldError' : ''),
                  options: _date2.default.years, __source: {
                    fileName: _jsxFileName,
                    lineNumber: 266
                  },
                  __self: this
                })
              ),
              _react2.default.createElement(
                'div',
                { className: 'dateselectholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 271
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 272
                    },
                    __self: this
                  },
                  'Month'
                ),
                _react2.default.createElement(_reduxSelectInput2.default, {
                  name: name + '_month',
                  className: 'height32 datepickselects ' + (error ? 'fieldError' : ''),
                  handler: function handler(e) {
                    return _this5.setState({ month: e.target.value });
                  },
                  options: _date2.default.months, __source: {
                    fileName: _jsxFileName,
                    lineNumber: 273
                  },
                  __self: this
                })
              ),
              _react2.default.createElement(
                'div',
                { className: 'dateselectholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 279
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 280
                    },
                    __self: this
                  },
                  'Day'
                ),
                _react2.default.createElement(_reduxSelectInput2.default, {
                  name: name + '_day',
                  className: 'height32 datepickselects ' + (error ? 'fieldError' : ''),
                  options: _date2.default[this.state.month], __source: {
                    fileName: _jsxFileName,
                    lineNumber: 281
                  },
                  __self: this
                })
              )
            )
          )
        )
      );
    }
  }]);
  return Date;
}(_react.Component);

});

require.register("components/SubItems/Crossmark/reduxSelectInput.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _defineProperty2 = require('babel-runtime/helpers/defineProperty');

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec,
    _class,
    _class2,
    _temp2,
    _jsxFileName = 'app/components/SubItems/Crossmark/reduxSelectInput.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redux = require('redux');

var _reactRedux = require('react-redux');

var _application = require('../../../actions/application');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mapStateToProps = function mapStateToProps(state, props) {
  return {
    reduxValue: state.reduxForm[props.name]
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return (0, _redux.bindActionCreators)({
    reduxEditForm: _application.editForm
  }, dispatch);
};

var ReduxSelectInput = (_dec = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps), _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(ReduxSelectInput, _Component);

  function ReduxSelectInput() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ReduxSelectInput);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ReduxSelectInput.__proto__ || (0, _getPrototypeOf2.default)(ReduxSelectInput)).call.apply(_ref, [this].concat(args))), _this), _this.handler = function (e) {
      if (_this.props.handler) _this.props.handler(e);
      _this.props.reduxEditForm((0, _defineProperty3.default)({}, e.target.name, e.target.value));
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ReduxSelectInput, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      return _react2.default.createElement(
        'select',
        {
          className: this.props.className,
          type: 'text',
          name: this.props.name,
          onChange: this.handler,
          value: this.props.reduxValue,
          __source: {
            fileName: _jsxFileName,
            lineNumber: 41
          },
          __self: this
        },
        this.props.options.map(function (value, index) {
          return _react2.default.createElement(
            'option',
            { key: index, __source: {
                fileName: _jsxFileName,
                lineNumber: 49
              },
              __self: _this2
            },
            value
          );
        })
      );
    }
  }]);
  return ReduxSelectInput;
}(_react.Component), _class2.propTypes = {
  name: _propTypes2.default.string.isRequired,
  className: _propTypes2.default.string,
  options: _propTypes2.default.array.isRequired,
  reduxValue: _propTypes2.default.string,
  handler: _propTypes2.default.func
}, _temp2)) || _class);
exports.default = ReduxSelectInput;

});

require.register("components/SubItems/Crossmark/reduxTextInput.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _defineProperty2 = require('babel-runtime/helpers/defineProperty');

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec,
    _class,
    _class2,
    _temp2,
    _jsxFileName = 'app/components/SubItems/Crossmark/reduxTextInput.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redux = require('redux');

var _reactRedux = require('react-redux');

var _application = require('../../../actions/application');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mapStateToProps = function mapStateToProps(state, props) {
  return {
    reduxValue: state.reduxForm[props.name]
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return (0, _redux.bindActionCreators)({
    reduxEditForm: _application.editForm
  }, dispatch);
};

var ReduxTextInput = (_dec = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps), _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(ReduxTextInput, _Component);

  function ReduxTextInput() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ReduxTextInput);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ReduxTextInput.__proto__ || (0, _getPrototypeOf2.default)(ReduxTextInput)).call.apply(_ref, [this].concat(args))), _this), _this.handler = function (e) {
      if (_this.props.handler) _this.props.handler(e);
      _this.props.reduxEditForm((0, _defineProperty3.default)({}, e.target.name, e.target.value));
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ReduxTextInput, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement('input', {
        className: this.props.className,
        type: 'text',
        name: this.props.name,
        onChange: this.handler,
        value: this.props.reduxValue,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 40
        },
        __self: this
      });
    }
  }]);
  return ReduxTextInput;
}(_react.Component), _class2.propTypes = {
  name: _propTypes2.default.string.isRequired,
  className: _propTypes2.default.string,
  reduxValue: _propTypes2.default.string,
  handler: _propTypes2.default.func
}, _temp2)) || _class);
exports.default = ReduxTextInput;

});

require.register("components/SubItems/Funding/index.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = undefined;

var _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _defineProperty2 = require('babel-runtime/helpers/defineProperty');

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _jsxFileName = 'app/components/SubItems/Funding/index.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _immutabilityHelper = require('immutability-helper');

var _immutabilityHelper2 = _interopRequireDefault(_immutabilityHelper);

var _reactAutosuggest = require('react-autosuggest');

var _reactAutosuggest2 = _interopRequireDefault(_reactAutosuggest);

var _my_decorators = require('my_decorators');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getSuggestionValue(suggestion) {
    this.handleFunding(suggestion.uri);
    this.setState({
        funder_identifier: suggestion.uri
    });
    return suggestion.id;
}

function renderSuggestion(suggestion) {
    return _react2.default.createElement(
        'span',
        {
            __source: {
                fileName: _jsxFileName,
                lineNumber: 17
            },
            __self: this
        },
        suggestion.name + ' (' + suggestion.id + ')'
    );
}

var Funding = function (_Component) {
    (0, _inherits3.default)(Funding, _Component);

    function Funding(props) {
        (0, _classCallCheck3.default)(this, Funding);

        var _this = (0, _possibleConstructorReturn3.default)(this, (Funding.__proto__ || (0, _getPrototypeOf2.default)(Funding)).call(this, props));

        _this.addGrant = function () {
            _this.props.handler({
                funding: (0, _immutabilityHelper2.default)(_this.props.data, (0, _defineProperty3.default)({}, _this.props.index, { grantNumbers: { $push: [''] } }))
            });
        };

        _this.removeGrant = function (grantIndex) {
            _this.props.handler({
                funding: (0, _immutabilityHelper2.default)(_this.props.data, (0, _defineProperty3.default)({}, _this.props.index, { grantNumbers: { $splice: [[grantIndex, 1]] } }))
            });
        };

        _this.handleFunding = function (uri) {
            var funder = {};
            var grants = [];
            var funder_ident_count = 0;
            for (var i in _this.refs) {
                if (i === 'funderRegistryID') {
                    funder[i] = _this.state.value;
                    funder['funder_identifier'] = uri;
                } else if (i !== 'funder_identifier' && i !== 'funderRegistryID' && i.indexOf('grantNumbers') < 0) {
                    funder[i] = _this.refs[i].value;
                } else if (i.indexOf('grantNumber') > -1) {
                    grants.push(_this.refs[i].value);
                }
            }

            funder.grantNumbers = grants;

            _this.props.handler({ // this situation, state did NOT update immediately to see change, must pass in a call back
                funding: (0, _immutabilityHelper2.default)(_this.props.data, (0, _defineProperty3.default)({}, _this.props.index, { $set: funder }))
            });
        };

        var _this$props = _this.props,
            index = _this$props.index,
            grantNumbers = _this$props.grantNumbers,
            funding = _this$props.funding;

        _this.state = {
            showSubItem: index === 0 ? true : false,
            suggestions: [],
            value: funding.funderRegistryID.trim().length ? funding.funderRegistryID : '',
            funder_identifier: funding.funder_identifier.trim().length ? funding.funder_identifier : '',
            isLoading: false,
            grantNumbers: grantNumbers.length > 0 ? funding.grantNumbers : ['']
        };
        return _this;
    }

    (0, _createClass3.default)(Funding, [{
        key: 'componentWillReceiveProps',
        value: function componentWillReceiveProps(nextProps) {
            this.setState({
                funder_identifier: nextProps.funding.funder_identifier,
                grantNumbers: nextProps.grantNumbers
            });
        }
    }, {
        key: 'getSuggestions',
        value: function getSuggestions(value) {
            var inputValue = value.trim().toLowerCase();
            var inputLength = inputValue.length;

            return inputLength === 0 ? [] : languages.filter(function (lang) {
                return lang.name.toLowerCase().slice(0, inputLength) === inputValue;
            });
        }
    }, {
        key: 'onChange',
        value: function onChange(event, _ref) {
            var newValue = _ref.newValue;

            this.setState({
                value: newValue
            });
        }
    }, {
        key: 'loadSuggestions',
        value: function loadSuggestions(value) {
            this.setState({
                isLoading: true
            });

            fetch('https://api.crossref.org/funders?query=' + value).then(function (response) {
                return response.json();
            }).then(function (stories) {
                this.setState({
                    isLoading: false,
                    suggestions: stories.message.items
                });
            }.bind(this));
        }
    }, {
        key: 'onSuggestionsFetchRequested',
        value: function onSuggestionsFetchRequested(_ref2) {
            var value = _ref2.value;

            this.loadSuggestions(value);
        }
    }, {
        key: 'onSuggestionsClearRequested',
        value: function onSuggestionsClearRequested() {
            this.setState({
                suggestions: []
            });
        }
    }, {
        key: 'toggle',
        value: function toggle() {
            this.setState({
                showSubItem: !this.state.showSubItem
            });
        }
    }, {
        key: 'displayGrants',
        value: function displayGrants() {
            var _this2 = this;

            var renderRet = [].concat((0, _toConsumableArray3.default)(this.state.grantNumbers.map(function (grantNumber, i) {
                return _react2.default.createElement(
                    'div',
                    { className: 'grantSection', key: i, __source: {
                            fileName: _jsxFileName,
                            lineNumber: 129
                        },
                        __self: _this2
                    },
                    _react2.default.createElement(
                        'div',
                        { className: 'grantTitle', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 130
                            },
                            __self: _this2
                        },
                        'Grant Number ',
                        i + 1
                    ),
                    _react2.default.createElement('input', {
                        className: 'height32',
                        type: 'text',
                        ref: 'grantNumbers_' + i,
                        onChange: _this2.handleFunding,
                        value: grantNumber,
                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 131
                        },
                        __self: _this2
                    }),
                    i > 0 && _react2.default.createElement(
                        'div',
                        { className: 'grantRemove', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 139
                            },
                            __self: _this2
                        },
                        _react2.default.createElement(
                            'a',
                            { onClick: function onClick() {
                                    return _this2.removeGrant(i);
                                }, __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 139
                                },
                                __self: _this2
                            },
                            'Remove'
                        )
                    )
                );
            })));
            return renderRet;
        }
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            var _state = this.state,
                value = _state.value,
                suggestions = _state.suggestions;


            var inputProps = {
                placeholder: 'Type a Funder Name to look up ID.',
                value: value,
                onChange: this.onChange.bind(this)
            };
            var status = this.state.isLoading ? 'Loading...' : 'Loading...';
            return _react2.default.createElement(
                'div',
                {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 157
                    },
                    __self: this
                },
                _react2.default.createElement(
                    'div',
                    { className: 'row subItemRow', onClick: this.toggle.bind(this), __source: {
                            fileName: _jsxFileName,
                            lineNumber: 158
                        },
                        __self: this
                    },
                    _react2.default.createElement(
                        'div',
                        { className: 'subItemHeader subItemTitle', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 159
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'span',
                            { className: 'arrowHolder' + (this.state.showSubItem ? ' openArrowHolder' : ''), __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 160
                                },
                                __self: this
                            },
                            _react2.default.createElement('img', { src: 'images/AddArticle/DarkTriangle.svg', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 161
                                },
                                __self: this
                            })
                        ),
                        _react2.default.createElement(
                            'span',
                            {
                                __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 163
                                },
                                __self: this
                            },
                            'Funder ',
                            this.props.index + 1
                        )
                    ),
                    this.props.index > 0 && _react2.default.createElement(
                        'div',
                        { className: 'subItemHeader subItemButton', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 166
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'a',
                            { onClick: function onClick() {
                                    _this3.props.remove(_this3.props.index);
                                }, __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 167
                                },
                                __self: this
                            },
                            'Remove'
                        )
                    )
                ),
                this.state.showSubItem && _react2.default.createElement(
                    'div',
                    {
                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 172
                        },
                        __self: this
                    },
                    _react2.default.createElement(
                        'div',
                        { className: 'row', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 173
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'div',
                            { className: 'fieldHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 174
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder fulllength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 175
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 176
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 177
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 178
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 179
                                                },
                                                __self: this
                                            },
                                            'Funder Name ',
                                            this.props.index + 1
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 182
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 183
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 184
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 187
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('input', {
                                            className: 'height32',
                                            type: 'text',
                                            ref: 'fundername',
                                            onChange: this.handleFunding,
                                            value: this.props.funding.fundername,
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 188
                                            },
                                            __self: this
                                        })
                                    )
                                )
                            )
                        )
                    ),
                    _react2.default.createElement(
                        'div',
                        { className: 'row', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 200
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'div',
                            { className: 'fieldHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 201
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 202
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 203
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 204
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 205
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 206
                                                },
                                                __self: this
                                            },
                                            'Funder Registry ID'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 209
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 210
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 211
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 214
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(_reactAutosuggest2.default, {
                                            ref: 'funderRegistryID',
                                            renderSuggestion: renderSuggestion,
                                            suggestions: this.state.suggestions,
                                            onSuggestionsFetchRequested: this.onSuggestionsFetchRequested.bind(this),
                                            onSuggestionsClearRequested: this.onSuggestionsClearRequested.bind(this),
                                            getSuggestionValue: getSuggestionValue.bind(this),
                                            inputProps: inputProps,
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 215
                                            },
                                            __self: this
                                        }),
                                        this.state.isLoading && _react2.default.createElement(
                                            'div',
                                            { className: 'status', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 225
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement('img', { src: 'images/AddArticle/ajax-loader-transparent.gif', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 226
                                                },
                                                __self: this
                                            })
                                        )
                                    )
                                )
                            )
                        ),
                        _react2.default.createElement('div', { className: 'errorHolder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 233
                            },
                            __self: this
                        })
                    ),
                    _react2.default.createElement(
                        'div',
                        { className: 'row', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 236
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'div',
                            { className: 'fieldHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 237
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength addGrant', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 238
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 239
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 240
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 241
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 244
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'a',
                                            { className: 'AddNewGrantNumberButton', onClick: this.addGrant, __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 245
                                                },
                                                __self: this
                                            },
                                            'Add New Grant Number'
                                        )
                                    )
                                )
                            )
                        )
                    ),
                    _react2.default.createElement(
                        'div',
                        { className: 'row', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 251
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'div',
                            { className: 'fieldHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 252
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 253
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 254
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 255
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 256
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 259
                                            },
                                            __self: this
                                        },
                                        this.displayGrants()
                                    )
                                )
                            )
                        ),
                        _react2.default.createElement('div', { className: 'errorHolder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 265
                            },
                            __self: this
                        })
                    )
                )
            );
        }
    }]);
    return Funding;
}(_react.Component);

exports.default = Funding;

});

require.register("components/SubItems/License/index.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = undefined;

var _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _defineProperty2 = require('babel-runtime/helpers/defineProperty');

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _jsxFileName = 'app/components/SubItems/License/index.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _immutabilityHelper = require('immutability-helper');

var _immutabilityHelper2 = _interopRequireDefault(_immutabilityHelper);

var _my_decorators = require('my_decorators');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AppliesTo = require('../../../utilities/appliesTo.json');

var License = function (_Component) {
    (0, _inherits3.default)(License, _Component);

    function License(props) {
        (0, _classCallCheck3.default)(this, License);

        var _this = (0, _possibleConstructorReturn3.default)(this, (License.__proto__ || (0, _getPrototypeOf2.default)(License)).call(this, props));

        _this.handleLicense = function () {
            var license = {};
            for (var i in _this.refs) {
                if (_this.refs[i]) {
                    license[i] = _this.refs[i].value;
                }
            }

            _this.props.handler({ // this situation, state did NOT update immediately to see change, must pass in a call back
                license: (0, _immutabilityHelper2.default)(_this.props.data, (0, _defineProperty3.default)({}, _this.props.index, { $set: license }))
            });
        };

        var index = _this.props.index;

        _this.state = {
            showSubItem: index === 0 ? true : false
        };
        return _this;
    }

    (0, _createClass3.default)(License, [{
        key: 'displayAppliesTo',
        value: function displayAppliesTo() {
            var _this2 = this;

            var appliesTo = [_react2.default.createElement('option', { key: '-1', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 20
                },
                __self: this
            })].concat((0, _toConsumableArray3.default)(AppliesTo.map(function (appliesto, i) {
                return _react2.default.createElement(
                    'option',
                    { key: i, value: appliesto.value, __source: {
                            fileName: _jsxFileName,
                            lineNumber: 21
                        },
                        __self: _this2
                    },
                    appliesto.name
                );
            })));

            return _react2.default.createElement(
                'select',
                {
                    ref: 'appliesto',
                    onChange: this.handleLicense,
                    className: 'height32',
                    value: this.props.license.appliesto,
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 25
                    },
                    __self: this
                },
                appliesTo
            );
        }
    }, {
        key: 'toggle',
        value: function toggle() {
            this.setState({
                showSubItem: !this.state.showSubItem
            });
        }
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            return _react2.default.createElement(
                'div',
                {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 58
                    },
                    __self: this
                },
                _react2.default.createElement(
                    'div',
                    { className: 'row subItemRow', onClick: this.toggle.bind(this), __source: {
                            fileName: _jsxFileName,
                            lineNumber: 59
                        },
                        __self: this
                    },
                    _react2.default.createElement(
                        'div',
                        { className: 'subItemHeader subItemTitle', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 60
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'span',
                            { className: 'arrowHolder' + (this.state.showSubItem ? ' openArrowHolder' : ''), __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 61
                                },
                                __self: this
                            },
                            _react2.default.createElement('img', { src: 'images/AddArticle/DarkTriangle.svg', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 62
                                },
                                __self: this
                            })
                        ),
                        _react2.default.createElement(
                            'span',
                            {
                                __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 64
                                },
                                __self: this
                            },
                            'License ',
                            this.props.index + 1
                        )
                    ),
                    this.props.index > 0 && _react2.default.createElement(
                        'div',
                        { className: 'subItemHeader subItemButton', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 67
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'a',
                            { onClick: function onClick() {
                                    _this3.props.remove(_this3.props.index);
                                }, __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 68
                                },
                                __self: this
                            },
                            'Remove'
                        )
                    )
                ),
                this.state.showSubItem && _react2.default.createElement(
                    'div',
                    {
                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 73
                        },
                        __self: this
                    },
                    _react2.default.createElement(
                        'div',
                        { className: 'row', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 74
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'div',
                            { className: 'fieldHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 75
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 76
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 77
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 78
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 79
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 80
                                                },
                                                __self: this
                                            },
                                            'Start Date'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 83
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder' + (this.props.freetoread === 'yes' ? ' dateselectrequire' : ' norequire'), __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 84
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'required height32', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 85
                                                },
                                                __self: this
                                            },
                                            this.props.freetoread === 'yes' ? _react2.default.createElement(
                                                'span',
                                                {
                                                    __source: {
                                                        fileName: _jsxFileName,
                                                        lineNumber: 86
                                                    },
                                                    __self: this
                                                },
                                                '*'
                                            ) : ''
                                        )
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 89
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'datepickerholder', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 90
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement(
                                                'div',
                                                { className: 'dateselectholder', __source: {
                                                        fileName: _jsxFileName,
                                                        lineNumber: 91
                                                    },
                                                    __self: this
                                                },
                                                _react2.default.createElement(
                                                    'div',
                                                    {
                                                        __source: {
                                                            fileName: _jsxFileName,
                                                            lineNumber: 92
                                                        },
                                                        __self: this
                                                    },
                                                    'Year ',
                                                    this.props.freetoread === 'yes' ? '(*)' : ''
                                                ),
                                                _react2.default.createElement(
                                                    'div',
                                                    {
                                                        __source: {
                                                            fileName: _jsxFileName,
                                                            lineNumber: 93
                                                        },
                                                        __self: this
                                                    },
                                                    this.props.makeDateDropDown(this.handleLicense, 'acceptedDateYear', 'y', this.props.license.acceptedDateYear, this.props.errorLicenseStartDate)
                                                )
                                            ),
                                            _react2.default.createElement(
                                                'div',
                                                { className: 'dateselectholder', __source: {
                                                        fileName: _jsxFileName,
                                                        lineNumber: 95
                                                    },
                                                    __self: this
                                                },
                                                _react2.default.createElement(
                                                    'div',
                                                    {
                                                        __source: {
                                                            fileName: _jsxFileName,
                                                            lineNumber: 96
                                                        },
                                                        __self: this
                                                    },
                                                    'Month'
                                                ),
                                                _react2.default.createElement(
                                                    'div',
                                                    {
                                                        __source: {
                                                            fileName: _jsxFileName,
                                                            lineNumber: 97
                                                        },
                                                        __self: this
                                                    },
                                                    this.props.makeDateDropDown(this.handleLicense, 'acceptedDateMonth', 'm', this.props.license.acceptedDateMonth, false)
                                                )
                                            ),
                                            _react2.default.createElement(
                                                'div',
                                                { className: 'dateselectholder', __source: {
                                                        fileName: _jsxFileName,
                                                        lineNumber: 101
                                                    },
                                                    __self: this
                                                },
                                                _react2.default.createElement(
                                                    'div',
                                                    {
                                                        __source: {
                                                            fileName: _jsxFileName,
                                                            lineNumber: 102
                                                        },
                                                        __self: this
                                                    },
                                                    'Day'
                                                ),
                                                _react2.default.createElement(
                                                    'div',
                                                    {
                                                        __source: {
                                                            fileName: _jsxFileName,
                                                            lineNumber: 103
                                                        },
                                                        __self: this
                                                    },
                                                    this.props.makeDateDropDown(this.handleLicense, 'acceptedDateDay', 'd', this.props.license.acceptedDateDay, false)
                                                )
                                            ),
                                            _react2.default.createElement('div', {
                                                __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 107
                                                },
                                                __self: this
                                            })
                                        )
                                    )
                                )
                            )
                        ),
                        _react2.default.createElement('div', { className: 'errorHolder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 114
                            },
                            __self: this
                        })
                    ),
                    _react2.default.createElement(
                        'div',
                        { className: 'row', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 117
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'div',
                            { className: 'fieldHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 118
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 119
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 120
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 121
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 122
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 123
                                                },
                                                __self: this
                                            },
                                            'License URL'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 126
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 127
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 128
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 131
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('input', {
                                            className: 'height32',
                                            type: 'text',
                                            ref: 'licenseurl',
                                            onChange: this.handleLicense,
                                            value: this.props.license.licenseurl,
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 132
                                            },
                                            __self: this
                                        })
                                    )
                                )
                            ),
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 142
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 143
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 144
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 145
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 146
                                                },
                                                __self: this
                                            },
                                            'Applies to'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 149
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 150
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 151
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 154
                                            },
                                            __self: this
                                        },
                                        this.displayAppliesTo()
                                    )
                                )
                            )
                        ),
                        _react2.default.createElement('div', { className: 'errorHolder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 160
                            },
                            __self: this
                        })
                    )
                )
            );
        }
    }]);
    return License;
}(_react.Component);

exports.default = License;

});

require.register("components/SubItems/OptionalIssueInformation/index.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = undefined;

var _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _jsxFileName = 'app/components/SubItems/OptionalIssueInformation/index.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _roles = require('../../../utilities/roles.js');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var OptionalIssueInformation = function (_Component) {
    (0, _inherits3.default)(OptionalIssueInformation, _Component);

    function OptionalIssueInformation(props) {
        (0, _classCallCheck3.default)(this, OptionalIssueInformation);

        var _this = (0, _possibleConstructorReturn3.default)(this, (OptionalIssueInformation.__proto__ || (0, _getPrototypeOf2.default)(OptionalIssueInformation)).call(this, props));

        var _this$props = _this.props,
            index = _this$props.index,
            handler = _this$props.handler,
            remove = _this$props.remove,
            optionalIssueInfo = _this$props.optionalIssueInfo;

        _this.state = {
            index: index,
            handler: handler,
            remove: remove,
            optionalIssueInfo: optionalIssueInfo
        };
        return _this;
    }

    (0, _createClass3.default)(OptionalIssueInformation, [{
        key: 'componentWillReceiveProps',
        value: function componentWillReceiveProps(nextProps) {
            this.setState({
                index: nextProps.index,
                relateditem: nextProps.optionalIssueInfo
            });
        }
    }, {
        key: 'toggle',
        value: function toggle() {
            this.setState({
                showSubItem: !this.state.showSubItem
            });
        }
    }, {
        key: 'displayRoles',
        value: function displayRoles(ref) {
            var _this2 = this;

            var roles = [_react2.default.createElement('option', { key: '-1', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 33
                },
                __self: this
            })].concat((0, _toConsumableArray3.default)(_roles.Roles.map(function (role, i) {
                return _react2.default.createElement(
                    'option',
                    { key: i, value: role.value, __source: {
                            fileName: _jsxFileName,
                            lineNumber: 34
                        },
                        __self: _this2
                    },
                    role.name
                );
            })));

            return _react2.default.createElement(
                'select',
                {
                    ref: ref,
                    className: 'height32',
                    onChange: function onChange() {
                        _this2.state.handler(_this2.state.index, _this2);
                    },
                    defaultValue: this.state.optionalIssueInfo.role,
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 38
                    },
                    __self: this
                },
                roles
            );
        }
    }, {
        key: 'render',
        value: function render() {
            var _this3 = this;

            return _react2.default.createElement(
                'div',
                { className: 'optionalissueiinfo', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 51
                    },
                    __self: this
                },
                _react2.default.createElement(
                    'div',
                    { className: 'innerCardHolder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 52
                        },
                        __self: this
                    },
                    _react2.default.createElement(
                        'div',
                        { className: 'row subItemRow', onClick: this.toggle.bind(this), __source: {
                                fileName: _jsxFileName,
                                lineNumber: 53
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'div',
                            { className: 'subItemHeader subItemTitle', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 54
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'span',
                                {
                                    __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 55
                                    },
                                    __self: this
                                },
                                'Author ',
                                this.state.index + 1
                            )
                        ),
                        this.state.index > 0 && _react2.default.createElement(
                            'div',
                            { className: 'subItemHeader subItemButton', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 58
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'a',
                                { onClick: function onClick() {
                                        _this3.state.remove(_this3.state.index);
                                    }, __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 59
                                    },
                                    __self: this
                                },
                                'Remove'
                            )
                        )
                    ),
                    _react2.default.createElement(
                        'div',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 63
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'div',
                            { className: 'row', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 64
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldHolder', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 65
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'fieldinnerholder halflength', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 66
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 67
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', {
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 68
                                            },
                                            __self: this
                                        }),
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'labelinnerholder', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 69
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement(
                                                'div',
                                                { className: 'label', __source: {
                                                        fileName: _jsxFileName,
                                                        lineNumber: 70
                                                    },
                                                    __self: this
                                                },
                                                'First Name'
                                            )
                                        )
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requrefieldholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 73
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'requiredholder norequire', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 74
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement('div', { className: 'required height32', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 75
                                                },
                                                __self: this
                                            })
                                        ),
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'field', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 78
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement('input', {
                                                className: 'height32',
                                                type: 'text',
                                                ref: 'firstName',
                                                onChange: function onChange() {
                                                    _this3.state.handler(_this3.state.index, _this3);
                                                },
                                                defaultValue: this.state.optionalIssueInfo.firstName,
                                                __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 79
                                                },
                                                __self: this
                                            })
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'fieldinnerholder halflength', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 89
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 90
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', {
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 91
                                            },
                                            __self: this
                                        }),
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'labelinnerholder', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 92
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement(
                                                'div',
                                                { className: 'label', __source: {
                                                        fileName: _jsxFileName,
                                                        lineNumber: 93
                                                    },
                                                    __self: this
                                                },
                                                'Last Name'
                                            )
                                        )
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requrefieldholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 96
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'requiredholder norequire', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 97
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement('div', { className: 'required height32', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 98
                                                },
                                                __self: this
                                            })
                                        ),
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'field', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 101
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement('input', {
                                                className: 'height32',
                                                type: 'text',
                                                ref: 'lastName',
                                                onChange: function onChange() {
                                                    _this3.state.handler(_this3.state.index, _this3);
                                                },
                                                defaultValue: this.state.optionalIssueInfo.lastName,
                                                __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 102
                                                },
                                                __self: this
                                            })
                                        )
                                    )
                                )
                            ),
                            _react2.default.createElement('div', { className: 'errorHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 113
                                },
                                __self: this
                            })
                        ),
                        _react2.default.createElement(
                            'div',
                            { className: 'row', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 116
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldHolder', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 117
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'fieldinnerholder halflength', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 118
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 119
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', {
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 120
                                            },
                                            __self: this
                                        }),
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'labelinnerholder', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 121
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement(
                                                'div',
                                                { className: 'label', __source: {
                                                        fileName: _jsxFileName,
                                                        lineNumber: 122
                                                    },
                                                    __self: this
                                                },
                                                'Suffix'
                                            )
                                        )
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requrefieldholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 125
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'requiredholder norequire', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 126
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement('div', { className: 'required height32', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 127
                                                },
                                                __self: this
                                            })
                                        ),
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'field', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 130
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement('input', {
                                                className: 'height32',
                                                type: 'text',
                                                ref: 'suffix',
                                                onChange: function onChange() {
                                                    _this3.state.handler(_this3.state.index, _this3);
                                                },
                                                defaultValue: this.state.optionalIssueInfo.suffix,
                                                __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 131
                                                },
                                                __self: this
                                            })
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'fieldinnerholder halflength', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 141
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 142
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', {
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 143
                                            },
                                            __self: this
                                        }),
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'labelinnerholder', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 144
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement(
                                                'div',
                                                { className: 'label', __source: {
                                                        fileName: _jsxFileName,
                                                        lineNumber: 145
                                                    },
                                                    __self: this
                                                },
                                                'Affiliation'
                                            )
                                        )
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requrefieldholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 148
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'requiredholder norequire', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 149
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement('div', { className: 'required height32', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 150
                                                },
                                                __self: this
                                            })
                                        ),
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'field', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 153
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement('input', {
                                                className: 'height32',
                                                type: 'text',
                                                ref: 'affiliation',
                                                onChange: function onChange() {
                                                    _this3.state.handler(_this3.state.index, _this3);
                                                },
                                                defaultValue: this.state.optionalIssueInfo.affiliation,
                                                __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 154
                                                },
                                                __self: this
                                            })
                                        )
                                    )
                                )
                            ),
                            _react2.default.createElement('div', { className: 'errorHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 165
                                },
                                __self: this
                            })
                        ),
                        _react2.default.createElement(
                            'div',
                            { className: 'row', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 168
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldHolder', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 169
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'fieldinnerholder halflength', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 170
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 171
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', {
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 172
                                            },
                                            __self: this
                                        }),
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'labelinnerholder', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 173
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement(
                                                'div',
                                                { className: 'label', __source: {
                                                        fileName: _jsxFileName,
                                                        lineNumber: 174
                                                    },
                                                    __self: this
                                                },
                                                'ORCID'
                                            )
                                        )
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requrefieldholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 177
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'requiredholder norequire', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 178
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement('div', { className: 'required height32', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 179
                                                },
                                                __self: this
                                            })
                                        ),
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'field', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 182
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement('input', {
                                                className: 'height32',
                                                type: 'text',
                                                ref: 'orcid',
                                                onChange: function onChange() {
                                                    _this3.state.handler(_this3.state.index, _this3);
                                                },
                                                defaultValue: this.state.optionalIssueInfo.orcid,
                                                __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 183
                                                },
                                                __self: this
                                            })
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'fieldinnerholder halflength', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 193
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 194
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', {
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 195
                                            },
                                            __self: this
                                        }),
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'labelinnerholder', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 196
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement(
                                                'div',
                                                { className: 'label', __source: {
                                                        fileName: _jsxFileName,
                                                        lineNumber: 197
                                                    },
                                                    __self: this
                                                },
                                                'Alternative Name'
                                            )
                                        )
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requrefieldholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 200
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'requiredholder norequire', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 201
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement('div', { className: 'required height32', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 202
                                                },
                                                __self: this
                                            })
                                        ),
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'field', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 205
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement('input', {
                                                className: 'height32',
                                                type: 'text',
                                                ref: 'alternativeName',
                                                onChange: function onChange() {
                                                    _this3.state.handler(_this3.state.index, _this3);
                                                },
                                                defaultValue: this.state.optionalIssueInfo.alternativeName,
                                                __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 206
                                                },
                                                __self: this
                                            })
                                        )
                                    )
                                )
                            ),
                            _react2.default.createElement('div', { className: 'errorHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 217
                                },
                                __self: this
                            })
                        ),
                        _react2.default.createElement(
                            'div',
                            { className: 'row', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 220
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldHolder', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 221
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'fieldinnerholder halflength', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 222
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 223
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', {
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 224
                                            },
                                            __self: this
                                        }),
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'labelinnerholder', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 225
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement(
                                                'div',
                                                { className: 'label', __source: {
                                                        fileName: _jsxFileName,
                                                        lineNumber: 226
                                                    },
                                                    __self: this
                                                },
                                                'Role'
                                            )
                                        )
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requrefieldholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 229
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'requiredholder norequire', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 230
                                                },
                                                __self: this
                                            },
                                            _react2.default.createElement('div', { className: 'required height32', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 231
                                                },
                                                __self: this
                                            })
                                        ),
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'field', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 234
                                                },
                                                __self: this
                                            },
                                            this.displayRoles('role')
                                        )
                                    )
                                )
                            ),
                            _react2.default.createElement('div', { className: 'errorHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 240
                                },
                                __self: this
                            })
                        )
                    )
                )
            );
        }
    }]);
    return OptionalIssueInformation;
}(_react.Component);

exports.default = OptionalIssueInformation;

});

require.register("components/SubItems/RelatedItems/index.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = undefined;

var _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _defineProperty2 = require('babel-runtime/helpers/defineProperty');

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _jsxFileName = 'app/components/SubItems/RelatedItems/index.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _my_decorators = require('my_decorators');

var _immutabilityHelper = require('immutability-helper');

var _immutabilityHelper2 = _interopRequireDefault(_immutabilityHelper);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var RelationTypes = require('../../../utilities/relationTypes.json');
var IdentifierTypes = require('../../../utilities/identifierTypes.json');

var RelatedItems = function (_Component) {
    (0, _inherits3.default)(RelatedItems, _Component);

    function RelatedItems(props) {
        (0, _classCallCheck3.default)(this, RelatedItems);

        var _this = (0, _possibleConstructorReturn3.default)(this, (RelatedItems.__proto__ || (0, _getPrototypeOf2.default)(RelatedItems)).call(this, props));

        _this.toggle = function () {
            _this.setState({
                showSubItem: !_this.state.showSubItem
            });
        };

        _this.handleRelatedItems = function () {
            var relatedItems = {};
            for (var i in _this.refs) {
                if (_this.refs[i]) {
                    relatedItems[i] = _this.refs[i].value;
                }
            }

            _this.props.handler({ // this situation, state did NOT update immediately to see change, must pass in a call back
                relatedItems: (0, _immutabilityHelper2.default)(_this.props.data, (0, _defineProperty3.default)({}, _this.props.index, { $set: relatedItems }))
            });
        };

        var index = _this.props.index;

        _this.state = {
            showSubItem: index === 0 ? true : false
        };
        return _this;
    }

    (0, _createClass3.default)(RelatedItems, [{
        key: 'displayRelationTypes',
        value: function displayRelationTypes() {
            var _this2 = this;

            var relationTypes = [_react2.default.createElement('option', { key: '-1', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 26
                },
                __self: this
            })].concat((0, _toConsumableArray3.default)(RelationTypes.map(function (relationType, i) {
                return _react2.default.createElement(
                    'option',
                    { key: i, value: relationType.name, __source: {
                            fileName: _jsxFileName,
                            lineNumber: 27
                        },
                        __self: _this2
                    },
                    relationType.value
                );
            })));

            return _react2.default.createElement(
                'select',
                {
                    className: 'height32',
                    type: 'text',
                    ref: 'relationType',
                    onChange: this.handleRelatedItems,
                    value: this.props.relateditem.relationType,
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 31
                    },
                    __self: this
                },
                relationTypes
            );
        }
    }, {
        key: 'displayIdentifierTypes',
        value: function displayIdentifierTypes() {
            var _this3 = this;

            var identifierTypes = [_react2.default.createElement('option', { key: '-1', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 45
                },
                __self: this
            })].concat((0, _toConsumableArray3.default)(IdentifierTypes.map(function (identifierType, i) {
                return _react2.default.createElement(
                    'option',
                    { key: i, value: identifierType.name, __source: {
                            fileName: _jsxFileName,
                            lineNumber: 46
                        },
                        __self: _this3
                    },
                    identifierType.value
                );
            })));

            return _react2.default.createElement(
                'select',
                {
                    className: 'height32',
                    type: 'text',
                    ref: 'identifierType',
                    onChange: this.handleRelatedItems,
                    value: this.props.relateditem.identifierType,
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 50
                    },
                    __self: this
                },
                identifierTypes
            );
        }
    }, {
        key: 'render',
        value: function render() {
            var _this4 = this;

            return _react2.default.createElement(
                'div',
                {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 77
                    },
                    __self: this
                },
                _react2.default.createElement(
                    'div',
                    { className: 'row subItemRow', onClick: this.toggle, __source: {
                            fileName: _jsxFileName,
                            lineNumber: 78
                        },
                        __self: this
                    },
                    _react2.default.createElement(
                        'div',
                        { className: 'subItemHeader subItemTitle', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 79
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'span',
                            { className: 'arrowHolder' + (this.state.showSubItem ? ' openArrowHolder' : ''), __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 80
                                },
                                __self: this
                            },
                            _react2.default.createElement('img', { src: 'images/AddArticle/DarkTriangle.svg', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 81
                                },
                                __self: this
                            })
                        ),
                        _react2.default.createElement(
                            'span',
                            {
                                __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 83
                                },
                                __self: this
                            },
                            'Relation ',
                            this.props.index + 1
                        )
                    ),
                    this.props.index > 0 && _react2.default.createElement(
                        'div',
                        { className: 'subItemHeader subItemButton', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 86
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'a',
                            { onClick: function onClick() {
                                    _this4.props.remove(_this4.props.index);
                                }, __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 87
                                },
                                __self: this
                            },
                            'Remove'
                        )
                    )
                ),
                this.state.showSubItem && _react2.default.createElement(
                    'div',
                    {
                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 92
                        },
                        __self: this
                    },
                    _react2.default.createElement(
                        'div',
                        { className: 'row', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 93
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'div',
                            { className: 'fieldHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 94
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 95
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 96
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 97
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 98
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 99
                                                },
                                                __self: this
                                            },
                                            'Related Item Identifier'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 102
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 103
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 104
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 107
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('input', {
                                            className: 'height32',
                                            type: 'text',
                                            ref: 'relatedItemIdentifier',
                                            onChange: this.handleRelatedItems,
                                            value: this.props.relateditem.relatedItemIdentifier,
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 108
                                            },
                                            __self: this
                                        })
                                    )
                                )
                            ),
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 118
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 119
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 120
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 121
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 122
                                                },
                                                __self: this
                                            },
                                            'Identifier Type'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 125
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 126
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 127
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 130
                                            },
                                            __self: this
                                        },
                                        this.displayIdentifierTypes()
                                    )
                                )
                            )
                        ),
                        _react2.default.createElement('div', { className: 'errorHolder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 136
                            },
                            __self: this
                        })
                    ),
                    _react2.default.createElement(
                        'div',
                        { className: 'row', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 139
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'div',
                            { className: 'fieldHolder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 140
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 141
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 142
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 143
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 144
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 145
                                                },
                                                __self: this
                                            },
                                            'Description'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 148
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 149
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 150
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 153
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('input', {
                                            className: 'height32',
                                            type: 'text',
                                            ref: 'description',
                                            onChange: this.handleRelatedItems,
                                            value: this.props.relateditem.description,
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 154
                                            },
                                            __self: this
                                        })
                                    )
                                )
                            ),
                            _react2.default.createElement(
                                'div',
                                { className: 'fieldinnerholder halflength', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 164
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'labelholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 165
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement('div', {
                                        __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 166
                                        },
                                        __self: this
                                    }),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'labelinnerholder', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 167
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement(
                                            'div',
                                            { className: 'label', __source: {
                                                    fileName: _jsxFileName,
                                                    lineNumber: 168
                                                },
                                                __self: this
                                            },
                                            'Relation Type'
                                        )
                                    )
                                ),
                                _react2.default.createElement(
                                    'div',
                                    { className: 'requrefieldholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 171
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'requiredholder norequire', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 172
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('div', { className: 'required height32', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 173
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement(
                                        'div',
                                        { className: 'field', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 176
                                            },
                                            __self: this
                                        },
                                        this.displayRelationTypes()
                                    )
                                )
                            )
                        ),
                        _react2.default.createElement('div', { className: 'errorHolder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 182
                            },
                            __self: this
                        })
                    )
                )
            );
        }
    }]);
    return RelatedItems;
}(_react.Component);

exports.default = RelatedItems;

});

require.register("components/SubItems/subItem.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _keys = require('babel-runtime/core-js/object/keys');

var _keys2 = _interopRequireDefault(_keys);

var _defineProperty2 = require('babel-runtime/helpers/defineProperty');

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _extends3 = require('babel-runtime/helpers/extends');

var _extends4 = _interopRequireDefault(_extends3);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/SubItems/subItem.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _my_decorators = require('my_decorators');

var _Contributor = require('./Contributor');

var _Contributor2 = _interopRequireDefault(_Contributor);

var _Funding = require('./Funding');

var _Funding2 = _interopRequireDefault(_Funding);

var _License = require('./License');

var _License2 = _interopRequireDefault(_License);

var _RelatedItems = require('./RelatedItems');

var _RelatedItems2 = _interopRequireDefault(_RelatedItems);

var _AdditionalInformation = require('./AdditionalInformation');

var _AdditionalInformation2 = _interopRequireDefault(_AdditionalInformation);

var _OptionalIssueInformation = require('./OptionalIssueInformation');

var _OptionalIssueInformation2 = _interopRequireDefault(_OptionalIssueInformation);

var _crossmark = require('./Crossmark/crossmark');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SubtItem = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(SubtItem, _Component);

  function SubtItem(props) {
    (0, _classCallCheck3.default)(this, SubtItem);

    var _this = (0, _possibleConstructorReturn3.default)(this, (SubtItem.__proto__ || (0, _getPrototypeOf2.default)(SubtItem)).call(this, props));

    _this.toggle = function () {
      _this.setState({
        showSection: !_this.state.showSection
      });
    };

    _this.toggleCrossmarkAddList = function () {
      _this.setState({
        crossmarkButtons: !_this.state.crossmarkButtons
      });
    };

    _this.addCrossmarkCard = function (selection) {
      _this.setState({ crossmarkCards: (0, _extends4.default)({}, _this.state.crossmarkCards, (0, _defineProperty3.default)({}, selection, true)) });
    };

    _this.removeCrossmarkCard = function (selection) {
      var newState = (0, _extends4.default)({}, _this.state.crossmarkCards);
      delete newState[selection];
      _this.setState({ crossmarkCards: newState });
    };

    _this.state = {
      showSection: false,
      crossmarkButtons: false,
      crossmarkCards: {}
    };
    return _this;
  }

  (0, _createClass3.default)(SubtItem, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      this.setState({
        crossmarkCards: (0, _keys2.default)(this.state.crossmarkCards).length ? this.state.crossmarkCards : nextProps.showCards || emptyObject
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          remove = _props.remove,
          handler = _props.handler,
          title = _props.title,
          addHandler = _props.addHandler,
          addable = _props.addable,
          arrowType = _props.arrowType,
          makeDateDropDown = _props.makeDateDropDown,
          incomingData = _props.incomingData;
      // Map through the todos

      var Nodes = void 0;
      if (addable && title !== 'Crossmark') {
        Nodes = incomingData.map(function (data, i) {
          var card = '';
          switch (title) {
            case 'Contributor':
              card = _react2.default.createElement(_Contributor2.default, {
                key: i,
                contributor: data,
                remove: remove,
                handler: handler,
                data: incomingData,
                index: i, __source: {
                  fileName: _jsxFileName,
                  lineNumber: 68
                },
                __self: _this2
              });
              break;
            case 'Funding':
              var _props2 = _this2.props,
                  addGrant = _props2.addGrant,
                  removeGrant = _props2.removeGrant,
                  grantHandler = _props2.grantHandler;

              card = _react2.default.createElement(_Funding2.default, {
                key: i,
                funding: data,
                remove: remove,
                handler: handler,
                data: incomingData,
                index: i,
                grantNumbers: data.grantNumbers,
                addGrant: addGrant,
                removeGrant: removeGrant,
                grantHandler: grantHandler, __source: {
                  fileName: _jsxFileName,
                  lineNumber: 78
                },
                __self: _this2
              });
              break;
            case 'License':
              var _props3 = _this2.props,
                  freetoread = _props3.freetoread,
                  errorLicenseStartDate = _props3.errorLicenseStartDate;

              card = _react2.default.createElement(_License2.default, {
                key: i,
                license: data,
                remove: remove,
                handler: handler,
                data: incomingData,
                index: i,
                freetoread: freetoread,
                errorLicenseStartDate: errorLicenseStartDate,
                makeDateDropDown: makeDateDropDown, __source: {
                  fileName: _jsxFileName,
                  lineNumber: 92
                },
                __self: _this2
              });
              break;
            case 'Related Items':
              card = _react2.default.createElement(_RelatedItems2.default, {
                key: i,
                relateditem: data,
                remove: remove,
                handler: handler,
                data: incomingData,
                index: i, __source: {
                  fileName: _jsxFileName,
                  lineNumber: 104
                },
                __self: _this2
              });
              break;
            case 'Optional Issue Information (Contributorship)':
              card = _react2.default.createElement(_OptionalIssueInformation2.default, {
                key: i,
                optionalIssueInfo: data,
                remove: remove,
                handler: handler,
                data: incomingData,
                index: i, __source: {
                  fileName: _jsxFileName,
                  lineNumber: 113
                },
                __self: _this2
              });
              break;
          }
          return card;
        });
      } else if (title === 'Crossmark') {
        Nodes = _react2.default.createElement(_crossmark.CrossmarkCards, {
          removeCrossmarkCard: this.removeCrossmarkCard, crossmarkCards: this.state.crossmarkCards, errors: this.props.crossmarkErrors, __source: {
            fileName: _jsxFileName,
            lineNumber: 127
          },
          __self: this
        });
      } else {
        Nodes = _react2.default.createElement(_AdditionalInformation2.default, {
          addInfo: incomingData,
          data: incomingData,
          handler: handler, __source: {
            fileName: _jsxFileName,
            lineNumber: 131
          },
          __self: this
        });
      }
      return _react2.default.createElement(
        'div',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 137
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'topbar', __source: {
              fileName: _jsxFileName,
              lineNumber: 138
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'titleholder', __source: {
                fileName: _jsxFileName,
                lineNumber: 139
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'titleinnholder' + (addable ? ' subinnerholder' : ' notclickableholder'), onClick: this.toggle.bind(this), __source: {
                  fileName: _jsxFileName,
                  lineNumber: 140
                },
                __self: this
              },
              _react2.default.createElement(
                'span',
                { className: 'arrowHolder' + (this.state.showSection ? ' openArrowHolder' : ''), __source: {
                    fileName: _jsxFileName,
                    lineNumber: 141
                  },
                  __self: this
                },
                arrowType === 'dark' ? _react2.default.createElement('img', { src: 'images/AddArticle/DarkTriangle.svg', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 142
                  },
                  __self: this
                }) : _react2.default.createElement('img', { src: 'images/AddArticle/Triangle.svg', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 142
                  },
                  __self: this
                })
              ),
              _react2.default.createElement(
                'span',
                {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 144
                  },
                  __self: this
                },
                title,
                addable
              )
            ),
            addable && title !== 'Crossmark' && _react2.default.createElement(
              'div',
              { className: 'addholder', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 147
                },
                __self: this
              },
              _react2.default.createElement(
                'a',
                { onClick: function onClick() {
                    if (!_this2.state.showSection) {
                      _this2.toggle();
                    }
                    addHandler();
                  }, __source: {
                    fileName: _jsxFileName,
                    lineNumber: 148
                  },
                  __self: this
                },
                'Add New'
              )
            ),
            title === 'Crossmark' && _react2.default.createElement(_crossmark.CrossmarkAddButton, {
              toggle: this.toggle,
              toggleAdd: this.toggleCrossmarkAddList,
              showSection: this.state.showSection,
              addList: this.state.crossmarkButtons,
              addCrossmarkCard: this.addCrossmarkCard,
              __source: {
                fileName: _jsxFileName,
                lineNumber: 156
              },
              __self: this
            })
          )
        ),
        this.state.showSection && _react2.default.createElement(
          'div',
          { className: 'body', __source: {
              fileName: _jsxFileName,
              lineNumber: 166
            },
            __self: this
          },
          Nodes
        )
      );
    }
  }]);
  return SubtItem;
}(_react.Component), _class.propTypes = {
  showCards: _propTypes2.default.object
}, _temp);
exports.default = SubtItem;


var emptyObject = {};

});

require.register("components/addArticleCard.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends3 = require('babel-runtime/helpers/extends');

var _extends4 = _interopRequireDefault(_extends3);

var _defineProperty2 = require('babel-runtime/helpers/defineProperty');

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _slicedToArray2 = require('babel-runtime/helpers/slicedToArray');

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _initialiseProps,
    _jsxFileName = 'app/components/addArticleCard.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouter = require('react-router');

var _immutabilityHelper = require('immutability-helper');

var _immutabilityHelper2 = _interopRequireDefault(_immutabilityHelper);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _dupeDOI = require('../utilities/dupeDOI');

var _dupeDOI2 = _interopRequireDefault(_dupeDOI);

var _reviewArticle = require('./reviewArticle');

var _reviewArticle2 = _interopRequireDefault(_reviewArticle);

var _subItem = require('./SubItems/subItem');

var _subItem2 = _interopRequireDefault(_subItem);

var _addArticleCardComponents = require('./addArticleCardComponents');

var _xmlGenerator = require('../utilities/xmlGenerator');

var _jsesc = require('../utilities/jsesc');

var _jsesc2 = _interopRequireDefault(_jsesc);

var _jquery = require('jquery');

var _jquery2 = _interopRequireDefault(_jquery);

var _parseXMLArticle = require('../utilities/parseXMLArticle');

var _parseXMLArticle2 = _interopRequireDefault(_parseXMLArticle);

var _date = require('../utilities/date');

var _isURL = require('../utilities/isURL');

var _isURL2 = _interopRequireDefault(_isURL);

var _isDOI = require('../utilities/isDOI');

var _isDOI2 = _interopRequireDefault(_isDOI);

var _routing = require('../routing');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var defaultState = {
  inCart: true,
  crossmark: false,
  showCards: {},
  showOptionalTitleData: false,
  showContributor: false,
  showFunding: false,
  showRelatedItems: false,
  showAdditionalInformation: false,
  showHelper: false,
  on: false,
  error: false,
  doiDisabled: false,
  version: '0',
  errors: {
    title: false,
    printDateYear: false,
    onlineDateYear: false,
    doi: false,
    url: false,
    dupedoi: false,
    invaliddoi: false,
    invalidurl: false,
    licenseStartDate: false

  },
  crossmarkErrors: {
    peer_0_href: false,
    copyright_0_href: false,
    supp_0_href: false,
    other_0_href: false,
    update_0_DOI_Invalid: false,
    update_0_DOI_Missing: false,
    update_0_year: false,
    clinical_0_registry: false,
    clinical_0_trialNumber: false
  },
  article: {
    title: '',
    doi: '',
    subtitle: '',
    originallanguagetitle: '',
    originallanguagetitlesubtitle: '',
    url: '',
    printDateYear: '',
    printDateMonth: '',
    printDateDay: '',
    onlineDateYear: '',
    onlineDateMonth: '',
    onlineDateDay: '',
    acceptedDateYear: '',
    acceptedDateMonth: '',
    acceptedDateDay: '',
    firstPage: '',
    lastPage: '',
    locationId: '',
    abstract: ''
  },
  contributors: [{
    firstName: '',
    lastName: '',
    suffix: '',
    affiliation: '',
    orcid: '',
    role: '',
    groupAuthorName: '',
    groupAuthorRole: ''
  }],
  funding: [{
    fundername: '',
    funderRegistryID: '',
    funder_identifier: '',
    grantNumbers: ['']
  }],
  license: [{
    acceptedDateDay: '',
    acceptedDateMonth: '',
    acceptedDateYear: '',
    appliesto: '',
    licenseurl: ''
  }],
  relatedItems: [{
    relatedItemIdentifier: '',
    identifierType: '',
    description: '',
    relationType: ''
  }],
  addInfo: {
    archiveLocation: '',
    language: '',
    publicationType: '',
    similarityCheckURL: '',
    freetolicense: ''
  }
};

var AddArticleCard = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(AddArticleCard, _Component);

  function AddArticleCard(props) {
    (0, _classCallCheck3.default)(this, AddArticleCard);

    var _this = (0, _possibleConstructorReturn3.default)(this, (AddArticleCard.__proto__ || (0, _getPrototypeOf2.default)(AddArticleCard)).call(this, props));

    _initialiseProps.call(_this);

    _this.state = defaultState;
    _this.state.article.doi = props.ownerPrefix;
    return _this;
  }

  (0, _createClass3.default)(AddArticleCard, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (nextProps.mode === 'add') {
        //its new allow add to cart button
        this.setState({
          inCart: false
        });
      }

      if (nextProps.reduxForm !== this.props.reduxForm) {
        return;
      }

      if (nextProps.crossmarkPrefixes.length && !this.state.crossmark) {
        if (nextProps.publication) {
          var thisPrefix = nextProps.publication.message ? nextProps.publication.message.doi.split('/')[0] : null;
          if (thisPrefix && nextProps.crossmarkPrefixes.includes(thisPrefix)) this.setState({ crossmark: true });
        }
      }

      var publication = nextProps.publication;

      if (publication.message && nextProps.mode === 'edit') {
        if (publication.message.contains.length > 0) {
          // its an edit of article, else its new, also checks if its empty before doing any xml conversion

          var parsedArticle = (0, _parseXMLArticle2.default)(publication.message.contains[0].content);

          if (parsedArticle.crossmark) {
            this.props.reduxEditForm(parsedArticle.crossmark.reduxForm);
            this.setState({ showCards: parsedArticle.crossmark.showCards });
          }

          this.setState({
            inCart: _lodash2.default.find(this.props.reduxCart, function (cartItems) {
              return cartItems.doi === parsedArticle.article.doi;
            }) ? true : false,
            doiDisabled: true,
            version: String(parseInt(publication.message.contains[0]['mdt-version']) + 1),
            addInfo: parsedArticle.addInfo,
            article: parsedArticle.article,
            contributors: parsedArticle.contributors,
            funding: parsedArticle.funding,
            license: parsedArticle.license,
            relatedItems: parsedArticle.relatedItems
          });
        }
      }
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      var firstError = (0, _jquery2.default)(".fieldError").first();
      if (firstError.length > 0) {
        (0, _jquery2.default)('.fullError').find('.tooltips').css({
          'top': firstError.offset().top + (firstError.position().top - firstError.position().top * .9) - ((0, _jquery2.default)('.switchLicense').first().position().top + 15) - ((0, _jquery2.default)('.switchLicense').first().offset().top + 15) + 25
        });
      }
    }
  }, {
    key: 'validation',
    value: function validation(callback) {
      var _this2 = this;

      var errorStates = {
        title: { $set: false },
        doi: { $set: false },
        printDateYear: { $set: false },
        onlineDateYear: { $set: false },
        url: { $set: false },
        invalidurl: { $set: false },
        dupedoi: { $set: false },
        invaliddoi: { $set: false }
      };
      this.setState({
        error: false,
        errors: (0, _immutabilityHelper2.default)(this.state.errors, errorStates)
      });

      return (0, _dupeDOI2.default)(this.state.article.doi, function (isDupe, isValid) {
        var hasPrintYear = false,
            hasOnlineYear = false;
        if (_this2.state.article.printDateYear.length > 0 || _this2.state.article.onlineDateYear.length > 0) {
          //hasDate = true
          if (_this2.state.article.printDateYear.length > 0) {
            hasPrintYear = true;
          }
          if (_this2.state.article.onlineDateYear.length > 0) {
            hasOnlineYear = true;
          }
        }

        errorStates = {
          title: { $set: _this2.state.article.title.length === 0 },
          doi: { $set: _this2.state.article.doi.length === 0 },
          printDateYear: { $set: _this2.state.article.printDateYear.length === 0 },
          onlineDateYear: { $set: _this2.state.article.onlineDateYear.length === 0 },
          url: { $set: _this2.state.article.url.length === 0 },
          invalidurl: { $set: !(0, _isURL2.default)(_this2.state.article.url) && _this2.state.article.url.length > 0 },
          dupedoi: { $set: _this2.state.doiDisabled ? false : isDupe },
          invaliddoi: { $set: _this2.state.article.doi.length > 0 && (isValid ? isValid : !(0, _isDOI2.default)(_this2.state.article.doi)) },
          licenseStartDate: { $set: false }
        };

        if (hasPrintYear) {
          // has print year, don't care if there is a online year
          errorStates.onlineDateYear = { $set: false };
        }
        if (hasOnlineYear) {
          // has online year, don't care if there is a print year
          errorStates.printDateYear = { $set: false };
        }

        // if addInfo license to read to ON, license StartDates are required
        if (_this2.state.addInfo.freetolicense === 'yes') {
          var licenses = getSubmitSubItems(_this2.state.license).map(function (license, i) {
            var dayHolder = [];
            if ((license.acceptedDateYear ? license.acceptedDateYear : '').length > 0) {
              dayHolder.push(license.acceptedDateYear);
            }
            if ((license.acceptedDateMonth ? license.acceptedDateMonth : '').length > 0) {
              dayHolder.push(license.acceptedDateMonth);
            }
            if ((license.acceptedDateDay ? license.acceptedDateDay : '').length > 0) {
              dayHolder.push(license.acceptedDateDay);
            }

            return {
              index: i,
              startDate: dayHolder.join('').length > 0 ? dayHolder.join('-') : undefined,
              url: license.url
            };
          });

          for (var i = 0; i < licenses.length; i++) {
            // looping through the license array after filtered to see if there is start date
            if (!licenses[i].startDate) {
              errorStates.licenseStartDate = { $set: true };
              break;
            }
          }
        }

        var crossmarkErrors = {};
        if (_this2.state.crossmark) {
          var reduxForm = _this2.props.reduxForm;

          for (var formField in reduxForm) {
            var _formField$split = formField.split('_'),
                _formField$split2 = (0, _slicedToArray3.default)(_formField$split, 3),
                card = _formField$split2[0],
                _i = _formField$split2[1],
                field = _formField$split2[2];

            var value = reduxForm[formField];

            if (field === 'href') {
              var re = /^(ftp|http|https):\/\/[^ "]+$/;
              crossmarkErrors[formField] = !value ? false : !re.test(value);
            }

            if (card === 'update') {
              if (field === 'type' && value !== '') {
                crossmarkErrors['update_' + _i + '_DOI_Missing'] = !reduxForm['update_' + _i + '_DOI'] ? true : false;
                crossmarkErrors['update_' + _i + '_year'] = !reduxForm['update_' + _i + '_year'] ? true : false;
              }

              if (field === 'DOI') {
                var re = /^10\.\d{4,9}\/[-._;()/:A-Z0-9]+$/i;
                crossmarkErrors[formField + '_Invalid'] = !re.test(reduxForm[formField]);
              }
            }

            if (card === 'clinical' && value !== '') {
              crossmarkErrors['clinical_' + _i + '_registry'] = !reduxForm['clinical_' + _i + '_registry'] ? true : false;
              crossmarkErrors['clinical_' + _i + '_trialNumber'] = !reduxForm['clinical_' + _i + '_trialNumber'] ? true : false;
            }
          };
        }

        _this2.setState({
          errors: (0, _immutabilityHelper2.default)(_this2.state.errors, errorStates),
          crossmarkErrors: crossmarkErrors
        }, function () {
          var errors = ['doi', 'title'];

          for (var key in _this2.state.errors) {
            // checking all the properties of errors to see if there is a true
            if (_this2.state.errors[key]) {
              _this2.setState({ error: true });
              return errors.indexOf(key) > -1 ? callback(_this2.state.errors[key]) : callback(false);
            }
          }
          for (var key in _this2.state.crossmarkErrors) {
            if (_this2.state.crossmarkErrors[key]) {
              _this2.setState({ error: true });
              return callback(_this2.state.crossmarkErrors[key]);
            }
          }
          return callback(false); // iterated the entire object, no true, returning a false, no error
        });
      });
    }
  }, {
    key: 'addSection',
    value: function addSection(section) {
      this.setState((0, _defineProperty3.default)({}, section, (0, _immutabilityHelper2.default)(this.state[section], { $push: defaultState[section] })));
    }
  }, {
    key: 'removeSection',
    value: function removeSection(section, index) {
      this.setState((0, _defineProperty3.default)({}, section, (0, _immutabilityHelper2.default)(this.state[section], { $splice: [[index, 1]] })));
    }
  }, {
    key: 'render',
    value: function render() {
      var error = (this.props.addArticle || {}).error;
      var _props = this.props,
          publication = _props.publication,
          publicationMetaData = _props.publicationMetaData;

      return _react2.default.createElement(
        'div',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 476
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'addarticlecard' + (error ? ' invalid' : ''), __source: {
              fileName: _jsxFileName,
              lineNumber: 478
            },
            __self: this
          },
          _react2.default.createElement(
            'form',
            { className: 'addArticleForm', onSubmit: this.onSubmit, __source: {
                fileName: _jsxFileName,
                lineNumber: 480
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'reviewArticleButtonDiv', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 482
                },
                __self: this
              },
              _react2.default.createElement(
                'button',
                { type: 'button', onClick: this.back, className: 'addPublication pull-left backbutton', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 483
                  },
                  __self: this
                },
                _react2.default.createElement('img', { className: 'backbuttonarrow', src: 'images/AddArticle/DarkTriangle.svg', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 483
                  },
                  __self: this
                }),
                _react2.default.createElement(
                  'span',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 483
                    },
                    __self: this
                  },
                  'Back'
                )
              ),
              _react2.default.createElement(
                'button',
                { type: 'button', onClick: this.openReviewArticleModal, className: 'addPublication reviewbutton', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 484
                  },
                  __self: this
                },
                'Review'
              ),
              _react2.default.createElement(
                'button',
                { type: 'submit', className: 'addPublication saveButton', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 485
                  },
                  __self: this
                },
                'Add To Cart'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'articleInnerForm', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 489
                },
                __self: this
              },
              _react2.default.createElement(_addArticleCardComponents.TopBar, { title: this.state.article.title, __source: {
                  fileName: _jsxFileName,
                  lineNumber: 491
                },
                __self: this
              }),
              _react2.default.createElement(
                'div',
                { className: 'body', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 493
                  },
                  __self: this
                },
                _react2.default.createElement(_addArticleCardComponents.InfoHelperRow, { setState: this.boundSetState, on: this.state.on, __source: {
                    fileName: _jsxFileName,
                    lineNumber: 495
                  },
                  __self: this
                }),
                _react2.default.createElement(
                  'div',
                  { className: 'row', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 497
                    },
                    __self: this
                  },
                  _react2.default.createElement(_addArticleCardComponents.ArticleTitleField, { handleChange: this.handleChange, title: this.state.article.title, errors: this.state.errors, __source: {
                      fileName: _jsxFileName,
                      lineNumber: 498
                    },
                    __self: this
                  }),
                  !this.state.error && this.state.showHelper && _react2.default.createElement(_addArticleCardComponents.InfoBubble, {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 499
                    },
                    __self: this
                  }),
                  this.state.error && _react2.default.createElement(_addArticleCardComponents.ErrorBubble, { errors: this.state.errors, crossmarkErrors: this.state.crossmarkErrors, __source: {
                      fileName: _jsxFileName,
                      lineNumber: 500
                    },
                    __self: this
                  })
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'row', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 503
                    },
                    __self: this
                  },
                  _react2.default.createElement(_addArticleCardComponents.OptionalTitleData, {
                    show: this.state.showOptionalTitleData,
                    toggleFields: this.toggleFields,
                    subtitle: this.state.article.subtitle,
                    originallanguagetitle: this.state.article.originallanguagetitle,
                    originallanguagetitlesubtitle: this.state.article.originallanguagetitlesubtitle,
                    handleChange: this.handleChange, __source: {
                      fileName: _jsxFileName,
                      lineNumber: 504
                    },
                    __self: this
                  })
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'row', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 513
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'fieldHolder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 514
                      },
                      __self: this
                    },
                    _react2.default.createElement(_addArticleCardComponents.ArticleDOIField, { disabled: this.state.doiDisabled, doi: this.state.article.doi, handleChange: this.handleChange, errors: this.state.errors, __source: {
                        fileName: _jsxFileName,
                        lineNumber: 515
                      },
                      __self: this
                    }),
                    _react2.default.createElement(_addArticleCardComponents.ArticleUrlField, { url: this.state.article.url, handleChange: this.handleChange, errors: this.state.errors, __source: {
                        fileName: _jsxFileName,
                        lineNumber: 516
                      },
                      __self: this
                    })
                  )
                ),
                _react2.default.createElement(_addArticleCardComponents.DatesRow, {
                  article: this.state.article,
                  errors: this.state.errors,
                  makeDateDropDown: _date.makeDateDropDown,
                  handleChange: this.handleChange,
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 520
                  },
                  __self: this
                }),
                _react2.default.createElement(_addArticleCardComponents.BottomFields, {
                  article: this.state.article,
                  makeDateDropDown: _date.makeDateDropDown,
                  handleChange: this.handleChange,
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 527
                  },
                  __self: this
                })
              ),
              _react2.default.createElement(_subItem2.default, {
                title: 'Contributor',
                addable: true,
                incomingData: this.state.contributors,
                handler: this.boundSetState,
                remove: this.removeSection.bind(this, 'contributors'),
                showSection: this.state.showContributor,
                addHandler: this.addSection.bind(this, 'contributors'),
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 535
                },
                __self: this
              }),
              _react2.default.createElement(_subItem2.default, {
                title: 'Funding',
                addable: true,
                incomingData: this.state.funding,
                handler: this.boundSetState,
                remove: this.removeSection.bind(this, 'funding'),
                showSection: this.state.showFunding,
                addHandler: this.addSection.bind(this, 'funding'),
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 544
                },
                __self: this
              }),
              _react2.default.createElement(_subItem2.default, {
                title: 'License',
                addable: true,
                incomingData: this.state.license,
                handler: this.boundSetState,
                remove: this.removeSection.bind(this, 'license'),
                showSection: this.state.showLicense,
                addHandler: this.addSection.bind(this, 'license'),
                freetoread: this.state.addInfo.freetolicense,
                errorLicenseStartDate: this.state.errors.licenseStartDate,
                makeDateDropDown: _date.makeDateDropDown,
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 553
                },
                __self: this
              }),
              _react2.default.createElement(_subItem2.default, {
                title: 'Related Items',
                addable: true,
                incomingData: this.state.relatedItems,
                handler: this.boundSetState,
                remove: this.removeSection.bind(this, 'relatedItems'),
                showSection: this.state.showRelatedItems,
                addHandler: this.addSection.bind(this, 'relatedItems'),
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 565
                },
                __self: this
              }),
              _react2.default.createElement(_subItem2.default, {
                title: 'Additional Information',
                addable: false,
                incomingData: this.state.addInfo,
                handler: this.boundSetState,
                showSection: this.state.showAdditionalInformation,
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 574
                },
                __self: this
              }),
              this.state.crossmark && _react2.default.createElement(_subItem2.default, {
                title: 'Crossmark',
                showCards: this.state.showCards,
                crossmarkErrors: this.state.crossmarkErrors,
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 582
                },
                __self: this
              })
            )
          )
        )
      );
    }
  }]);
  return AddArticleCard;
}(_react.Component), _class.propTypes = {
  reduxCart: _propTypes2.default.array.isRequired,
  reduxCartUpdate: _propTypes2.default.func.isRequired,
  reduxControlModal: _propTypes2.default.func.isRequired,
  reduxEditForm: _propTypes2.default.func.isRequired,
  asyncSubmitArticle: _propTypes2.default.func.isRequired,
  asyncGetItem: _propTypes2.default.func.isRequired,
  reduxForm: _propTypes2.default.object.isRequired,
  mode: _propTypes2.default.string.isRequired,
  duplicateFrom: _propTypes2.default.string,
  publication: _propTypes2.default.shape({
    message: _propTypes2.default.object
  }).isRequired,
  publicationMetaData: _propTypes2.default.shape({
    Journal: _propTypes2.default.object
  }),
  ownerPrefix: _propTypes2.default.string.isRequired,
  crossmarkPrefixes: _propTypes2.default.array.isRequired
}, _initialiseProps = function _initialiseProps() {
  var _this3 = this;

  this.onSubmit = function (e) {
    e.preventDefault();

    var crossmark = _this3.state.crossmark ? (0, _xmlGenerator.crossmarkXml)(_this3.props.reduxForm, _this3.props.ownerPrefix) : undefined;

    _this3.validation(function (valid) {
      // need it to be a callback because setting state does not happen right away
      if (!valid) {
        var props = _this3.props;
        var publication = _this3.props.publication;

        var state = _this3.state;

        var metaData = ''; // TODO: Publication information

        var journalIssue = ''; // TODO: Issue information

        var journalArticle = (0, _xmlGenerator.journalArticleXml)(_this3, crossmark);
        var journal = '<?xml version="1.0" encoding="UTF-8"?><crossref xmlns="http://www.crossref.org/xschema/1.1"><journal>' + journalArticle + '</journal></crossref>';

        var title = (0, _jsesc2.default)(_this3.state.article.title);

        var version = _this3.state.version;

        if (props.mode === 'edit') {
          version = String(parseInt(_this3.state.version) + 1);
        }

        var newRecord = {
          'title': { 'title': title },
          'doi': _this3.state.article.doi,
          'owner-prefix': _this3.state.article.doi.split('/')[0],
          'type': 'article',
          'mdt-version': version,
          'status': 'draft',
          'content': journal.replace(/(\r\n|\n|\r)/gm, '')

          // check if its part of a issue, the issue props will tell us
        };var savePub;

        if (_this3.props.issue) {
          //this is just an issue doi OR undefined
          // if its an issue, we need to put this newRecord under the issue, NOT the publicaton
          // need to use the issuePublication, the publication has been mutated to allow reading of the article
          var issuePublication = _this3.props.issuePublication;
          var theIssue = _lodash2.default.find(issuePublication.message.contains, function (item) {
            if (item.type === 'issue' && item.doi === _this3.props.issue) {
              return item;
            }
          });

          theIssue.contains = [newRecord];
          issuePublication.message.contains = [theIssue];

          savePub = issuePublication;
        } else {
          // not issue, so just put directly under the publication
          publication.message.contains = [newRecord];
          savePub = publication;
        }

        _this3.props.asyncSubmitArticle(savePub, _this3.state.article.doi, function () {

          newRecord.pubDoi = _this3.props.publication.message.doi;
          _this3.props.reduxCartUpdate([newRecord]);

          _this3.setState({ version: version });

          _reactRouter.browserHistory.push(_routing.routes.publications + '/' + encodeURIComponent(publication.message.doi));
        });
      }
    });
  };

  this.handleChange = function (e) {
    _this3.setState({
      article: (0, _extends4.default)({}, _this3.state.article, (0, _defineProperty3.default)({}, e.target.name, e.target.value))
    });
  };

  this.boundSetState = function () {
    _this3.setState.apply(_this3, arguments);
  };

  this.toggleFields = function () {
    _this3.setState({
      showOptionalTitleData: !_this3.state.showOptionalTitleData
    });
  };

  this.openReviewArticleModal = function () {
    _this3.props.reduxControlModal({
      showModal: true,
      title: _react2.default.createElement(
        'div',
        { className: 'innerTitleHolder', __source: {
            fileName: _jsxFileName,
            lineNumber: 444
          },
          __self: _this3
        },
        _react2.default.createElement(
          'div',
          { className: 'innterTitleHolderIcon', __source: {
              fileName: _jsxFileName,
              lineNumber: 445
            },
            __self: _this3
          },
          _react2.default.createElement('img', { src: 'images/ReviewArticle/Asset_Icons_White_Review.svg', __source: {
              fileName: _jsxFileName,
              lineNumber: 446
            },
            __self: _this3
          })
        ),
        _react2.default.createElement(
          'div',
          { className: 'innerTitleHolderText', __source: {
              fileName: _jsxFileName,
              lineNumber: 448
            },
            __self: _this3
          },
          _this3.state.article.title
        )
      ),
      style: 'defaultModal reviewModal',
      Component: _reviewArticle2.default,
      props: {
        reviewData: _this3.state,
        publication: _this3.props.publication,
        publicationMetaData: _this3.props.publicationMetaData,
        cartUpdate: _this3.props.reduxCartUpdate,
        issue: _this3.props.issuePublication ? _this3.props.issuePublication.message.contains[0] : undefined,
        asyncGetItem: _this3.props.asyncGetItem
      }
    });
  };

  this.back = function () {
    var publication = _this3.props.publication;
    _reactRouter.browserHistory.push(_routing.routes.publications + '/' + encodeURIComponent(publication.message.doi));
  };
}, _temp);
exports.default = AddArticleCard;


function getSubmitSubItems(items) {
  return _lodash2.default.filter(items, function (item) {
    for (var key in item) {
      // checking all the properties of errors to see if there is a true
      if (item[key]) {
        try {
          if (item[key].trim().length > 0) {
            return item;
          }
        } catch (e) {
          if (item[key].length > 0) {
            return item;
          }
        }
      }
    }
  });
}

});

;require.register("components/addArticleCardComponents.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.BottomFields = exports.DatesRow = exports.ArticleUrlField = exports.ArticleDOIField = exports.OptionalTitleData = exports.ArticleTitleField = exports.ErrorBubble = exports.InfoBubble = exports.InfoHelperRow = exports.TopBar = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _jsxFileName = 'app/components/addArticleCardComponents.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactToggleSwitch = require('react-toggle-switch');

var _reactToggleSwitch2 = _interopRequireDefault(_reactToggleSwitch);

var _classwrapper = require('../utilities/classwrapper');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TopBar = exports.TopBar = function TopBar(_ref) {
  var title = _ref.title;
  return _react2.default.createElement(
    _classwrapper.ClassWrapper,
    { classNames: ['topbar', 'titleholder', 'titleinnerholder'], __source: {
        fileName: _jsxFileName,
        lineNumber: 8
      },
      __self: undefined
    },
    _react2.default.createElement(
      'div',
      { className: 'titleIconHolder', __source: {
          fileName: _jsxFileName,
          lineNumber: 9
        },
        __self: undefined
      },
      _react2.default.createElement('img', { src: 'images/AddArticle/Asset_Icons_White_Write.svg', __source: {
          fileName: _jsxFileName,
          lineNumber: 10
        },
        __self: undefined
      })
    ),
    _react2.default.createElement(
      'div',
      { className: 'articletitle', __source: {
          fileName: _jsxFileName,
          lineNumber: 12
        },
        __self: undefined
      },
      title
    )
  );
};

var InfoHelperRow = exports.InfoHelperRow = function (_Component) {
  (0, _inherits3.default)(InfoHelperRow, _Component);

  function InfoHelperRow() {
    (0, _classCallCheck3.default)(this, InfoHelperRow);
    return (0, _possibleConstructorReturn3.default)(this, (InfoHelperRow.__proto__ || (0, _getPrototypeOf2.default)(InfoHelperRow)).apply(this, arguments));
  }

  (0, _createClass3.default)(InfoHelperRow, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      return _react2.default.createElement(
        'div',
        { className: 'row infohelper', __source: {
            fileName: _jsxFileName,
            lineNumber: 21
          },
          __self: this
        },
        _react2.default.createElement(
          _classwrapper.ClassWrapper,
          { classNames: ['fieldHolder', 'fieldinnerholder fulllength', 'labelholder', 'labelinnerholder'], __source: {
              fileName: _jsxFileName,
              lineNumber: 23
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'label', __source: {
                fileName: _jsxFileName,
                lineNumber: 24
              },
              __self: this
            },
            '* Indicates Required fields'
          )
        ),
        _react2.default.createElement(
          _classwrapper.ClassWrapper,
          { classNames: ['errorHolder', 'switchOuterHolder', 'switchInnerHolder', 'switchLicense'], __source: {
              fileName: _jsxFileName,
              lineNumber: 27
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'switchLabel', __source: {
                fileName: _jsxFileName,
                lineNumber: 28
              },
              __self: this
            },
            _react2.default.createElement(
              'span',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 28
                },
                __self: this
              },
              'Show Help'
            )
          ),
          _react2.default.createElement(_reactToggleSwitch2.default, {
            ref: 'showHelper',
            onClick: function onClick() {
              _this2.props.setState({ on: !_this2.props.on }, function () {
                _this2.props.setState({ showHelper: _this2.props.on });
              });
            },
            on: this.props.on,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 29
            },
            __self: this
          })
        )
      );
    }
  }]);
  return InfoHelperRow;
}(_react.Component);

var InfoBubble = exports.InfoBubble = function InfoBubble() {
  return _react2.default.createElement(
    _classwrapper.ClassWrapper,
    { classNames: ['errorHolder talltooltip helpers', 'toolTipHolder', ['a', "tooltips"], 'toolmsgholder', 'errormsgholder'], __source: {
        fileName: _jsxFileName,
        lineNumber: 46
      },
      __self: undefined
    },
    _react2.default.createElement(
      'div',
      { className: 'errormsginnerholder', __source: {
          fileName: _jsxFileName,
          lineNumber: 47
        },
        __self: undefined
      },
      _react2.default.createElement(
        'div',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 48
          },
          __self: undefined
        },
        _react2.default.createElement('img', { src: 'images/AddArticle/Asset_Icons_Grey_Help.svg', __source: {
            fileName: _jsxFileName,
            lineNumber: 48
          },
          __self: undefined
        })
      ),
      _react2.default.createElement(
        'div',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 49
          },
          __self: undefined
        },
        'Please provide a Title that fully describes your Article'
      )
    )
  );
};

var ErrorBubble = exports.ErrorBubble = function ErrorBubble(_ref2) {
  var errors = _ref2.errors,
      crossmarkErrors = _ref2.crossmarkErrors;
  return _react2.default.createElement(
    _classwrapper.ClassWrapper,
    { classNames: ['errorHolder talltooltip fullError', 'toolTipHolder', ['a', "tooltips"], 'toolmsgholder', 'errormsgholder', 'errormsginnerholder'], __source: {
        fileName: _jsxFileName,
        lineNumber: 55
      },
      __self: undefined
    },
    _react2.default.createElement(
      'div',
      {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 56
        },
        __self: undefined
      },
      _react2.default.createElement('img', { src: 'images/AddArticle/Asset_Icons_Grey_Caution.svg', __source: {
          fileName: _jsxFileName,
          lineNumber: 56
        },
        __self: undefined
      })
    ),
    (errors.doi || errors.url || errors.title || errors.printDateYear || errors.onlineDateYear || errors.licenseStartDate || crossmarkErrors.update_0_DOI_Missing || crossmarkErrors.update_0_year || crossmarkErrors.clinical_0_registry || crossmarkErrors.clinical_0_trialNumber) && _react2.default.createElement(
      'div',
      {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 66
        },
        __self: undefined
      },
      _react2.default.createElement(
        'b',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 66
          },
          __self: undefined
        },
        'Required.'
      ),
      _react2.default.createElement('br', {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 66
        },
        __self: undefined
      }),
      'Please provide required informaton.'
    ),
    errors.invalidurl && _react2.default.createElement(
      'div',
      {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 69
        },
        __self: undefined
      },
      _react2.default.createElement(
        'b',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 69
          },
          __self: undefined
        },
        'Invalid URL.'
      ),
      _react2.default.createElement('br', {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 69
        },
        __self: undefined
      }),
      'Please check your URL.'
    ),
    errors.invaliddoi && _react2.default.createElement(
      'div',
      {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 72
        },
        __self: undefined
      },
      _react2.default.createElement(
        'b',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 72
          },
          __self: undefined
        },
        'Invalid DOI.'
      ),
      _react2.default.createElement('br', {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 72
        },
        __self: undefined
      }),
      'Please check your DOI (10.xxxx/xx...). Record prefix (10.xxxx) must match publication prefix.'
    ),
    errors.dupedoi && _react2.default.createElement(
      'div',
      {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 75
        },
        __self: undefined
      },
      _react2.default.createElement(
        'b',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 75
          },
          __self: undefined
        },
        'Duplicate DOI.'
      ),
      _react2.default.createElement('br', {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 75
        },
        __self: undefined
      }),
      'Registering a new DOI? This one already exists.'
    ),
    crossmarkErrors.peer_0_href && _react2.default.createElement(
      'div',
      {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 78
        },
        __self: undefined
      },
      _react2.default.createElement(
        'b',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 78
          },
          __self: undefined
        },
        'Invalid URL.'
      ),
      _react2.default.createElement('br', {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 78
        },
        __self: undefined
      }),
      'Please check your Crossmark Peer Review URL.'
    ),
    crossmarkErrors.copyright_0_href && _react2.default.createElement(
      'div',
      {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 81
        },
        __self: undefined
      },
      _react2.default.createElement(
        'b',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 81
          },
          __self: undefined
        },
        'Invalid URL.'
      ),
      _react2.default.createElement('br', {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 81
        },
        __self: undefined
      }),
      'Please check your Crossmark Copyright / Licensing URL.'
    ),
    crossmarkErrors.supp_0_href && _react2.default.createElement(
      'div',
      {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 84
        },
        __self: undefined
      },
      _react2.default.createElement(
        'b',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 84
          },
          __self: undefined
        },
        'Invalid URL.'
      ),
      _react2.default.createElement('br', {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 84
        },
        __self: undefined
      }),
      'Please check your Crossmark Supplamentary Material URL.'
    ),
    crossmarkErrors.other_0_href && _react2.default.createElement(
      'div',
      {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 87
        },
        __self: undefined
      },
      _react2.default.createElement(
        'b',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 87
          },
          __self: undefined
        },
        'Invalid URL.'
      ),
      _react2.default.createElement('br', {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 87
        },
        __self: undefined
      }),
      'Please check your Crossmark Other URL.'
    ),
    crossmarkErrors.update_0_DOI_Invalid && _react2.default.createElement(
      'div',
      {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 90
        },
        __self: undefined
      },
      _react2.default.createElement(
        'b',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 90
          },
          __self: undefined
        },
        'Invalid DOI.'
      ),
      _react2.default.createElement('br', {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 90
        },
        __self: undefined
      }),
      'Please check your Crossmark Status Update DOI (10.xxxx/xx...).'
    )
  );
};

var ArticleTitleField = exports.ArticleTitleField = function (_Component2) {
  (0, _inherits3.default)(ArticleTitleField, _Component2);

  function ArticleTitleField() {
    (0, _classCallCheck3.default)(this, ArticleTitleField);
    return (0, _possibleConstructorReturn3.default)(this, (ArticleTitleField.__proto__ || (0, _getPrototypeOf2.default)(ArticleTitleField)).apply(this, arguments));
  }

  (0, _createClass3.default)(ArticleTitleField, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'fieldHolder', __source: {
            fileName: _jsxFileName,
            lineNumber: 100
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'fieldinnerholder fulllength', __source: {
              fileName: _jsxFileName,
              lineNumber: 101
            },
            __self: this
          },
          _react2.default.createElement(
            _classwrapper.ClassWrapper,
            { classNames: ['labelholder', 'labelinnerholder'], __source: {
                fileName: _jsxFileName,
                lineNumber: 102
              },
              __self: this
            },
            ' ',
            _react2.default.createElement(
              'div',
              { className: 'label', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 102
                },
                __self: this
              },
              'Article Title (Required)'
            ),
            ' '
          ),
          _react2.default.createElement(
            'div',
            { className: 'requrefieldholder', __source: {
                fileName: _jsxFileName,
                lineNumber: 103
              },
              __self: this
            },
            _react2.default.createElement(
              _classwrapper.ClassWrapper,
              { classNames: ['requiredholder', 'required height64'], __source: {
                  fileName: _jsxFileName,
                  lineNumber: 104
                },
                __self: this
              },
              _react2.default.createElement(
                'span',
                {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 104
                  },
                  __self: this
                },
                '*'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'field', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 105
                },
                __self: this
              },
              _react2.default.createElement('textarea', {
                className: 'height64' + (this.props.errors.title ? ' fieldError' : ''),
                type: 'text',
                name: 'title',
                onChange: this.props.handleChange,
                value: this.props.title,
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 106
                },
                __self: this
              })
            )
          )
        )
      );
    }
  }]);
  return ArticleTitleField;
}(_react.Component);

var OptionalTitleData = exports.OptionalTitleData = function (_Component3) {
  (0, _inherits3.default)(OptionalTitleData, _Component3);

  function OptionalTitleData() {
    (0, _classCallCheck3.default)(this, OptionalTitleData);
    return (0, _possibleConstructorReturn3.default)(this, (OptionalTitleData.__proto__ || (0, _getPrototypeOf2.default)(OptionalTitleData)).apply(this, arguments));
  }

  (0, _createClass3.default)(OptionalTitleData, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'OptionalTitleFields', __source: {
            fileName: _jsxFileName,
            lineNumber: 125
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'toggleButton', onClick: this.props.toggleFields, __source: {
              fileName: _jsxFileName,
              lineNumber: 126
            },
            __self: this
          },
          _react2.default.createElement(
            'span',
            { className: 'arrowHolder' + (this.props.show ? ' openArrowHolder' : ''), __source: {
                fileName: _jsxFileName,
                lineNumber: 127
              },
              __self: this
            },
            _react2.default.createElement('img', { src: 'images/AddArticle/DarkTriangle.svg', __source: {
                fileName: _jsxFileName,
                lineNumber: 128
              },
              __self: this
            })
          ),
          _react2.default.createElement(
            'span',
            {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 130
              },
              __self: this
            },
            'Optional Title Data'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'hiddenFields' + (this.props.show ? 'showOptionalTitle' : ''), __source: {
              fileName: _jsxFileName,
              lineNumber: 132
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'fieldHolder first', __source: {
                fileName: _jsxFileName,
                lineNumber: 133
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'fieldinnerholder fulllength', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 134
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'labelholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 135
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'labelinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 136
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'label', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 137
                      },
                      __self: this
                    },
                    'Subtitle (Optional)'
                  )
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'requrefieldholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 140
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'requiredholder norequire', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 141
                    },
                    __self: this
                  },
                  _react2.default.createElement('div', { className: 'required height64', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 142
                    },
                    __self: this
                  })
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'field', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 144
                    },
                    __self: this
                  },
                  _react2.default.createElement('textarea', {
                    className: 'height64',
                    type: 'text',
                    name: 'subtitle',
                    onChange: this.props.handleChange,
                    value: this.props.subtitle,
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 145
                    },
                    __self: this
                  })
                )
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'fieldHolder', __source: {
                fileName: _jsxFileName,
                lineNumber: 157
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'fieldinnerholder fulllength', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 158
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'labelholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 159
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'labelinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 160
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'label', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 161
                      },
                      __self: this
                    },
                    'Original Language Title (Optional)'
                  )
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'requrefieldholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 164
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'requiredholder norequire', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 165
                    },
                    __self: this
                  },
                  _react2.default.createElement('div', { className: 'required height64', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 166
                    },
                    __self: this
                  })
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'field', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 168
                    },
                    __self: this
                  },
                  _react2.default.createElement('textarea', {
                    className: 'height64',
                    type: 'text',
                    name: 'originallanguagetitle',
                    onChange: this.props.handleChange,
                    value: this.props.originallanguagetitle,
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 169
                    },
                    __self: this
                  })
                )
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'fieldHolder', __source: {
                fileName: _jsxFileName,
                lineNumber: 180
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'fieldinnerholder fulllength', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 181
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'labelholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 182
                  },
                  __self: this
                },
                _react2.default.createElement('div', {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 183
                  },
                  __self: this
                }),
                _react2.default.createElement(
                  'div',
                  { className: 'labelinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 184
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'label', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 185
                      },
                      __self: this
                    },
                    'Original Language Title Subtitle'
                  )
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'requrefieldholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 188
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'requiredholder norequire', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 189
                    },
                    __self: this
                  },
                  _react2.default.createElement('div', { className: 'required height64', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 190
                    },
                    __self: this
                  })
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'field', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 192
                    },
                    __self: this
                  },
                  _react2.default.createElement('textarea', {
                    className: 'height64',
                    type: 'text',
                    name: 'originallanguagetitlesubtitle',
                    onChange: this.props.handleChange,
                    value: this.props.originallanguagetitlesubtitle,
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 193
                    },
                    __self: this
                  })
                )
              )
            )
          )
        )
      );
    }
  }]);
  return OptionalTitleData;
}(_react.Component);

var ArticleDOIField = exports.ArticleDOIField = function (_Component4) {
  (0, _inherits3.default)(ArticleDOIField, _Component4);

  function ArticleDOIField() {
    (0, _classCallCheck3.default)(this, ArticleDOIField);
    return (0, _possibleConstructorReturn3.default)(this, (ArticleDOIField.__proto__ || (0, _getPrototypeOf2.default)(ArticleDOIField)).apply(this, arguments));
  }

  (0, _createClass3.default)(ArticleDOIField, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 214
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'fieldinnerholder halflength', __source: {
              fileName: _jsxFileName,
              lineNumber: 215
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'labelholder', __source: {
                fileName: _jsxFileName,
                lineNumber: 216
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'labelinnerholder', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 217
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'label', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 218
                  },
                  __self: this
                },
                'Article DOI (Required)'
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'requrefieldholder', __source: {
                fileName: _jsxFileName,
                lineNumber: 221
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'requiredholder', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 222
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'required height32', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 223
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'span',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 224
                    },
                    __self: this
                  },
                  '*'
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'field', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 227
                },
                __self: this
              },
              _react2.default.createElement('input', {
                className: 'height32' + (this.props.errors.doi || this.props.errors.dupedoi || this.props.errors.invaliddoi ? ' fieldError' : ''),
                type: 'text',
                name: 'doi',
                onChange: this.props.handleChange,
                value: this.props.doi,
                disabled: this.props.doiDisabled,
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 228
                },
                __self: this
              })
            )
          )
        )
      );
    }
  }]);
  return ArticleDOIField;
}(_react.Component);

var ArticleUrlField = exports.ArticleUrlField = function (_Component5) {
  (0, _inherits3.default)(ArticleUrlField, _Component5);

  function ArticleUrlField() {
    (0, _classCallCheck3.default)(this, ArticleUrlField);
    return (0, _possibleConstructorReturn3.default)(this, (ArticleUrlField.__proto__ || (0, _getPrototypeOf2.default)(ArticleUrlField)).apply(this, arguments));
  }

  (0, _createClass3.default)(ArticleUrlField, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 247
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'fieldinnerholder halflength', __source: {
              fileName: _jsxFileName,
              lineNumber: 248
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'labelholder', __source: {
                fileName: _jsxFileName,
                lineNumber: 249
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'labelinnerholder', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 250
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'label', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 251
                  },
                  __self: this
                },
                'Article URL (Required)'
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'requrefieldholder', __source: {
                fileName: _jsxFileName,
                lineNumber: 254
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'requiredholder', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 255
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'required height32', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 256
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'span',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 257
                    },
                    __self: this
                  },
                  '*'
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'field', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 260
                },
                __self: this
              },
              _react2.default.createElement('input', {
                className: 'height32' + (this.props.errors.url ? ' fieldError' : ''),
                type: 'text',
                name: 'url',
                onChange: this.props.handleChange,
                value: this.props.url,
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 261
                },
                __self: this
              })
            )
          )
        )
      );
    }
  }]);
  return ArticleUrlField;
}(_react.Component);

var DatesRow = exports.DatesRow = function (_Component6) {
  (0, _inherits3.default)(DatesRow, _Component6);

  function DatesRow() {
    (0, _classCallCheck3.default)(this, DatesRow);
    return (0, _possibleConstructorReturn3.default)(this, (DatesRow.__proto__ || (0, _getPrototypeOf2.default)(DatesRow)).apply(this, arguments));
  }

  (0, _createClass3.default)(DatesRow, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'row', __source: {
            fileName: _jsxFileName,
            lineNumber: 279
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'fieldHolder', __source: {
              fileName: _jsxFileName,
              lineNumber: 280
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'fieldinnerholder halflength', __source: {
                fileName: _jsxFileName,
                lineNumber: 281
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'labelholder', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 282
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'labelinnerholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 283
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'label', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 284
                    },
                    __self: this
                  },
                  'Print Date'
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'requrefieldholder', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 287
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'requiredholder' + ((this.props.article.onlineDateYear ? this.props.article.onlineDateYear : '').length === 0 ? ' dateselectrequire' : ' norequire'), __source: {
                    fileName: _jsxFileName,
                    lineNumber: 288
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'required height32', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 289
                    },
                    __self: this
                  },
                  (this.props.article.onlineDateYear ? this.props.article.onlineDateYear : '').length === 0 ? _react2.default.createElement(
                    'span',
                    {
                      __source: {
                        fileName: _jsxFileName,
                        lineNumber: 290
                      },
                      __self: this
                    },
                    '*'
                  ) : _react2.default.createElement('span', {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 290
                    },
                    __self: this
                  })
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'field', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 293
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'datepickerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 294
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'dateselectholder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 295
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      {
                        __source: {
                          fileName: _jsxFileName,
                          lineNumber: 296
                        },
                        __self: this
                      },
                      'Year ',
                      (this.props.article.onlineDateYear ? this.props.article.onlineDateYear : '').length === 0 ? '(*)' : ''
                    ),
                    _react2.default.createElement(
                      'div',
                      {
                        __source: {
                          fileName: _jsxFileName,
                          lineNumber: 297
                        },
                        __self: this
                      },
                      this.props.makeDateDropDown(this.props.handleChange, 'printDateYear', 'y', this.props.article.printDateYear, this.props.errors.printDateYear)
                    )
                  ),
                  _react2.default.createElement(
                    'div',
                    { className: 'dateselectholder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 301
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      {
                        __source: {
                          fileName: _jsxFileName,
                          lineNumber: 302
                        },
                        __self: this
                      },
                      'Month'
                    ),
                    _react2.default.createElement(
                      'div',
                      {
                        __source: {
                          fileName: _jsxFileName,
                          lineNumber: 303
                        },
                        __self: this
                      },
                      this.props.makeDateDropDown(this.props.handleChange, 'printDateMonth', 'm', this.props.article.printDateMonth, false)
                    )
                  ),
                  _react2.default.createElement(
                    'div',
                    { className: 'dateselectholder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 307
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      {
                        __source: {
                          fileName: _jsxFileName,
                          lineNumber: 308
                        },
                        __self: this
                      },
                      'Day'
                    ),
                    _react2.default.createElement(
                      'div',
                      {
                        __source: {
                          fileName: _jsxFileName,
                          lineNumber: 309
                        },
                        __self: this
                      },
                      this.props.makeDateDropDown(this.props.handleChange, 'printDateDay', 'd', this.props.article.printDateDay, false)
                    )
                  ),
                  _react2.default.createElement('div', {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 313
                    },
                    __self: this
                  })
                )
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'fieldinnerholder halflength', __source: {
                fileName: _jsxFileName,
                lineNumber: 320
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'labelholder', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 321
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'labelinnerholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 322
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'label', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 323
                    },
                    __self: this
                  },
                  'Online Date'
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'requrefieldholder', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 326
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'requiredholder' + ((this.props.article.printDateYear ? this.props.article.printDateYear : '').length === 0 ? ' dateselectrequire' : ' norequire'), __source: {
                    fileName: _jsxFileName,
                    lineNumber: 327
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'required height32', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 328
                    },
                    __self: this
                  },
                  (this.props.article.printDateYear ? this.props.article.printDateYear : '').length === 0 ? _react2.default.createElement(
                    'span',
                    {
                      __source: {
                        fileName: _jsxFileName,
                        lineNumber: 329
                      },
                      __self: this
                    },
                    '*'
                  ) : _react2.default.createElement('span', {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 329
                    },
                    __self: this
                  })
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'field', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 332
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'datepickerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 333
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'dateselectholder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 334
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      {
                        __source: {
                          fileName: _jsxFileName,
                          lineNumber: 335
                        },
                        __self: this
                      },
                      'Year ',
                      (this.props.article.printDateYear ? this.props.article.printDateYear : '').length === 0 ? '(*)' : ''
                    ),
                    _react2.default.createElement(
                      'div',
                      {
                        __source: {
                          fileName: _jsxFileName,
                          lineNumber: 336
                        },
                        __self: this
                      },
                      this.props.makeDateDropDown(this.props.handleChange, 'onlineDateYear', 'y', this.props.article.onlineDateYear, this.props.errors.onlineDateYear)
                    )
                  ),
                  _react2.default.createElement(
                    'div',
                    { className: 'dateselectholder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 338
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      {
                        __source: {
                          fileName: _jsxFileName,
                          lineNumber: 339
                        },
                        __self: this
                      },
                      'Month'
                    ),
                    _react2.default.createElement(
                      'div',
                      {
                        __source: {
                          fileName: _jsxFileName,
                          lineNumber: 340
                        },
                        __self: this
                      },
                      this.props.makeDateDropDown(this.props.handleChange, 'onlineDateMonth', 'm', this.props.article.onlineDateMonth, false)
                    )
                  ),
                  _react2.default.createElement(
                    'div',
                    { className: 'dateselectholder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 344
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      {
                        __source: {
                          fileName: _jsxFileName,
                          lineNumber: 345
                        },
                        __self: this
                      },
                      'Day'
                    ),
                    _react2.default.createElement(
                      'div',
                      {
                        __source: {
                          fileName: _jsxFileName,
                          lineNumber: 346
                        },
                        __self: this
                      },
                      this.props.makeDateDropDown(this.props.handleChange, 'onlineDateDay', 'd', this.props.article.onlineDateDay, false)
                    )
                  ),
                  _react2.default.createElement('div', {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 350
                    },
                    __self: this
                  })
                )
              )
            )
          )
        )
      );
    }
  }]);
  return DatesRow;
}(_react.Component);

var BottomFields = exports.BottomFields = function (_Component7) {
  (0, _inherits3.default)(BottomFields, _Component7);

  function BottomFields() {
    (0, _classCallCheck3.default)(this, BottomFields);
    return (0, _possibleConstructorReturn3.default)(this, (BottomFields.__proto__ || (0, _getPrototypeOf2.default)(BottomFields)).apply(this, arguments));
  }

  (0, _createClass3.default)(BottomFields, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 365
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'row', __source: {
              fileName: _jsxFileName,
              lineNumber: 366
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'fieldHolder', __source: {
                fileName: _jsxFileName,
                lineNumber: 367
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'fieldinnerholder halflength', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 368
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'labelholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 369
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'labelinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 370
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'label', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 371
                      },
                      __self: this
                    },
                    'Accepted Date'
                  )
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'requrefieldholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 374
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'requiredholder dateselectrequire norequire', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 375
                    },
                    __self: this
                  },
                  _react2.default.createElement('div', { className: 'required height32', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 376
                    },
                    __self: this
                  })
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'field', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 379
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'datepickerholder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 380
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'dateselectholder', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 381
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 382
                          },
                          __self: this
                        },
                        'Year'
                      ),
                      _react2.default.createElement(
                        'div',
                        {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 383
                          },
                          __self: this
                        },
                        this.props.makeDateDropDown(this.props.handleChange, 'acceptedDateYear', 'y', this.props.article.acceptedDateYear, false)
                      )
                    ),
                    _react2.default.createElement(
                      'div',
                      { className: 'dateselectholder', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 385
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 386
                          },
                          __self: this
                        },
                        'Month'
                      ),
                      _react2.default.createElement(
                        'div',
                        {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 387
                          },
                          __self: this
                        },
                        this.props.makeDateDropDown(this.props.handleChange, 'acceptedDateMonth', 'm', this.props.article.acceptedDateMonth, false)
                      )
                    ),
                    _react2.default.createElement(
                      'div',
                      { className: 'dateselectholder', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 391
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 392
                          },
                          __self: this
                        },
                        'Day'
                      ),
                      _react2.default.createElement(
                        'div',
                        {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 393
                          },
                          __self: this
                        },
                        this.props.makeDateDropDown(this.props.handleChange, 'acceptedDateDay', 'd', this.props.article.acceptedDateDay, false)
                      )
                    ),
                    _react2.default.createElement('div', {
                      __source: {
                        fileName: _jsxFileName,
                        lineNumber: 397
                      },
                      __self: this
                    })
                  )
                )
              )
            )
          ),
          _react2.default.createElement('div', { className: 'errorHolder', __source: {
              fileName: _jsxFileName,
              lineNumber: 404
            },
            __self: this
          })
        ),
        _react2.default.createElement(
          'div',
          { className: 'row', __source: {
              fileName: _jsxFileName,
              lineNumber: 408
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'fieldHolder', __source: {
                fileName: _jsxFileName,
                lineNumber: 409
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'fieldinnerholder halflength', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 410
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'labelholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 411
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'labelinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 412
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'label', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 413
                      },
                      __self: this
                    },
                    'First Page'
                  )
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'requrefieldholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 416
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'requiredholder norequire', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 417
                    },
                    __self: this
                  },
                  _react2.default.createElement('div', { className: 'required height32', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 418
                    },
                    __self: this
                  })
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'field', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 421
                    },
                    __self: this
                  },
                  _react2.default.createElement('input', {
                    name: 'firstPage',
                    className: 'height32',
                    type: 'text',
                    onChange: this.props.handleChange,
                    value: this.props.article.firstPage,
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 422
                    },
                    __self: this
                  })
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'fieldinnerholder halflength', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 432
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'labelholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 433
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'labelinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 434
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'label', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 435
                      },
                      __self: this
                    },
                    'Last Page'
                  )
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'requrefieldholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 438
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'requiredholder norequire', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 439
                    },
                    __self: this
                  },
                  _react2.default.createElement('div', { className: 'required height32', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 440
                    },
                    __self: this
                  })
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'field', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 443
                    },
                    __self: this
                  },
                  _react2.default.createElement('input', {
                    className: 'height32',
                    type: 'text',
                    name: 'lastPage',
                    onChange: this.props.handleChange,
                    value: this.props.article.lastPage,
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 444
                    },
                    __self: this
                  })
                )
              )
            )
          ),
          _react2.default.createElement('div', { className: 'errorHolder', __source: {
              fileName: _jsxFileName,
              lineNumber: 455
            },
            __self: this
          })
        ),
        _react2.default.createElement(
          'div',
          { className: 'row', __source: {
              fileName: _jsxFileName,
              lineNumber: 459
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'fieldHolder', __source: {
                fileName: _jsxFileName,
                lineNumber: 460
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'fieldinnerholder halflength', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 461
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'labelholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 462
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'labelinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 463
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'label', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 464
                      },
                      __self: this
                    },
                    'Article / Electronic Location ID'
                  )
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'requrefieldholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 467
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'requiredholder norequire', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 468
                    },
                    __self: this
                  },
                  _react2.default.createElement('div', { className: 'required height32', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 469
                    },
                    __self: this
                  })
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'field', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 472
                    },
                    __self: this
                  },
                  _react2.default.createElement('input', {
                    className: 'height32',
                    type: 'text',
                    name: 'locationId',
                    onChange: this.props.handleChange,
                    value: this.props.article.locationId,
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 473
                    },
                    __self: this
                  })
                )
              )
            )
          ),
          _react2.default.createElement('div', { className: 'errorHolder', __source: {
              fileName: _jsxFileName,
              lineNumber: 484
            },
            __self: this
          })
        ),
        _react2.default.createElement(
          'div',
          { className: 'row', __source: {
              fileName: _jsxFileName,
              lineNumber: 488
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'fieldHolder', __source: {
                fileName: _jsxFileName,
                lineNumber: 489
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'fieldinnerholder fulllength', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 490
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'labelholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 491
                  },
                  __self: this
                },
                _react2.default.createElement('div', {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 492
                  },
                  __self: this
                }),
                _react2.default.createElement(
                  'div',
                  { className: 'labelinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 493
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'label', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 494
                      },
                      __self: this
                    },
                    'Abstract'
                  )
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'requrefieldholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 497
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'requiredholder norequire', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 498
                    },
                    __self: this
                  },
                  _react2.default.createElement('div', { className: 'required height64', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 499
                    },
                    __self: this
                  })
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'field', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 502
                    },
                    __self: this
                  },
                  _react2.default.createElement('textarea', {
                    className: 'height64',
                    type: 'text',
                    name: 'abstract',
                    onChange: this.props.handleChange,
                    value: this.props.article.abstract,
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 503
                    },
                    __self: this
                  })
                )
              )
            )
          ),
          _react2.default.createElement('div', { className: 'errorHolder', __source: {
              fileName: _jsxFileName,
              lineNumber: 514
            },
            __self: this
          })
        )
      );
    }
  }]);
  return BottomFields;
}(_react.Component);

});

require.register("components/addIssueCard.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _defineProperty2 = require('babel-runtime/helpers/defineProperty');

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _initialiseProps,
    _jsxFileName = 'app/components/addIssueCard.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _redux = require('redux');

var _reactRouter = require('react-router');

var _immutabilityHelper = require('immutability-helper');

var _immutabilityHelper2 = _interopRequireDefault(_immutabilityHelper);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _reactToggleSwitch = require('react-toggle-switch');

var _reactToggleSwitch2 = _interopRequireDefault(_reactToggleSwitch);

var _my_decorators = require('my_decorators');

var _jquery = require('jquery');

var _jquery2 = _interopRequireDefault(_jquery);

var _date = require('../utilities/date');

var _subItem = require('./SubItems/subItem');

var _subItem2 = _interopRequireDefault(_subItem);

var _fetch = require('../utilities/fetch');

var _fetch2 = _interopRequireDefault(_fetch);

var _dupeDOI = require('../utilities/dupeDOI');

var _dupeDOI2 = _interopRequireDefault(_dupeDOI);

var _isDOI = require('../utilities/isDOI');

var _isDOI2 = _interopRequireDefault(_isDOI);

var _isURL = require('../utilities/isURL');

var _isURL2 = _interopRequireDefault(_isURL);

var _xmldoc = require('../utilities/xmldoc');

var _xmldoc2 = _interopRequireDefault(_xmldoc);

var _jsesc = require('../utilities/jsesc');

var _jsesc2 = _interopRequireDefault(_jsesc);

var _objectSearch = require('../utilities/objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

var _getSubItems = require('../utilities/getSubItems');

var _archiveLocations = require('../utilities/archiveLocations');

var _xmlGenerator = require('../utilities/xmlGenerator');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var defaultState = {
  showIssueDoiReq: false,
  showHelper: false,
  on: false,
  error: false,
  version: '0',
  errors: {
    issueUrl: false,
    printDateYear: false,
    onlineDateYear: false,
    invalidissueurl: false,
    dupeissuedoi: false,
    invalidissuedoi: false,
    issuedoi: false,
    volumeUrl: false,
    invalidvolumeurl: false,
    dupevolumedoi: false,
    invalidvolumedoi: false,
    volumedoi: false
  },
  issue: {
    issue: '',
    issueTitle: '',
    issueDoi: '',
    issueUrl: '',
    printDateYear: '',
    printDateMonth: '',
    printDateDay: '',
    onlineDateYear: '',
    onlineDateMonth: '',
    onlineDateDay: '',
    archiveLocation: '',
    specialIssueNumber: '',
    volume: '',
    volumeDoi: '',
    volumeUrl: ''
  },
  optionalIssueInfo: [{
    firstName: '',
    lastName: '',
    suffix: '',
    affiliation: '',
    orcid: '',
    alternativeName: '',
    role: ''
  }]
};

var AddIssueCard = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(AddIssueCard, _Component);

  function AddIssueCard(props) {
    (0, _classCallCheck3.default)(this, AddIssueCard);

    var _this = (0, _possibleConstructorReturn3.default)(this, (AddIssueCard.__proto__ || (0, _getPrototypeOf2.default)(AddIssueCard)).call(this, props));

    _initialiseProps.call(_this);

    _this.state = defaultState;
    _this.state.issue.issueDoi = props.ownerPrefix + '/';
    return _this;
  }

  (0, _createClass3.default)(AddIssueCard, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      if (this.props.mode === 'edit') {
        this.modalShown();
      }
    }
  }, {
    key: 'optionalIssueInfoHandler',
    value: function optionalIssueInfoHandler(index, OptIssueInfo) {
      var optIssueInfo = {};
      for (var i in OptIssueInfo.refs) {
        if (OptIssueInfo.refs[i]) {
          optIssueInfo[i] = OptIssueInfo.refs[i].value;
        }
      }

      this.setState({ // this situation, state did NOT update immediately to see change, must pass in a call back
        optionalIssueInfo: (0, _immutabilityHelper2.default)(this.state.optionalIssueInfo, (0, _defineProperty3.default)({}, index, { $set: optIssueInfo }))
      });
    }
  }, {
    key: 'addOptionalIssueInfo',
    value: function addOptionalIssueInfo() {
      this.setState({ // this situation, state did NOT update immediately to see change, must pass in a call back
        optionalIssueInfo: (0, _immutabilityHelper2.default)(this.state.optionalIssueInfo, { $push: [{
            firstName: '',
            lastName: '',
            suffix: '',
            affiliation: '',
            orcid: '',
            alternativeName: '',
            role: ''
          }]
        })
      });
    }
  }, {
    key: 'removeOptionalIssueInfo',
    value: function removeOptionalIssueInfo(index) {
      this.setState({ // this situation, state did NOT update immediately to see change, must pass in a call back
        optionalIssueInfo: (0, _immutabilityHelper2.default)(this.state.optionalIssueInfo, { $splice: [[index, 1]] })
      });
    }
  }, {
    key: 'validation',
    value: function validation(callback) {
      var _this2 = this;

      var errorStates = {
        issue: { $set: false },
        issueUrl: { $set: false },
        printDateYear: { $set: false },
        onlineDateYear: { $set: false },
        invalidissueurl: { $set: false },
        dupeissuedoi: { $set: false },
        invalidissuedoi: { $set: false },
        issuedoi: { $set: false },
        volumeUrl: { $set: false },
        invalidvolumeurl: { $set: false },
        dupevolumedoi: { $set: false },
        invalidvolumedoi: { $set: false },
        volumedoi: { $set: false }
      };
      this.setState({
        error: false,
        errors: (0, _immutabilityHelper2.default)(this.state.errors, errorStates)
      });

      return (0, _dupeDOI2.default)([this.state.issue.issueDoi, this.state.issue.volumeDoi], function (isDupe, isValid) {

        var hasPrintYear = false,
            hasOnlineYear = false;
        if (_this2.state.issue.printDateYear.length > 0 || _this2.state.issue.onlineDateYear.length > 0) {
          //hasDate = true
          if (_this2.state.issue.printDateYear.length > 0) {
            hasPrintYear = true;
          }
          if (_this2.state.issue.onlineDateYear.length > 0) {
            hasOnlineYear = true;
          }
        }

        var validateOwnerPrefix = function validateOwnerPrefix() {
          if ((0, _isDOI2.default)(_this2.state.issue.issueDoi) && _this2.state.issue.issueDoi.split('/')[0] === _this2.props.ownerPrefix) return true;else return false;
        };

        errorStates = {
          issue: { $set: _this2.state.issue.issue.length === 0 },
          issueUrl: { $set: _this2.state.issue.issueUrl.length === 0 },
          printDateYear: { $set: _this2.state.issue.printDateYear.length === 0 },
          onlineDateYear: { $set: _this2.state.issue.onlineDateYear.length === 0 },
          invalidissueurl: { $set: !(0, _isURL2.default)(_this2.state.issue.issueUrl) },
          dupeissuedoi: { $set: _this2.state.issue.issueDoi.length > 0 ? isDupe[0] : false }, // we only care IF there is a DOI
          issuedoi: { $set: _this2.state.issue.issueDoi.length === 0 && (0, _isURL2.default)(_this2.state.issue.issueUrl) }, // we only care IF there is a DOI
          invalidissuedoi: { $set: _this2.state.issue.issueDoi.length > 0 && (0, _isURL2.default)(_this2.state.issue.issueUrl) ? !validateOwnerPrefix() : false // we only care IF there is a DOI
          } };

        if (hasPrintYear) {
          // has print year, don't care if there is a online year
          errorStates.onlineDateYear = { $set: false };
        }
        if (hasOnlineYear) {
          // has online year, don't care if there is a print year
          errorStates.printDateYear = { $set: false };
        }

        errorStates.dupeissuedoi = _this2.state.issueDoiDisabled ? { $set: false } : errorStates.dupeissuedoi;

        if ((_this2.state.issue.volume ? _this2.state.issue.volume : '').length > 0 || (_this2.state.issue.volumeDoi ? _this2.state.issue.volumeDoi : '').length > 0 || (_this2.state.issue.volumeUrl ? _this2.state.issue.volumeUrl : '').length > 0) {
          errorStates.dupevolumedoi = { $set: (_this2.state.issue.volumeDoi ? _this2.state.issue.volumeDoi : '').length > 0 ? isDupe[1] ? isDupe[1] : false : false }, // we only care IF there is a DOI
          errorStates.invalidvolumedoi = { $set: (_this2.state.issue.volumeDoi ? _this2.state.issue.volumeDoi : '').length > 0 && !(0, _isDOI2.default)(_this2.state.issue.volumeDoi) }, // we only care IF there is a DOI
          errorStates.invalidvolumeurl = { $set: (_this2.state.issue.volumeUrl ? _this2.state.issue.volumeUrl : '').length > 0 ? !(0, _isURL2.default)(_this2.state.issue.volumeUrl) : false };

          errorStates.dupevolumedoi = _this2.state.volumeDoiDisabled ? { $set: false } : errorStates.dupevolumedoi;
        }

        _this2.setState({
          errors: (0, _immutabilityHelper2.default)(_this2.state.errors, errorStates)
        }, function () {
          var errors = ['issuedoi', 'invalidissuedoi', 'dupeissuedoi', 'issueTitle'];

          for (var key in _this2.state.errors) {
            // checking all the properties of errors to see if there is a true
            if (_this2.state.errors[key]) {
              // only return there is error and prevent from saving if there is no title + doi
              _this2.setState({ error: true });
              return errors.indexOf(key) > -1 ? callback(_this2.state.errors[key]) : callback(false);
            }
          }
          return callback(false); // iterated the entire object, no true, returning a false, no error
        });
      });
    }
  }, {
    key: 'closeModal',
    value: function closeModal() {
      this.setState(defaultState);
      this.props.reduxControlModal({ showModal: false });
    }
  }, {
    key: 'modalShown',
    value: function modalShown() {
      var _this3 = this;

      var doi = this.props.issue.doi;
      // if doi is not required, then how is UI suppose to find a issue?

      this.props.fetchIssue(doi, function (Publication) {
        var message = Publication.message;
        var Issue = message.contains[0];
        var version = Issue['mdt-version'];

        var parsedIssue = (0, _xmldoc2.default)(Issue.content);
        var issueTitle = (0, _objectSearch2.default)(parsedIssue, 'title') ? (0, _objectSearch2.default)(parsedIssue, 'title') : '';
        var issue = (0, _objectSearch2.default)(parsedIssue, 'issue') ? (0, _objectSearch2.default)(parsedIssue, 'issue') : '';
        var issueDoi = (0, _objectSearch2.default)(parsedIssue, 'doi') ? (0, _objectSearch2.default)(parsedIssue, 'doi') : '';
        var issueUrl = (0, _objectSearch2.default)(parsedIssue, 'resource') ? (0, _objectSearch2.default)(parsedIssue, 'resource') : '';
        var special_numbering = (0, _objectSearch2.default)(parsedIssue, 'special_numbering') ? (0, _objectSearch2.default)(parsedIssue, 'special_numbering') : '';
        var publication_date = (0, _objectSearch2.default)(parsedIssue, 'publication_date');

        if (!Array.isArray(publication_date)) publication_date = [publication_date]; //Code below wants array of values, but if we accept only 1 date, we get only 1 object, so we transform into array

        var onlinePubDate = _lodash2.default.find(publication_date, function (pubDate) {
          if (pubDate) {
            if (pubDate['-media_type'] === 'online') {
              return pubDate;
            }
          }
        });

        var printPubDate = _lodash2.default.find(publication_date, function (pubDate) {
          if (pubDate) {
            if (pubDate['-media_type'] === 'print') {
              return pubDate;
            }
          }
        });
        var printDateYear = '';
        var printDateMonth = '';
        var printDateDay = '';
        if (printPubDate) {
          printDateYear = printPubDate['year'] ? printPubDate['year'] : '';
          printDateMonth = printPubDate['month'] ? printPubDate['month'] : '';
          printDateDay = printPubDate['day'] ? printPubDate['day'] : '';
        }

        var onlineDateYear = '';
        var onlineDateMonth = '';
        var onlineDateDay = '';
        if (onlinePubDate) {
          onlineDateYear = onlinePubDate['year'] ? onlinePubDate['year'] : '';
          onlineDateMonth = onlinePubDate['month'] ? onlinePubDate['month'] : '';
          onlineDateDay = onlinePubDate['day'] ? onlinePubDate['day'] : '';
        }

        var archiveLocations = (0, _objectSearch2.default)(parsedIssue, 'archive_locations');
        var archive = '';
        if (archiveLocations) {
          archive = archiveLocations.archive['-name'];
        }

        var journal_volume = (0, _objectSearch2.default)(parsedIssue, 'journal_volume');
        if (journal_volume) {
          var theVolume = (0, _objectSearch2.default)(journal_volume, 'volume') ? (0, _objectSearch2.default)(journal_volume, 'volume') : '';
          var volumeDoiData = (0, _objectSearch2.default)(journal_volume, 'doi_data') ? (0, _objectSearch2.default)(journal_volume, 'doi_data') : '';
          var volumeDoi = (0, _objectSearch2.default)(volumeDoiData, 'doi') ? (0, _objectSearch2.default)(volumeDoiData, 'doi') : '';
          var volumeUrl = (0, _objectSearch2.default)(volumeDoiData, 'resource') ? (0, _objectSearch2.default)(volumeDoiData, 'resource') : '';
        }

        var setIssue = {
          issue: issue,
          issueTitle: issueTitle,
          issueDoi: _this3.props.duplicate ? _this3.props.ownerPrefix + '/' : issueDoi,
          issueUrl: _this3.props.duplicate ? '' : issueUrl,
          printDateYear: printDateYear,
          printDateMonth: printDateMonth,
          printDateDay: printDateDay,
          onlineDateYear: onlineDateYear,
          onlineDateMonth: onlineDateMonth,
          onlineDateDay: onlineDateDay,
          archiveLocation: archive,
          specialIssueNumber: special_numbering,
          volume: theVolume,
          volumeDoi: volumeDoi,
          volumeUrl: volumeUrl

          // contributor loading
        };var contributors = (0, _objectSearch2.default)(parsedIssue, 'contributors');
        var contributee = [];
        // contributors are divied into 2 types
        // person_name and organization
        var person_name = undefined;
        if (contributors) {
          person_name = (0, _objectSearch2.default)(contributors, 'person_name');

          if (person_name) {
            // if exist
            if (!Array.isArray(person_name)) {
              // there is ONE funder
              contributee.push({
                firstName: person_name.given_name ? person_name.given_name : '',
                lastName: person_name.surname ? person_name.surname : '',
                suffix: person_name.suffix ? person_name.suffix : '',
                affiliation: person_name.affiliation ? person_name.affiliation : '',
                orcid: person_name.ORCID ? person_name.ORCID : '',
                alternativeName: person_name['alt-name'] ? person_name['alt-name'] : '',
                role: person_name['-contributor_role'] ? person_name['-contributor_role'] : ''
              });
            } else {
              // its an array
              _lodash2.default.each(person_name, function (person) {
                contributee.push({
                  firstName: person.given_name ? person.given_name : '',
                  lastName: person.surname ? person.surname : '',
                  suffix: person.suffix ? person.suffix : '',
                  affiliation: person.affiliation ? person.affiliation : '',
                  orcid: person.ORCID ? person.ORCID : '',
                  alternativeName: person['alt-name'] ? person['alt-name'] : '',
                  role: person['-contributor_role'] ? person['-contributor_role'] : ''
                });
              });
            }
          }
        }

        if (contributee.length <= 0) {
          contributee.push({
            firstName: '',
            lastName: '',
            suffix: '',
            affiliation: '',
            orcid: '',
            role: '',
            alternativeName: ''
          });
        }

        var issueDoiDisabled = false;
        if (issueDoi) {
          issueDoiDisabled = issueDoi.length > 0 && _this3.props.issue.status !== 'draft' ? true : false;
        }

        var volumeDoiDisabled = false;
        if (volumeDoi) {
          volumeDoiDisabled = volumeDoi.length > 0 && _this3.props.issue.status !== 'draft' ? true : false;
        }

        _this3.setState({
          version: version,
          issueDoiDisabled: issueDoiDisabled,
          volumeDoiDisabled: volumeDoiDisabled,
          issue: (0, _immutabilityHelper2.default)(_this3.state.issue, { $set: setIssue }),
          optionalIssueInfo: (0, _immutabilityHelper2.default)(_this3.state.optionalIssueInfo, { $set: contributee })
        });
      });
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      var firstError = (0, _jquery2.default)(".fieldError").first();
      if (firstError.length > 0) {
        (0, _jquery2.default)('.fullError').find('.tooltips').css({
          'top': firstError.offset().top + (firstError.position().top - firstError.position().top * .5) - ((0, _jquery2.default)('.switchLicense').first().position().top + 15) - ((0, _jquery2.default)('.switchLicense').first().offset().top + 15) + 15
        });
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this4 = this;

      return _react2.default.createElement(
        'div',
        { className: 'addIssueCard', __source: {
            fileName: _jsxFileName,
            lineNumber: 436
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 437
            },
            __self: this
          },
          _react2.default.createElement(
            'form',
            { onSubmit: this.onSubmit, className: 'addIssues', __source: {
                fileName: _jsxFileName,
                lineNumber: 438
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'articleInnerForm', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 439
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'body', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 440
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'row infohelper', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 441
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'errorHolder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 442
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'switchOuterHolder', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 443
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'switchInnerHolder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 444
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'switchLicense', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 445
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'switchLabel', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 446
                              },
                              __self: this
                            },
                            _react2.default.createElement(
                              'span',
                              {
                                __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 446
                                },
                                __self: this
                              },
                              'Show Help'
                            )
                          ),
                          _react2.default.createElement(_reactToggleSwitch2.default, {
                            ref: 'showHelper',
                            onClick: function onClick() {
                              _this4.setState({ on: !_this4.state.on }, function () {
                                _this4.setState({ showHelper: _this4.state.on });
                              });
                            },
                            on: this.state.on,
                            __source: {
                              fileName: _jsxFileName,
                              lineNumber: 447
                            },
                            __self: this
                          })
                        )
                      )
                    )
                  )
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'row', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 461
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'fieldHolder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 462
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 463
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 464
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 465
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 466
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 467
                              },
                              __self: this
                            },
                            'Issue'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 470
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 471
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'required height32', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 472
                              },
                              __self: this
                            },
                            _react2.default.createElement(
                              'span',
                              {
                                __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 473
                                },
                                __self: this
                              },
                              '*'
                            )
                          )
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 476
                            },
                            __self: this
                          },
                          _react2.default.createElement('input', {
                            className: 'height32',
                            type: 'text',
                            name: 'issue.issue',
                            onChange: this.handler,
                            value: this.state.issue.issue,
                            __source: {
                              fileName: _jsxFileName,
                              lineNumber: 477
                            },
                            __self: this
                          })
                        )
                      )
                    ),
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 487
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 488
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 489
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 490
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 491
                              },
                              __self: this
                            },
                            'Issue Title'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 494
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder norequire', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 495
                            },
                            __self: this
                          },
                          _react2.default.createElement('div', { className: 'required height32', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 496
                            },
                            __self: this
                          })
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 499
                            },
                            __self: this
                          },
                          _react2.default.createElement('input', {
                            className: 'height32',
                            type: 'text',
                            onChange: this.handler,
                            value: this.state.issue.issueTitle,
                            name: 'issue.issueTitle',
                            __source: {
                              fileName: _jsxFileName,
                              lineNumber: 500
                            },
                            __self: this
                          })
                        )
                      )
                    )
                  ),
                  !this.state.error && this.state.showHelper && _react2.default.createElement(
                    'div',
                    { className: 'errorHolder talltooltip helpers', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 512
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'toolTipHolder', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 513
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'a',
                        { className: 'tooltips', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 514
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'toolmsgholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 515
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'errormsgholder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 516
                              },
                              __self: this
                            },
                            _react2.default.createElement(
                              'div',
                              { className: 'errormsginnerholder', __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 517
                                },
                                __self: this
                              },
                              _react2.default.createElement('img', { src: 'images/AddArticle/Asset_Icons_White_Help.svg', __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 518
                                },
                                __self: this
                              }),
                              'Please provide a Title that fully describes your Issue'
                            )
                          )
                        )
                      )
                    )
                  ),
                  this.state.error && _react2.default.createElement(
                    'div',
                    { className: 'errorHolder talltooltip fullError', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 528
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'toolTipHolder', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 529
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'a',
                        { className: 'tooltips', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 530
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'toolmsgholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 531
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'errormsgholder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 532
                              },
                              __self: this
                            },
                            _react2.default.createElement(
                              'div',
                              { className: 'errormsginnerholder', __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 533
                                },
                                __self: this
                              },
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 534
                                  },
                                  __self: this
                                },
                                _react2.default.createElement('img', { src: 'images/AddArticle/Asset_Icons_White_Help.svg', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 534
                                  },
                                  __self: this
                                })
                              ),
                              (this.state.errors.issue || this.state.errors.issuedoi || this.state.errors.issueUrl || this.state.errors.printDateYear || this.state.errors.onlineDateYear) && _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 542
                                  },
                                  __self: this
                                },
                                _react2.default.createElement(
                                  'b',
                                  {
                                    __source: {
                                      fileName: _jsxFileName,
                                      lineNumber: 542
                                    },
                                    __self: this
                                  },
                                  'Required.'
                                ),
                                _react2.default.createElement('br', {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 542
                                  },
                                  __self: this
                                }),
                                'Please provide required informaton.'
                              ),
                              (this.state.errors.invalidissuedoi || this.state.errors.invalidvolumedoi) && _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 545
                                  },
                                  __self: this
                                },
                                _react2.default.createElement(
                                  'b',
                                  {
                                    __source: {
                                      fileName: _jsxFileName,
                                      lineNumber: 545
                                    },
                                    __self: this
                                  },
                                  'Invalid DOI.'
                                ),
                                _react2.default.createElement('br', {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 545
                                  },
                                  __self: this
                                }),
                                'Please check your DOI (10.xxxx/xx...). Record prefix (10.xxxx) must match publication prefix.'
                              ),
                              this.state.errors.invalidissueurl && _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 548
                                  },
                                  __self: this
                                },
                                _react2.default.createElement(
                                  'b',
                                  {
                                    __source: {
                                      fileName: _jsxFileName,
                                      lineNumber: 548
                                    },
                                    __self: this
                                  },
                                  'Invalid URL.'
                                ),
                                _react2.default.createElement('br', {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 548
                                  },
                                  __self: this
                                }),
                                'Please check your URL.'
                              ),
                              this.state.errors.dupeissuedoi && _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 551
                                  },
                                  __self: this
                                },
                                _react2.default.createElement(
                                  'b',
                                  {
                                    __source: {
                                      fileName: _jsxFileName,
                                      lineNumber: 551
                                    },
                                    __self: this
                                  },
                                  'Duplicate DOI.'
                                ),
                                _react2.default.createElement('br', {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 551
                                  },
                                  __self: this
                                }),
                                'Registering a new DOI? This one already exists.'
                              )
                            )
                          )
                        )
                      )
                    )
                  )
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'row', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 561
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'fieldHolder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 562
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 563
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 564
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 565
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 566
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 567
                              },
                              __self: this
                            },
                            'Issue DOI'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 570
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder' + (this.state.showIssueDoiReq ? '' : ' norequire'), __source: {
                              fileName: _jsxFileName,
                              lineNumber: 571
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'required height32', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 574
                              },
                              __self: this
                            },
                            this.state.showIssueDoiReq ? _react2.default.createElement(
                              'span',
                              {
                                __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 575
                                },
                                __self: this
                              },
                              '*'
                            ) : ''
                          )
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 578
                            },
                            __self: this
                          },
                          _react2.default.createElement('input', {
                            className: 'height32' + (this.state.errors.dupedoi || this.state.errors.invaliddoi ? ' fieldError' : ''),
                            type: 'text',
                            name: 'issue.issueDoi',
                            onChange: this.handler,
                            value: this.state.issue.issueDoi,
                            disabled: this.state.issueDoiDisabled && !this.props.duplicate,
                            __source: {
                              fileName: _jsxFileName,
                              lineNumber: 579
                            },
                            __self: this
                          })
                        )
                      )
                    ),
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 590
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 591
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 592
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 593
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 594
                              },
                              __self: this
                            },
                            'Issue URL (Required)'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 597
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 598
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'required height32', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 599
                              },
                              __self: this
                            },
                            _react2.default.createElement(
                              'span',
                              {
                                __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 600
                                },
                                __self: this
                              },
                              '*'
                            )
                          )
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 603
                            },
                            __self: this
                          },
                          _react2.default.createElement('input', {
                            className: 'height32' + (this.state.errors.issueUrl || this.state.errors.invalidissueurl ? ' fieldError' : ''),
                            type: 'text',
                            name: 'issue.issueUrl',
                            value: this.state.issue.issueUrl,
                            onChange: this.handler,
                            __source: {
                              fileName: _jsxFileName,
                              lineNumber: 604
                            },
                            __self: this
                          })
                        )
                      )
                    )
                  )
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'row', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 616
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'fieldHolder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 617
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 618
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 619
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 620
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 621
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 622
                              },
                              __self: this
                            },
                            'Print Date'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 625
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder' + ((this.state.issue.onlineDateYear ? this.state.issue.onlineDateYear : '').length === 0 ? ' dateselectrequire' : ' norequire'), __source: {
                              fileName: _jsxFileName,
                              lineNumber: 626
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'required height32', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 627
                              },
                              __self: this
                            },
                            (this.state.issue.onlineDateYear ? this.state.issue.onlineDateYear : '').length === 0 ? _react2.default.createElement(
                              'span',
                              {
                                __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 628
                                },
                                __self: this
                              },
                              '*'
                            ) : _react2.default.createElement('span', {
                              __source: {
                                fileName: _jsxFileName,
                                lineNumber: 628
                              },
                              __self: this
                            })
                          )
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 631
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'datepickerholder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 632
                              },
                              __self: this
                            },
                            _react2.default.createElement(
                              'div',
                              { className: 'dateselectholder', __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 633
                                },
                                __self: this
                              },
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 634
                                  },
                                  __self: this
                                },
                                'Year ',
                                (this.state.issue.onlineDateYear ? this.state.issue.onlineDateYear : '').length === 0 ? '(*)' : ''
                              ),
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 635
                                  },
                                  __self: this
                                },
                                (0, _date.makeDateDropDown)(this.handler, 'issue.printDateYear', 'y', this.state.issue.printDateYear, this.state.errors.printDateYear)
                              )
                            ),
                            _react2.default.createElement(
                              'div',
                              { className: 'dateselectholder', __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 637
                                },
                                __self: this
                              },
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 638
                                  },
                                  __self: this
                                },
                                'Month'
                              ),
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 639
                                  },
                                  __self: this
                                },
                                (0, _date.makeDateDropDown)(this.handler, 'issue.printDateMonth', 'm', this.state.issue.printDateMonth, false)
                              )
                            ),
                            _react2.default.createElement(
                              'div',
                              { className: 'dateselectholder', __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 643
                                },
                                __self: this
                              },
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 644
                                  },
                                  __self: this
                                },
                                'Day'
                              ),
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 645
                                  },
                                  __self: this
                                },
                                (0, _date.makeDateDropDown)(this.handler, 'issue.printDateDay', 'd', this.state.issue.printDateDay, false)
                              )
                            ),
                            _react2.default.createElement('div', {
                              __source: {
                                fileName: _jsxFileName,
                                lineNumber: 649
                              },
                              __self: this
                            })
                          )
                        )
                      )
                    ),
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 656
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 657
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 658
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 659
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 660
                              },
                              __self: this
                            },
                            'Online Date'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 663
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder' + ((this.state.issue.printDateYear ? this.state.issue.printDateYear : '').length === 0 ? ' dateselectrequire' : ' norequire'), __source: {
                              fileName: _jsxFileName,
                              lineNumber: 664
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'required height32', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 665
                              },
                              __self: this
                            },
                            (this.state.issue.printDateYear ? this.state.issue.printDateYear : '').length === 0 ? _react2.default.createElement(
                              'span',
                              {
                                __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 666
                                },
                                __self: this
                              },
                              '*'
                            ) : _react2.default.createElement('span', {
                              __source: {
                                fileName: _jsxFileName,
                                lineNumber: 666
                              },
                              __self: this
                            })
                          )
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 669
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'datepickerholder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 670
                              },
                              __self: this
                            },
                            _react2.default.createElement(
                              'div',
                              { className: 'dateselectholder', __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 671
                                },
                                __self: this
                              },
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 672
                                  },
                                  __self: this
                                },
                                'Year ',
                                (this.state.issue.printDateYear ? this.state.issue.printDateYear : '').length === 0 ? '(*)' : ''
                              ),
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 673
                                  },
                                  __self: this
                                },
                                (0, _date.makeDateDropDown)(this.handler, 'issue.onlineDateYear', 'y', this.state.issue.onlineDateYear, this.state.errors.onlineDateYear)
                              )
                            ),
                            _react2.default.createElement(
                              'div',
                              { className: 'dateselectholder', __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 675
                                },
                                __self: this
                              },
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 676
                                  },
                                  __self: this
                                },
                                'Month'
                              ),
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 677
                                  },
                                  __self: this
                                },
                                (0, _date.makeDateDropDown)(this.handler, 'issue.onlineDateMonth', 'm', this.state.issue.onlineDateMonth, false)
                              )
                            ),
                            _react2.default.createElement(
                              'div',
                              { className: 'dateselectholder', __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 681
                                },
                                __self: this
                              },
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 682
                                  },
                                  __self: this
                                },
                                'Day'
                              ),
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 683
                                  },
                                  __self: this
                                },
                                (0, _date.makeDateDropDown)(this.handler, 'issue.onlineDateDay', 'd', this.state.issue.onlineDateDay, false)
                              )
                            ),
                            _react2.default.createElement('div', {
                              __source: {
                                fileName: _jsxFileName,
                                lineNumber: 687
                              },
                              __self: this
                            })
                          )
                        )
                      )
                    )
                  )
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'row', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 695
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'fieldHolder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 696
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 697
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 698
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 699
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 700
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 701
                              },
                              __self: this
                            },
                            'Archive Location'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 704
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder norequire', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 705
                            },
                            __self: this
                          },
                          _react2.default.createElement('div', { className: 'required height32', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 706
                            },
                            __self: this
                          })
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 709
                            },
                            __self: this
                          },
                          (0, _archiveLocations.displayArchiveLocations)(this.handler, this.state.issue.archiveLocation)
                        )
                      )
                    ),
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 714
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 715
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 716
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 717
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 718
                              },
                              __self: this
                            },
                            'Special Issue Number'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 721
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder norequire', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 722
                            },
                            __self: this
                          },
                          _react2.default.createElement('div', { className: 'required height32', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 723
                            },
                            __self: this
                          })
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 726
                            },
                            __self: this
                          },
                          _react2.default.createElement('input', {
                            className: 'height32',
                            type: 'text',
                            name: 'issue.specialIssueNumber',
                            onChange: this.handler,
                            value: this.state.issue.specialIssueNumber,
                            __source: {
                              fileName: _jsxFileName,
                              lineNumber: 727
                            },
                            __self: this
                          })
                        )
                      )
                    )
                  ),
                  _react2.default.createElement('div', { className: 'errorHolder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 738
                    },
                    __self: this
                  })
                ),
                _react2.default.createElement('hr', {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 741
                  },
                  __self: this
                }),
                _react2.default.createElement(
                  'div',
                  { className: 'row', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 742
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'fieldHolder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 743
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 744
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 745
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 746
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 747
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 748
                              },
                              __self: this
                            },
                            'Volume'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 751
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder norequire', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 752
                            },
                            __self: this
                          },
                          _react2.default.createElement('div', { className: 'required height32', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 753
                            },
                            __self: this
                          })
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 756
                            },
                            __self: this
                          },
                          _react2.default.createElement('input', {
                            className: 'height32',
                            type: 'text',
                            name: 'issue.volume',
                            onChange: this.handler,
                            value: this.state.issue.volume,
                            __source: {
                              fileName: _jsxFileName,
                              lineNumber: 757
                            },
                            __self: this
                          })
                        )
                      )
                    )
                  ),
                  _react2.default.createElement('div', { className: 'errorHolder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 768
                    },
                    __self: this
                  })
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'row', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 771
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'fieldHolder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 772
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 773
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 774
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 775
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 776
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 777
                              },
                              __self: this
                            },
                            'Volume DOI'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 780
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder norequire', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 781
                            },
                            __self: this
                          },
                          _react2.default.createElement('div', { className: 'required height32', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 782
                            },
                            __self: this
                          })
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 785
                            },
                            __self: this
                          },
                          _react2.default.createElement('input', {
                            className: 'height32' + (this.state.errors.dupedoi || this.state.errors.invaliddoi || this.state.errors.invalidvolumedoi ? ' fieldError' : ''),
                            type: 'text',
                            name: 'issue.volumeDoi',
                            onChange: this.handler,
                            value: this.state.issue.volumeDoi,
                            disabled: this.state.volumeDoiDisabled,
                            __source: {
                              fileName: _jsxFileName,
                              lineNumber: 786
                            },
                            __self: this
                          })
                        )
                      )
                    ),
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 797
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 798
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 799
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 800
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 801
                              },
                              __self: this
                            },
                            'Volume URL'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 804
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder norequire', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 805
                            },
                            __self: this
                          },
                          _react2.default.createElement('div', { className: 'required height32', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 806
                            },
                            __self: this
                          })
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 809
                            },
                            __self: this
                          },
                          _react2.default.createElement('input', {
                            className: 'height32' + (this.state.errors.volumeUrl || this.state.errors.invalidvolumeurl ? ' fieldError' : ''),
                            type: 'text',
                            name: 'issue.volumeUrl',
                            onChange: this.handler,
                            value: this.state.issue.volumeUrl,
                            __source: {
                              fileName: _jsxFileName,
                              lineNumber: 810
                            },
                            __self: this
                          })
                        )
                      )
                    )
                  )
                )
              ),
              _react2.default.createElement(_subItem2.default, {
                title: 'Optional Issue Information (Contributorship)',
                arrowType: 'dark',
                addable: true,
                incomingData: this.state.optionalIssueInfo,
                handler: this.optionalIssueInfoHandler.bind(this),
                addHandler: this.addOptionalIssueInfo.bind(this),
                remove: this.removeOptionalIssueInfo.bind(this),
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 823
                },
                __self: this
              }),
              _react2.default.createElement(
                'div',
                { className: 'saveButtonAddIssueHolder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 832
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'button',
                  { type: 'submit', className: 'saveButton addIssue', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 833
                    },
                    __self: this
                  },
                  'Submit'
                ),
                _react2.default.createElement(
                  'button',
                  { onClick: function onClick() {
                      return _this4.closeModal();
                    }, type: 'button', className: 'cancelButton addIssue', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 834
                    },
                    __self: this
                  },
                  'Cancel'
                )
              )
            )
          )
        )
      );
    }
  }]);
  return AddIssueCard;
}(_react.Component), _initialiseProps = function _initialiseProps() {
  var _this5 = this;

  this.handler = function (e) {
    var name = e.currentTarget.name.substr(e.currentTarget.name.indexOf('.') + 1, e.currentTarget.name.length - 1);

    if (name === 'issueUrl') {
      e.currentTarget.value.trim().length > 0 ? _this5.setState({ showIssueDoiReq: true }) : _this5.setState({ showIssueDoiReq: false });
    }

    _this5.setState({
      issue: (0, _immutabilityHelper2.default)(_this5.state.issue, (0, _defineProperty3.default)({}, name, { $set: e.currentTarget.value ? e.currentTarget.value : '' }))
    });
  };

  this.onSubmit = function (e) {
    e.preventDefault();

    _this5.validation(function (valid) {
      // need it to be a callback because setting state does not happen right away
      if (!valid) {
        var props = _this5.props;
        var publication = props.publication;
        var state = _this5.state;

        var issueXML = (0, _xmlGenerator.getIssueXml)(_this5.state);

        var version = _this5.state.version;

        if (props.mode === 'edit') {
          version = String(parseInt(_this5.state.version) + 1);
        }

        var title = (0, _jsesc2.default)(_this5.state.issue.issueTitle);

        var newRecord = {
          'title': { 'title': title },
          'doi': _this5.state.issue.issueDoi,
          'owner-prefix': _this5.state.issue.issueDoi.split('/')[0],
          'type': 'issue',
          'mdt-version': version,
          'status': 'draft',
          'content': issueXML.replace(/(\r\n|\n|\r)/gm, '')
        };

        publication.message.contains = [newRecord];

        _this5.props.postIssue(publication, function () {
          _this5.props.handle(publication.message.doi);
          _this5.setState({ version: version });
          if (!_this5.state.error) {
            _this5.closeModal();
          }
        });
      }
    });
  };
}, _temp);
exports.default = AddIssueCard;

});

require.register("components/addIssueCardRefactor.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _defineProperty2 = require('babel-runtime/helpers/defineProperty');

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _jsxFileName = 'app/components/addIssueCardRefactor.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _redux = require('redux');

var _reactRouter = require('react-router');

var _immutabilityHelper = require('immutability-helper');

var _immutabilityHelper2 = _interopRequireDefault(_immutabilityHelper);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _reactToggleSwitch = require('react-toggle-switch');

var _reactToggleSwitch2 = _interopRequireDefault(_reactToggleSwitch);

var _my_decorators = require('my_decorators');

var _jquery = require('jquery');

var _jquery2 = _interopRequireDefault(_jquery);

var _makeDateDropDown = require('../utilities/makeDateDropDown');

var _makeDateDropDown2 = _interopRequireDefault(_makeDateDropDown);

var _subItem = require('./SubItems/subItem');

var _subItem2 = _interopRequireDefault(_subItem);

var _fetch = require('../utilities/fetch');

var _fetch2 = _interopRequireDefault(_fetch);

var _dupeDOI = require('../utilities/dupeDOI');

var _dupeDOI2 = _interopRequireDefault(_dupeDOI);

var _isDOI = require('../utilities/isDOI');

var _isDOI2 = _interopRequireDefault(_isDOI);

var _isURL = require('../utilities/isURL');

var _isURL2 = _interopRequireDefault(_isURL);

var _xmldoc = require('../utilities/xmldoc');

var _xmldoc2 = _interopRequireDefault(_xmldoc);

var _jsesc = require('../utilities/jsesc');

var _jsesc2 = _interopRequireDefault(_jsesc);

var _objectSearch = require('../utilities/objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

var _getSubItems = require('../utilities/getSubItems');

var _archiveLocations = require('../utilities/archiveLocations');

var _xmlGenerator = require('../utilities/xmlGenerator');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var defaultState = {
  showIssueDoiReq: false,
  showHelper: false,
  on: false,
  error: false,
  version: '0',
  errors: {
    issueUrl: false,
    printDateYear: false,
    onlineDateYear: false,
    invalidissueurl: false,
    dupeissuedoi: false,
    invalidissuedoi: false,
    issuedoi: false,
    volumeUrl: false,
    invalidvolumeurl: false,
    dupevolumedoi: false,
    invalidvolumedoi: false,
    volumedoi: false
  },
  issue: {
    issue: '',
    issueTitle: '',
    issueDoi: '',
    issueUrl: '',
    printDateYear: '',
    printDateMonth: '',
    printDateDay: '',
    onlineDateYear: '',
    onlineDateMonth: '',
    onlineDateDay: '',
    archiveLocation: '',
    specialIssueNumber: '',
    volume: '',
    volumeDoi: '',
    volumeUrl: ''
  },
  optionalIssueInfo: [{
    firstName: '',
    lastName: '',
    suffix: '',
    affiliation: '',
    orcid: '',
    alternativeName: '',
    role: ''
  }]
};

var AddIssueCard = function (_Component) {
  (0, _inherits3.default)(AddIssueCard, _Component);

  function AddIssueCard(props) {
    (0, _classCallCheck3.default)(this, AddIssueCard);

    var _this = (0, _possibleConstructorReturn3.default)(this, (AddIssueCard.__proto__ || (0, _getPrototypeOf2.default)(AddIssueCard)).call(this, props));

    _this.state = defaultState;
    _this.state.issue.issueDoi = props.ownerPrefix + '/';
    return _this;
  }

  (0, _createClass3.default)(AddIssueCard, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      if (this.props.mode === 'edit') {
        this.modalShown();
      }
    }
  }, {
    key: 'optionalIssueInfoHandler',
    value: function optionalIssueInfoHandler(index, OptIssueInfo) {
      var optIssueInfo = {};
      for (var i in OptIssueInfo.refs) {
        if (OptIssueInfo.refs[i]) {
          optIssueInfo[i] = OptIssueInfo.refs[i].value;
        }
      }

      this.setState({ // this situation, state did NOT update immediately to see change, must pass in a call back
        optionalIssueInfo: (0, _immutabilityHelper2.default)(this.state.optionalIssueInfo, (0, _defineProperty3.default)({}, index, { $set: optIssueInfo }))
      });
    }
  }, {
    key: 'addOptionalIssueInfo',
    value: function addOptionalIssueInfo() {
      this.setState({ // this situation, state did NOT update immediately to see change, must pass in a call back
        optionalIssueInfo: (0, _immutabilityHelper2.default)(this.state.optionalIssueInfo, { $push: [{
            firstName: '',
            lastName: '',
            suffix: '',
            affiliation: '',
            orcid: '',
            alternativeName: '',
            role: ''
          }]
        })
      });
    }
  }, {
    key: 'removeOptionalIssueInfo',
    value: function removeOptionalIssueInfo(index) {
      this.setState({ // this situation, state did NOT update immediately to see change, must pass in a call back
        optionalIssueInfo: (0, _immutabilityHelper2.default)(this.state.optionalIssueInfo, { $splice: [[index, 1]] })
      });
    }
  }, {
    key: 'handler',
    value: function handler(e) {
      var name = e.currentTarget.name.substr(e.currentTarget.name.indexOf('.') + 1, e.currentTarget.name.length - 1);

      if (name === 'issueUrl') {
        e.currentTarget.value.trim().length > 0 ? this.setState({ showIssueDoiReq: true }) : this.setState({ showIssueDoiReq: false });
      }

      this.setState({
        issue: (0, _immutabilityHelper2.default)(this.state.issue, (0, _defineProperty3.default)({}, name, { $set: e.currentTarget.value ? e.currentTarget.value : '' }))
      });
    }
  }, {
    key: 'validation',
    value: function validation(callback) {
      var _this2 = this;

      var errorStates = {
        issueTitle: { $set: false },
        issueUrl: { $set: false },
        printDateYear: { $set: false },
        onlineDateYear: { $set: false },
        invalidissueurl: { $set: false },
        dupeissuedoi: { $set: false },
        invalidissuedoi: { $set: false },
        issuedoi: { $set: false },
        volumeUrl: { $set: false },
        invalidvolumeurl: { $set: false },
        dupevolumedoi: { $set: false },
        invalidvolumedoi: { $set: false },
        volumedoi: { $set: false }
      };
      this.setState({
        error: false,
        errors: (0, _immutabilityHelper2.default)(this.state.errors, errorStates)
      });

      return (0, _dupeDOI2.default)([this.state.issue.issueDoi, this.state.issue.volumeDoi], function (isDupe, isValid) {

        var hasPrintYear = false,
            hasOnlineYear = false;
        if (_this2.state.issue.printDateYear.length > 0 || _this2.state.issue.onlineDateYear.length > 0) {
          //hasDate = true
          if (_this2.state.issue.printDateYear.length > 0) {
            hasPrintYear = true;
          }
          if (_this2.state.issue.onlineDateYear.length > 0) {
            hasOnlineYear = true;
          }
        }

        var validateOwnerPrefix = function validateOwnerPrefix() {
          if ((0, _isDOI2.default)(_this2.state.issue.issueDoi) && _this2.state.issue.issueDoi.split('/')[0] === _this2.props.ownerPrefix) return true;else return false;
        };

        errorStates = {
          issueTitle: { $set: _this2.state.issue.issueTitle.length === 0 },
          issueUrl: { $set: _this2.state.issue.issueUrl.length === 0 },
          printDateYear: { $set: _this2.state.issue.printDateYear.length === 0 },
          onlineDateYear: { $set: _this2.state.issue.onlineDateYear.length === 0 },
          invalidissueurl: { $set: !(0, _isURL2.default)(_this2.state.issue.issueUrl) },
          dupeissuedoi: { $set: _this2.state.issue.issueDoi.length > 0 ? isDupe[0] : false }, // we only care IF there is a DOI
          issuedoi: { $set: _this2.state.issue.issueDoi.length === 0 && (0, _isURL2.default)(_this2.state.issue.issueUrl) }, // we only care IF there is a DOI
          invalidissuedoi: { $set: _this2.state.issue.issueDoi.length > 0 && (0, _isURL2.default)(_this2.state.issue.issueUrl) ? !validateOwnerPrefix() : false // we only care IF there is a DOI
          } };

        if (hasPrintYear) {
          // has print year, don't care if there is a online year
          errorStates.onlineDateYear = { $set: false };
        }
        if (hasOnlineYear) {
          // has online year, don't care if there is a print year
          errorStates.printDateYear = { $set: false };
        }

        errorStates.dupeissuedoi = _this2.state.issueDoiDisabled ? { $set: false } : errorStates.dupeissuedoi;

        if ((_this2.state.issue.volume ? _this2.state.issue.volume : '').length > 0 || (_this2.state.issue.volumeDoi ? _this2.state.issue.volumeDoi : '').length > 0 || (_this2.state.issue.volumeUrl ? _this2.state.issue.volumeUrl : '').length > 0) {
          errorStates.dupevolumedoi = { $set: (_this2.state.issue.volumeDoi ? _this2.state.issue.volumeDoi : '').length > 0 ? isDupe[1] ? isDupe[1] : false : false }, // we only care IF there is a DOI
          errorStates.invalidvolumedoi = { $set: (_this2.state.issue.volumeDoi ? _this2.state.issue.volumeDoi : '').length > 0 && !(0, _isDOI2.default)(_this2.state.issue.volumeDoi) }, // we only care IF there is a DOI
          errorStates.invalidvolumeurl = { $set: (_this2.state.issue.volumeUrl ? _this2.state.issue.volumeUrl : '').length > 0 ? !(0, _isURL2.default)(_this2.state.issue.volumeUrl) : false };

          errorStates.dupevolumedoi = _this2.state.volumeDoiDisabled ? { $set: false } : errorStates.dupevolumedoi;
        }

        _this2.setState({
          errors: (0, _immutabilityHelper2.default)(_this2.state.errors, errorStates)
        }, function () {
          var errors = ['issuedoi', 'invalidissuedoi', 'dupeissuedoi', 'issueTitle'];

          for (var key in _this2.state.errors) {
            // checking all the properties of errors to see if there is a true
            if (_this2.state.errors[key]) {
              // only return there is error and prevent from saving if there is no title + doi
              _this2.setState({ error: true });
              return errors.indexOf(key) > -1 ? callback(_this2.state.errors[key]) : callback(false);
            }
          }
          return callback(false); // iterated the entire object, no true, returning a false, no error
        });
      });
    }
  }, {
    key: 'onSubmit',
    value: function onSubmit(e) {
      var _this3 = this;

      e.preventDefault();

      this.validation(function (valid) {
        // need it to be a callback because setting state does not happen right away
        if (!valid) {
          var props = _this3.props;
          var publication = props.publication;
          var state = _this3.state;

          var issueXML = (0, _xmlGenerator.getIssueXml)(_this3.state);

          var version = _this3.state.version;

          if (props.mode === 'edit') {
            version = String(parseInt(_this3.state.version) + 1);
          }

          var title = (0, _jsesc2.default)(_this3.state.issue.issueTitle);

          var newRecord = {
            'title': { 'title': title },
            'doi': _this3.state.issue.issueDoi,
            'owner-prefix': _this3.state.issue.issueDoi.split('/')[0],
            'type': 'issue',
            'mdt-version': version,
            'status': 'draft',
            'content': issueXML.replace(/(\r\n|\n|\r)/gm, '')
          };

          publication.message.contains = [newRecord];

          _this3.props.postIssue(publication, function () {
            _this3.props.handle(publication.message.doi);
            _this3.setState({ version: version });
            if (!_this3.state.error) {
              _this3.closeModal();
            }
          });
        }
      });
    }
  }, {
    key: 'closeModal',
    value: function closeModal() {
      this.setState(defaultState);
      this.props.reduxControlModal({ showModal: false });
    }
  }, {
    key: 'modalShown',
    value: function modalShown() {
      var _this4 = this;

      var doi = this.props.issue.doi;
      // if doi is not required, then how is UI suppose to find a issue?

      this.props.fetchIssue(doi, function (Publication) {
        var message = Publication.message;
        var Issue = message.contains[0];
        var version = Issue['mdt-version'];

        var parsedIssue = (0, _xmldoc2.default)(Issue.content);
        var issueTitle = (0, _objectSearch2.default)(parsedIssue, 'title') ? (0, _objectSearch2.default)(parsedIssue, 'title') : '';
        var issue = (0, _objectSearch2.default)(parsedIssue, 'issue') ? (0, _objectSearch2.default)(parsedIssue, 'issue') : '';
        var issueDoi = (0, _objectSearch2.default)(parsedIssue, 'doi') ? (0, _objectSearch2.default)(parsedIssue, 'doi') : '';
        var issueUrl = (0, _objectSearch2.default)(parsedIssue, 'resource') ? (0, _objectSearch2.default)(parsedIssue, 'resource') : '';
        var special_numbering = (0, _objectSearch2.default)(parsedIssue, 'special_numbering') ? (0, _objectSearch2.default)(parsedIssue, 'special_numbering') : '';
        var publication_date = (0, _objectSearch2.default)(parsedIssue, 'publication_date');

        if (!Array.isArray(publication_date)) publication_date = [publication_date]; //Code below wants array of values, but if we accept only 1 date, we get only 1 object, so we transform into array

        var onlinePubDate = _lodash2.default.find(publication_date, function (pubDate) {
          if (pubDate) {
            if (pubDate['-media_type'] === 'online') {
              return pubDate;
            }
          }
        });

        var printPubDate = _lodash2.default.find(publication_date, function (pubDate) {
          if (pubDate) {
            if (pubDate['-media_type'] === 'print') {
              return pubDate;
            }
          }
        });
        var printDateYear = '';
        var printDateMonth = '';
        var printDateDay = '';
        if (printPubDate) {
          printDateYear = printPubDate['year'] ? printPubDate['year'] : '';
          printDateMonth = printPubDate['month'] ? printPubDate['month'] : '';
          printDateDay = printPubDate['day'] ? printPubDate['day'] : '';
        }

        var onlineDateYear = '';
        var onlineDateMonth = '';
        var onlineDateDay = '';
        if (onlinePubDate) {
          onlineDateYear = onlinePubDate['year'] ? onlinePubDate['year'] : '';
          onlineDateMonth = onlinePubDate['month'] ? onlinePubDate['month'] : '';
          onlineDateDay = onlinePubDate['day'] ? onlinePubDate['day'] : '';
        }

        var archiveLocations = (0, _objectSearch2.default)(parsedIssue, 'archive_locations');
        var archive = '';
        if (archiveLocations) {
          archive = archiveLocations.archive['-name'];
        }

        var journal_volume = (0, _objectSearch2.default)(parsedIssue, 'journal_volume');
        if (journal_volume) {
          var theVolume = (0, _objectSearch2.default)(journal_volume, 'volume') ? (0, _objectSearch2.default)(journal_volume, 'volume') : '';
          var volumeDoiData = (0, _objectSearch2.default)(journal_volume, 'doi_data') ? (0, _objectSearch2.default)(journal_volume, 'doi_data') : '';
          var volumeDoi = (0, _objectSearch2.default)(volumeDoiData, 'doi') ? (0, _objectSearch2.default)(volumeDoiData, 'doi') : '';
          var volumeUrl = (0, _objectSearch2.default)(volumeDoiData, 'resource') ? (0, _objectSearch2.default)(volumeDoiData, 'resource') : '';
        }

        var setIssue = {
          issue: issue,
          issueTitle: issueTitle,
          issueDoi: _this4.props.duplicate ? _this4.props.ownerPrefix + '/' : issueDoi,
          issueUrl: _this4.props.duplicate ? '' : issueUrl,
          printDateYear: printDateYear,
          printDateMonth: printDateMonth,
          printDateDay: printDateDay,
          onlineDateYear: onlineDateYear,
          onlineDateMonth: onlineDateMonth,
          onlineDateDay: onlineDateDay,
          archiveLocation: archive,
          specialIssueNumber: special_numbering,
          volume: theVolume,
          volumeDoi: volumeDoi,
          volumeUrl: volumeUrl

          // contributor loading
        };var contributors = (0, _objectSearch2.default)(parsedIssue, 'contributors');
        var contributee = [];
        // contributors are divied into 2 types
        // person_name and organization
        var person_name = undefined;
        if (contributors) {
          person_name = (0, _objectSearch2.default)(contributors, 'person_name');

          if (person_name) {
            // if exist
            if (!Array.isArray(person_name)) {
              // there is ONE funder
              contributee.push({
                firstName: person_name.given_name ? person_name.given_name : '',
                lastName: person_name.surname ? person_name.surname : '',
                suffix: person_name.suffix ? person_name.suffix : '',
                affiliation: person_name.affiliation ? person_name.affiliation : '',
                orcid: person_name.ORCID ? person_name.ORCID : '',
                alternativeName: person_name['alt-name'] ? person_name['alt-name'] : '',
                role: person_name['-contributor_role'] ? person_name['-contributor_role'] : ''
              });
            } else {
              // its an array
              _lodash2.default.each(person_name, function (person) {
                contributee.push({
                  firstName: person.given_name ? person.given_name : '',
                  lastName: person.surname ? person.surname : '',
                  suffix: person.suffix ? person.suffix : '',
                  affiliation: person.affiliation ? person.affiliation : '',
                  orcid: person.ORCID ? person.ORCID : '',
                  alternativeName: person['alt-name'] ? person['alt-name'] : '',
                  role: person['-contributor_role'] ? person['-contributor_role'] : ''
                });
              });
            }
          }
        }

        if (contributee.length <= 0) {
          contributee.push({
            firstName: '',
            lastName: '',
            suffix: '',
            affiliation: '',
            orcid: '',
            role: '',
            alternativeName: ''
          });
        }

        var issueDoiDisabled = false;
        if (issueDoi) {
          issueDoiDisabled = issueDoi.length > 0 && _this4.props.issue.status !== 'draft' ? true : false;
        }

        var volumeDoiDisabled = false;
        if (volumeDoi) {
          volumeDoiDisabled = volumeDoi.length > 0 && _this4.props.issue.status !== 'draft' ? true : false;
        }

        _this4.setState({
          version: version,
          issueDoiDisabled: issueDoiDisabled,
          volumeDoiDisabled: volumeDoiDisabled,
          issue: (0, _immutabilityHelper2.default)(_this4.state.issue, { $set: setIssue }),
          optionalIssueInfo: (0, _immutabilityHelper2.default)(_this4.state.optionalIssueInfo, { $set: contributee })
        });
      });
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      var firstError = (0, _jquery2.default)(".fieldError").first();
      if (firstError.length > 0) {
        (0, _jquery2.default)('.fullError').find('.tooltips').css({
          'top': firstError.offset().top + (firstError.position().top - firstError.position().top * .5) - ((0, _jquery2.default)('.switchLicense').first().position().top + 15) - ((0, _jquery2.default)('.switchLicense').first().offset().top + 15) + 15
        });
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this5 = this;

      return _react2.default.createElement(
        'div',
        { className: 'addIssueCard', __source: {
            fileName: _jsxFileName,
            lineNumber: 436
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 437
            },
            __self: this
          },
          _react2.default.createElement(
            'form',
            { onSubmit: this.onSubmit.bind(this), className: 'addIssues', __source: {
                fileName: _jsxFileName,
                lineNumber: 438
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'articleInnerForm', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 439
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'body', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 440
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'row infohelper', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 441
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'errorHolder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 442
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'switchOuterHolder', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 443
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'switchInnerHolder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 444
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'switchLicense', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 445
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'switchLabel', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 446
                              },
                              __self: this
                            },
                            _react2.default.createElement(
                              'span',
                              {
                                __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 446
                                },
                                __self: this
                              },
                              'Show Help'
                            )
                          ),
                          _react2.default.createElement(_reactToggleSwitch2.default, {
                            ref: 'showHelper',
                            onClick: function onClick() {
                              _this5.setState({ on: !_this5.state.on }, function () {
                                _this5.setState({ showHelper: _this5.state.on });
                              });
                            },
                            on: this.state.on,
                            __source: {
                              fileName: _jsxFileName,
                              lineNumber: 447
                            },
                            __self: this
                          })
                        )
                      )
                    )
                  )
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'row', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 461
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'fieldHolder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 462
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 463
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 464
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 465
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 466
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 467
                              },
                              __self: this
                            },
                            'Issue'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 470
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder norequire', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 471
                            },
                            __self: this
                          },
                          _react2.default.createElement('div', { className: 'required height32', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 472
                            },
                            __self: this
                          })
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 475
                            },
                            __self: this
                          },
                          _react2.default.createElement('input', {
                            className: 'height32',
                            type: 'text',
                            name: 'issue.issue',
                            onChange: this.handler.bind(this),
                            value: this.state.issue.issue,
                            __source: {
                              fileName: _jsxFileName,
                              lineNumber: 476
                            },
                            __self: this
                          })
                        )
                      )
                    ),
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 486
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 487
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 488
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 489
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 490
                              },
                              __self: this
                            },
                            'Issue Title'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 493
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 494
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'required height32', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 495
                              },
                              __self: this
                            },
                            _react2.default.createElement(
                              'span',
                              {
                                __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 496
                                },
                                __self: this
                              },
                              '*'
                            )
                          )
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 499
                            },
                            __self: this
                          },
                          _react2.default.createElement('input', {
                            className: 'height32',
                            type: 'text',
                            onChange: this.handler.bind(this),
                            value: this.state.issue.issueTitle,
                            name: 'issue.issueTitle',
                            __source: {
                              fileName: _jsxFileName,
                              lineNumber: 500
                            },
                            __self: this
                          })
                        )
                      )
                    )
                  ),
                  !this.state.error && this.state.showHelper && _react2.default.createElement(
                    'div',
                    { className: 'errorHolder talltooltip helpers', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 512
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'toolTipHolder', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 513
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'a',
                        { className: 'tooltips', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 514
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'toolmsgholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 515
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'errormsgholder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 516
                              },
                              __self: this
                            },
                            _react2.default.createElement(
                              'div',
                              { className: 'errormsginnerholder', __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 517
                                },
                                __self: this
                              },
                              _react2.default.createElement('img', { src: 'images/AddArticle/Asset_Icons_White_Help.svg', __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 518
                                },
                                __self: this
                              }),
                              'Please provide a Title that fully describes your Issue'
                            )
                          )
                        )
                      )
                    )
                  ),
                  this.state.error && _react2.default.createElement(
                    'div',
                    { className: 'errorHolder talltooltip fullError', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 528
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'toolTipHolder', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 529
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'a',
                        { className: 'tooltips', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 530
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'toolmsgholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 531
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'errormsgholder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 532
                              },
                              __self: this
                            },
                            _react2.default.createElement(
                              'div',
                              { className: 'errormsginnerholder', __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 533
                                },
                                __self: this
                              },
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 534
                                  },
                                  __self: this
                                },
                                _react2.default.createElement('img', { src: 'images/AddArticle/Asset_Icons_White_Help.svg', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 534
                                  },
                                  __self: this
                                })
                              ),
                              (this.state.errors.issueTitle || this.state.errors.issuedoi || this.state.errors.issueUrl || this.state.errors.printDateYear || this.state.errors.onlineDateYear) && _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 542
                                  },
                                  __self: this
                                },
                                _react2.default.createElement(
                                  'b',
                                  {
                                    __source: {
                                      fileName: _jsxFileName,
                                      lineNumber: 542
                                    },
                                    __self: this
                                  },
                                  'Required.'
                                ),
                                _react2.default.createElement('br', {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 542
                                  },
                                  __self: this
                                }),
                                'Please provide required informaton.'
                              ),
                              (this.state.errors.invalidissuedoi || this.state.errors.invalidvolumedoi) && _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 545
                                  },
                                  __self: this
                                },
                                _react2.default.createElement(
                                  'b',
                                  {
                                    __source: {
                                      fileName: _jsxFileName,
                                      lineNumber: 545
                                    },
                                    __self: this
                                  },
                                  'Invalid DOI.'
                                ),
                                _react2.default.createElement('br', {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 545
                                  },
                                  __self: this
                                }),
                                'Please check your DOI (10.xxxx/xx...). Record prefix (10.xxxx) must match publication prefix.'
                              ),
                              this.state.errors.invalidissueurl && _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 548
                                  },
                                  __self: this
                                },
                                _react2.default.createElement(
                                  'b',
                                  {
                                    __source: {
                                      fileName: _jsxFileName,
                                      lineNumber: 548
                                    },
                                    __self: this
                                  },
                                  'Invalid URL.'
                                ),
                                _react2.default.createElement('br', {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 548
                                  },
                                  __self: this
                                }),
                                'Please check your URL.'
                              ),
                              this.state.errors.dupeissuedoi && _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 551
                                  },
                                  __self: this
                                },
                                _react2.default.createElement(
                                  'b',
                                  {
                                    __source: {
                                      fileName: _jsxFileName,
                                      lineNumber: 551
                                    },
                                    __self: this
                                  },
                                  'Duplicate DOI.'
                                ),
                                _react2.default.createElement('br', {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 551
                                  },
                                  __self: this
                                }),
                                'Registering a new DOI? This one already exists.'
                              )
                            )
                          )
                        )
                      )
                    )
                  )
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'row', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 561
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'fieldHolder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 562
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 563
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 564
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 565
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 566
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 567
                              },
                              __self: this
                            },
                            'Issue DOI'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 570
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder' + (this.state.showIssueDoiReq ? '' : ' norequire'), __source: {
                              fileName: _jsxFileName,
                              lineNumber: 571
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'required height32', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 574
                              },
                              __self: this
                            },
                            this.state.showIssueDoiReq ? _react2.default.createElement(
                              'span',
                              {
                                __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 575
                                },
                                __self: this
                              },
                              '*'
                            ) : ''
                          )
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 578
                            },
                            __self: this
                          },
                          _react2.default.createElement('input', {
                            className: 'height32' + (this.state.errors.dupedoi || this.state.errors.invaliddoi ? ' fieldError' : ''),
                            type: 'text',
                            name: 'issue.issueDoi',
                            onChange: this.handler.bind(this),
                            value: this.state.issue.issueDoi,
                            disabled: this.state.issueDoiDisabled && !this.props.duplicate,
                            __source: {
                              fileName: _jsxFileName,
                              lineNumber: 579
                            },
                            __self: this
                          })
                        )
                      )
                    ),
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 590
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 591
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 592
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 593
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 594
                              },
                              __self: this
                            },
                            'Issue URL (Required)'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 597
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 598
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'required height32', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 599
                              },
                              __self: this
                            },
                            _react2.default.createElement(
                              'span',
                              {
                                __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 600
                                },
                                __self: this
                              },
                              '*'
                            )
                          )
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 603
                            },
                            __self: this
                          },
                          _react2.default.createElement('input', {
                            className: 'height32' + (this.state.errors.issueUrl || this.state.errors.invalidissueurl ? ' fieldError' : ''),
                            type: 'text',
                            name: 'issue.issueUrl',
                            value: this.state.issue.issueUrl,
                            onChange: this.handler.bind(this),
                            __source: {
                              fileName: _jsxFileName,
                              lineNumber: 604
                            },
                            __self: this
                          })
                        )
                      )
                    )
                  )
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'row', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 616
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'fieldHolder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 617
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 618
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 619
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 620
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 621
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 622
                              },
                              __self: this
                            },
                            'Print Date'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 625
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder' + ((this.state.issue.onlineDateYear ? this.state.issue.onlineDateYear : '').length === 0 ? ' dateselectrequire' : ' norequire'), __source: {
                              fileName: _jsxFileName,
                              lineNumber: 626
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'required height32', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 627
                              },
                              __self: this
                            },
                            (this.state.issue.onlineDateYear ? this.state.issue.onlineDateYear : '').length === 0 ? _react2.default.createElement(
                              'span',
                              {
                                __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 628
                                },
                                __self: this
                              },
                              '*'
                            ) : _react2.default.createElement('span', {
                              __source: {
                                fileName: _jsxFileName,
                                lineNumber: 628
                              },
                              __self: this
                            })
                          )
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 631
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'datepickerholder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 632
                              },
                              __self: this
                            },
                            _react2.default.createElement(
                              'div',
                              { className: 'dateselectholder', __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 633
                                },
                                __self: this
                              },
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 634
                                  },
                                  __self: this
                                },
                                'Year ',
                                (this.state.issue.onlineDateYear ? this.state.issue.onlineDateYear : '').length === 0 ? '(*)' : ''
                              ),
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 635
                                  },
                                  __self: this
                                },
                                (0, _makeDateDropDown2.default)(this.handler.bind(this), 'issue.printDateYear', 'y', this.state.issue.printDateYear, this.state.errors.printDateYear, 0, this, 'issue')
                              )
                            ),
                            _react2.default.createElement(
                              'div',
                              { className: 'dateselectholder', __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 637
                                },
                                __self: this
                              },
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 638
                                  },
                                  __self: this
                                },
                                'Month'
                              ),
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 639
                                  },
                                  __self: this
                                },
                                (0, _makeDateDropDown2.default)(this.handler.bind(this), 'issue.printDateMonth', 'm', this.state.issue.printDateMonth, false, 0, this, 'issue')
                              )
                            ),
                            _react2.default.createElement(
                              'div',
                              { className: 'dateselectholder', __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 643
                                },
                                __self: this
                              },
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 644
                                  },
                                  __self: this
                                },
                                'Day'
                              ),
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 645
                                  },
                                  __self: this
                                },
                                (0, _makeDateDropDown2.default)(this.handler.bind(this), 'issue.printDateDay', 'd', this.state.issue.printDateDay, false, 0, this, 'issue')
                              )
                            ),
                            _react2.default.createElement('div', {
                              __source: {
                                fileName: _jsxFileName,
                                lineNumber: 649
                              },
                              __self: this
                            })
                          )
                        )
                      )
                    ),
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 656
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 657
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 658
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 659
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 660
                              },
                              __self: this
                            },
                            'Online Date'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 663
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder' + ((this.state.issue.printDateYear ? this.state.issue.printDateYear : '').length === 0 ? ' dateselectrequire' : ' norequire'), __source: {
                              fileName: _jsxFileName,
                              lineNumber: 664
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'required height32', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 665
                              },
                              __self: this
                            },
                            (this.state.issue.printDateYear ? this.state.issue.printDateYear : '').length === 0 ? _react2.default.createElement(
                              'span',
                              {
                                __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 666
                                },
                                __self: this
                              },
                              '*'
                            ) : _react2.default.createElement('span', {
                              __source: {
                                fileName: _jsxFileName,
                                lineNumber: 666
                              },
                              __self: this
                            })
                          )
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 669
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'datepickerholder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 670
                              },
                              __self: this
                            },
                            _react2.default.createElement(
                              'div',
                              { className: 'dateselectholder', __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 671
                                },
                                __self: this
                              },
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 672
                                  },
                                  __self: this
                                },
                                'Year ',
                                (this.state.issue.printDateYear ? this.state.issue.printDateYear : '').length === 0 ? '(*)' : ''
                              ),
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 673
                                  },
                                  __self: this
                                },
                                (0, _makeDateDropDown2.default)(this.handler.bind(this), 'issue.onlineDateYear', 'y', this.state.issue.onlineDateYear, this.state.errors.onlineDateYear, 0, this, 'issue')
                              )
                            ),
                            _react2.default.createElement(
                              'div',
                              { className: 'dateselectholder', __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 675
                                },
                                __self: this
                              },
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 676
                                  },
                                  __self: this
                                },
                                'Month'
                              ),
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 677
                                  },
                                  __self: this
                                },
                                (0, _makeDateDropDown2.default)(this.handler.bind(this), 'issue.onlineDateMonth', 'm', this.state.issue.onlineDateMonth, false, 0, this, 'issue')
                              )
                            ),
                            _react2.default.createElement(
                              'div',
                              { className: 'dateselectholder', __source: {
                                  fileName: _jsxFileName,
                                  lineNumber: 681
                                },
                                __self: this
                              },
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 682
                                  },
                                  __self: this
                                },
                                'Day'
                              ),
                              _react2.default.createElement(
                                'div',
                                {
                                  __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 683
                                  },
                                  __self: this
                                },
                                (0, _makeDateDropDown2.default)(this.handler.bind(this), 'issue.onlineDateDay', 'd', this.state.issue.onlineDateDay, false, 0, this, 'issue')
                              )
                            ),
                            _react2.default.createElement('div', {
                              __source: {
                                fileName: _jsxFileName,
                                lineNumber: 687
                              },
                              __self: this
                            })
                          )
                        )
                      )
                    )
                  )
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'row', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 695
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'fieldHolder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 696
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 697
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 698
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 699
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 700
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 701
                              },
                              __self: this
                            },
                            'Archive Location'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 704
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder norequire', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 705
                            },
                            __self: this
                          },
                          _react2.default.createElement('div', { className: 'required height32', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 706
                            },
                            __self: this
                          })
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 709
                            },
                            __self: this
                          },
                          (0, _archiveLocations.displayArchiveLocations)(this.handler.bind(this), this.state.issue.archiveLocation)
                        )
                      )
                    ),
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 714
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 715
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 716
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 717
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 718
                              },
                              __self: this
                            },
                            'Special Issue Number'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 721
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder norequire', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 722
                            },
                            __self: this
                          },
                          _react2.default.createElement('div', { className: 'required height32', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 723
                            },
                            __self: this
                          })
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 726
                            },
                            __self: this
                          },
                          _react2.default.createElement('input', {
                            className: 'height32',
                            type: 'text',
                            name: 'issue.specialIssueNumber',
                            onChange: this.handler.bind(this),
                            value: this.state.issue.specialIssueNumber,
                            __source: {
                              fileName: _jsxFileName,
                              lineNumber: 727
                            },
                            __self: this
                          })
                        )
                      )
                    )
                  ),
                  _react2.default.createElement('div', { className: 'errorHolder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 738
                    },
                    __self: this
                  })
                ),
                _react2.default.createElement('hr', {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 741
                  },
                  __self: this
                }),
                _react2.default.createElement(
                  'div',
                  { className: 'row', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 742
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'fieldHolder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 743
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 744
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 745
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 746
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 747
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 748
                              },
                              __self: this
                            },
                            'Volume'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 751
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder norequire', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 752
                            },
                            __self: this
                          },
                          _react2.default.createElement('div', { className: 'required height32', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 753
                            },
                            __self: this
                          })
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 756
                            },
                            __self: this
                          },
                          _react2.default.createElement('input', {
                            className: 'height32',
                            type: 'text',
                            name: 'issue.volume',
                            onChange: this.handler.bind(this),
                            value: this.state.issue.volume,
                            __source: {
                              fileName: _jsxFileName,
                              lineNumber: 757
                            },
                            __self: this
                          })
                        )
                      )
                    )
                  ),
                  _react2.default.createElement('div', { className: 'errorHolder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 768
                    },
                    __self: this
                  })
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'row', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 771
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'fieldHolder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 772
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 773
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 774
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 775
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 776
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 777
                              },
                              __self: this
                            },
                            'Volume DOI'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 780
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder norequire', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 781
                            },
                            __self: this
                          },
                          _react2.default.createElement('div', { className: 'required height32', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 782
                            },
                            __self: this
                          })
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 785
                            },
                            __self: this
                          },
                          _react2.default.createElement('input', {
                            className: 'height32' + (this.state.errors.dupedoi || this.state.errors.invaliddoi || this.state.errors.invalidvolumedoi ? ' fieldError' : ''),
                            type: 'text',
                            name: 'issue.volumeDoi',
                            onChange: this.handler.bind(this),
                            value: this.state.issue.volumeDoi,
                            disabled: this.state.volumeDoiDisabled,
                            __source: {
                              fileName: _jsxFileName,
                              lineNumber: 786
                            },
                            __self: this
                          })
                        )
                      )
                    ),
                    _react2.default.createElement(
                      'div',
                      { className: 'fieldinnerholder halflength', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 797
                        },
                        __self: this
                      },
                      _react2.default.createElement(
                        'div',
                        { className: 'labelholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 798
                          },
                          __self: this
                        },
                        _react2.default.createElement('div', {
                          __source: {
                            fileName: _jsxFileName,
                            lineNumber: 799
                          },
                          __self: this
                        }),
                        _react2.default.createElement(
                          'div',
                          { className: 'labelinnerholder', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 800
                            },
                            __self: this
                          },
                          _react2.default.createElement(
                            'div',
                            { className: 'label', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 801
                              },
                              __self: this
                            },
                            'Volume URL'
                          )
                        )
                      ),
                      _react2.default.createElement(
                        'div',
                        { className: 'requrefieldholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 804
                          },
                          __self: this
                        },
                        _react2.default.createElement(
                          'div',
                          { className: 'requiredholder norequire', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 805
                            },
                            __self: this
                          },
                          _react2.default.createElement('div', { className: 'required height32', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 806
                            },
                            __self: this
                          })
                        ),
                        _react2.default.createElement(
                          'div',
                          { className: 'field', __source: {
                              fileName: _jsxFileName,
                              lineNumber: 809
                            },
                            __self: this
                          },
                          _react2.default.createElement('input', {
                            className: 'height32' + (this.state.errors.volumeUrl || this.state.errors.invalidvolumeurl ? ' fieldError' : ''),
                            type: 'text',
                            name: 'issue.volumeUrl',
                            onChange: this.handler.bind(this),
                            value: this.state.issue.volumeUrl,
                            __source: {
                              fileName: _jsxFileName,
                              lineNumber: 810
                            },
                            __self: this
                          })
                        )
                      )
                    )
                  )
                )
              ),
              _react2.default.createElement(_subItem2.default, {
                title: 'Optional Issue Information (Contributorship)',
                arrowType: 'dark',
                addable: true,
                incomingData: this.state.optionalIssueInfo,
                handler: this.optionalIssueInfoHandler.bind(this),
                addHandler: this.addOptionalIssueInfo.bind(this),
                remove: this.removeOptionalIssueInfo.bind(this),
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 823
                },
                __self: this
              }),
              _react2.default.createElement(
                'div',
                { className: 'saveButtonHolder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 832
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'button',
                  { type: 'submit', className: 'saveButton', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 833
                    },
                    __self: this
                  },
                  'Submit'
                )
              )
            )
          )
        )
      );
    }
  }]);
  return AddIssueCard;
}(_react.Component);

exports.default = AddIssueCard;

});

require.register("components/addPublicationCard.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _promise = require('babel-runtime/core-js/promise');

var _promise2 = _interopRequireDefault(_promise);

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _defineProperty2 = require('babel-runtime/helpers/defineProperty');

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/addPublicationCard.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRedux = require('react-redux');

var _redux = require('redux');

var _my_decorators = require('my_decorators');

var _issnVerify = require('issn-verify');

var _issnVerify2 = _interopRequireDefault(_issnVerify);

var _fetch = require('../utilities/fetch');

var _fetch2 = _interopRequireDefault(_fetch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var languages = require('../utilities/language.json');

var AddPublicationCard = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(AddPublicationCard, _Component);

  function AddPublicationCard(props) {
    (0, _classCallCheck3.default)(this, AddPublicationCard);

    var _this = (0, _possibleConstructorReturn3.default)(this, (AddPublicationCard.__proto__ || (0, _getPrototypeOf2.default)(AddPublicationCard)).call(this));

    _this.onSubmit = function (e) {
      e.preventDefault();

      if (_this.state['mdt-version']) {
        return _this.saveEdit();
      };
      _this.validation().then(function (errors) {
        if (!errors) {
          // false = no errors
          _this.props.asyncSubmitPublication(_this.state, function (publication) {
            _this.props.reduxAddDOIs(publication.message.doi);
            _this.props.reduxControlModal({ showModal: false });
          });
        }
      });
    };

    _this.inputHandler = function (e) {
      _this.setState((0, _defineProperty3.default)({}, e.target.name, e.target.value));
    };

    _this.closeModal = function () {
      _this.props.reduxControlModal({ showModal: false });
    };

    if (props.Journal) {
      var data = props.Journal.journal_metadata;
      var archive = props.Journal.archive_locations ? props.Journal.archive_locations.archive : {};
      var version = props['mdt-version'] ? Number(props['mdt-version']) + 1 : '0';
      var doi_data = data.doi_data || {};
      _this.state = (0, _extends3.default)({
        'mdt-version': version.toString(),
        title: data.full_title,
        abbreviation: data.abbrev_title,
        printISSN: (data.issn || {})['#text'],
        electISSN: ((data.issn || {})[1] || data.issn || {})['#text'],
        url: doi_data.resource,
        DOI: doi_data.doi,
        language: data['-language'],
        archivelocation: archive['-name'],
        crossmarkDoi: ''
      }, inactiveErrors);
    } else if (props.searchResult) {
      var result = props.searchResult;
      var pissn = void 0,
          eissn = void 0;
      if (Array.isArray(result.issns)) {
        result.issns.forEach(function (issn) {
          if (issn.type === 'pissn') pissn = issn.issn;
          if (issn.type === 'eissn') eissn = issn.issn;
        });
      }
      _this.state = (0, _extends3.default)({
        'mdt-version': '1',
        title: result.title,
        abbreviation: '',
        DOI: result.doi || result['owner-prefix'] || result.prefix,
        url: '',
        printISSN: pissn,
        electISSN: eissn,
        language: '',
        archivelocation: '',
        crossmarkDoi: ''
      }, inactiveErrors);
    } else _this.state = (0, _extends3.default)({
      title: '',
      abbreviation: '',
      DOI: '',
      url: '',
      printISSN: '',
      electISSN: '',
      language: '',
      archivelocation: '',
      crossmarkDoi: ''
    }, inactiveErrors);
    return _this;
  }

  (0, _createClass3.default)(AddPublicationCard, [{
    key: 'checkDupeDOI',
    value: function checkDupeDOI(callback) {
      return _promise2.default.resolve((0, _fetch2.default)('http://mdt.crossref.org/mdt/v1/work?doi=' + this.state.DOI, { headers: { Authorization: localStorage.getItem('auth') } }).then(function (data) {
        return callback(data.status === 200);
      }));
    }
  }, {
    key: 'getLanguages',
    value: function getLanguages() {
      var _this2 = this;

      var lgOpt = [_react2.default.createElement('option', { key: '-1', __source: {
          fileName: _jsxFileName,
          lineNumber: 102
        },
        __self: this
      })].concat((0, _toConsumableArray3.default)(languages.map(function (language, i) {
        return _react2.default.createElement(
          'option',
          { key: i, value: language.abbr, __source: {
              fileName: _jsxFileName,
              lineNumber: 103
            },
            __self: _this2
          },
          language.name
        );
      })));

      return _react2.default.createElement(
        'select',
        { name: 'language', onChange: this.inputHandler, value: this.state.language, __source: {
            fileName: _jsxFileName,
            lineNumber: 107
          },
          __self: this
        },
        lgOpt
      );
    }
  }, {
    key: 'validateURL',
    value: function validateURL() {
      var re = /^(ftp|http|https):\/\/[^ "]+$/;
      return re.test(this.state.url);
    }
  }, {
    key: 'validateDOI',
    value: function validateDOI() {
      var re = /^10\.\d{4,9}\/[-._;()/:A-Z0-9]+$/i;
      return re.test(this.state.DOI);
    }
  }, {
    key: 'validatePrefix',
    value: function validatePrefix() {
      return this.props.prefixes.includes(this.state.DOI.split('/')[0]) ? true : false;
    }
  }, {
    key: 'validateISSN',
    value: function validateISSN() {
      var issn = this.state.electISSN;
      if ((0, _issnVerify2.default)(issn)) {
        return true;
      } else {
        return false;
      }
    }
  }, {
    key: 'validation',
    value: function validation() {
      var _this3 = this;

      var errorCnt = 0;
      this.setState({
        showURLError: false,
        showURLEmptyError: false,
        showTitleError: false,
        showTitleEmptyError: false,
        showISSNError: false,
        showISSNEmptyError: false,
        showISSNInvalidError: false,
        showDOIError: false,
        showDOIEmptyError: false,
        showDOIInvalidError: false,
        showDOIPrefixError: false
      });

      return this.checkDupeDOI(function (isDupe) {
        var errorStates = {
          showTitleEmptyError: _this3.state.title.length <= 0,
          showISSNEmptyError: _this3.state.electISSN.length <= 0,
          showISSNInvalidError: !_this3.validateISSN() && _this3.state.electISSN.length > 0,
          showURLEmptyError: _this3.state.url.length <= 0,
          showURLError: !_this3.validateURL() && _this3.state.url.length > 0,
          showDOIEmptyError: _this3.state.DOI.length <= 0,
          showDOIInvalidError: !_this3.validateDOI() && _this3.state.DOI.length > 0,
          showDOIPrefixError: _this3.state.DOI.length > 0 && _this3.validateDOI() ? !_this3.validatePrefix() : false,
          showDOIError: isDupe
        };

        _this3.setState(errorStates);
        for (var key in errorStates) {
          // checking all the properties of errorStates to see if there is a true
          if (errorStates[key]) {
            return errorStates[key];
          }
        }
      });
    }
  }, {
    key: 'saveEdit',
    value: function saveEdit() {
      var _this4 = this;

      this.props.asyncSubmitPublication(this.state, function (publication) {
        if (_this4.props.searchResult) _this4.props.reduxAddDOIs(publication.message.doi);
        _this4.props.reduxControlModal({ showModal: false });
      });
    }
  }, {
    key: 'render',
    value: function render() {

      var isSearch = this.props.searchResult ? true : false;
      var isEdit = this.state['mdt-version'] && !isSearch ? true : false;
      var disabledInput = isEdit ? { disabled: true } : {};

      var crossmark = this.props.crossmarkPrefixes ? this.props.crossmarkPrefixes.includes(this.state.DOI.substring(0, 7)) : false;

      return _react2.default.createElement(
        'div',
        { className: 'addPublicationCard', __source: {
            fileName: _jsxFileName,
            lineNumber: 214
          },
          __self: this
        },
        _react2.default.createElement(
          'form',
          { onSubmit: this.onSubmit, className: 'addPublications', __source: {
              fileName: _jsxFileName,
              lineNumber: 215
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'fieldRowHolder', __source: {
                fileName: _jsxFileName,
                lineNumber: 216
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: this.state.showTitleEmptyError ? 'fieldinput invalid' : 'fieldinput', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 217
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'left-indent-36', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 218
                  },
                  __self: this
                },
                'Journal Title (Required)'
              ),
              _react2.default.createElement(
                'div',
                { className: 'inputholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 219
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'inputinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 220
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'required', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 221
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'span',
                      {
                        __source: {
                          fileName: _jsxFileName,
                          lineNumber: 221
                        },
                        __self: this
                      },
                      '*'
                    )
                  ),
                  _react2.default.createElement('input', {
                    type: 'text',
                    name: 'title',
                    value: this.state.title,
                    onChange: this.inputHandler, __source: {
                      fileName: _jsxFileName,
                      lineNumber: 222
                    },
                    __self: this
                  })
                ),
                this.state.showTitleEmptyError && _react2.default.createElement(
                  'div',
                  { className: 'inputinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 228
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'invalid', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 228
                      },
                      __self: this
                    },
                    'Required. Please provide required information.'
                  )
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: this.state.showURLError || this.state.showURLEmptyError ? 'fieldinput invalid' : 'fieldinput', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 231
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'left-indent-36', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 232
                  },
                  __self: this
                },
                'Journal URL (Required)'
              ),
              _react2.default.createElement(
                'div',
                { className: 'inputholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 233
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'inputinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 234
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'required', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 235
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'span',
                      {
                        __source: {
                          fileName: _jsxFileName,
                          lineNumber: 235
                        },
                        __self: this
                      },
                      '*'
                    )
                  ),
                  _react2.default.createElement('input', {
                    type: 'text',
                    name: 'url',
                    value: this.state.url,
                    onChange: this.inputHandler, __source: {
                      fileName: _jsxFileName,
                      lineNumber: 236
                    },
                    __self: this
                  })
                ),
                this.state.showURLEmptyError && _react2.default.createElement(
                  'div',
                  { className: 'inputinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 242
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'invalid', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 242
                      },
                      __self: this
                    },
                    'Required. Please provide required information.'
                  )
                ),
                this.state.showURLError && _react2.default.createElement(
                  'div',
                  { className: 'inputinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 243
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'invalid', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 243
                      },
                      __self: this
                    },
                    'Invalid URL. Please check your URL is correct.'
                  )
                )
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'fieldRowHolder', __source: {
                fileName: _jsxFileName,
                lineNumber: 247
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'fieldinput', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 248
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'left-indent-36', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 249
                  },
                  __self: this
                },
                'Journal Abbreviation'
              ),
              _react2.default.createElement(
                'div',
                { className: 'inputholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 250
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'inputinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 251
                    },
                    __self: this
                  },
                  _react2.default.createElement('div', { className: 'notrequired', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 252
                    },
                    __self: this
                  }),
                  _react2.default.createElement('input', {
                    type: 'text',
                    name: 'abbreviation',
                    value: this.state.abbreviation,
                    onChange: this.inputHandler, __source: {
                      fileName: _jsxFileName,
                      lineNumber: 253
                    },
                    __self: this
                  })
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: this.state.showDOIError || this.state.showDOIInvalidError || this.state.showDOIEmptyError ? 'fieldinput invalid' : 'fieldinput', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 261
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'left-indent-36', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 262
                  },
                  __self: this
                },
                'Journal DOI'
              ),
              _react2.default.createElement(
                'div',
                { className: 'inputholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 263
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'inputinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 264
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: isEdit ? 'notrequired' : 'required', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 265
                      },
                      __self: this
                    },
                    !isEdit && _react2.default.createElement(
                      'span',
                      {
                        __source: {
                          fileName: _jsxFileName,
                          lineNumber: 265
                        },
                        __self: this
                      },
                      '*'
                    )
                  ),
                  _react2.default.createElement('input', (0, _extends3.default)({}, disabledInput, {
                    type: 'text',
                    name: 'DOI',
                    value: this.state.DOI,
                    onChange: this.inputHandler, __source: {
                      fileName: _jsxFileName,
                      lineNumber: 266
                    },
                    __self: this
                  }))
                ),
                this.state.showDOIError && _react2.default.createElement(
                  'div',
                  { className: 'inputinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 273
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'invalid', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 273
                      },
                      __self: this
                    },
                    'Duplicate DOI. Registering a new DOI? This one already exists.'
                  )
                ),
                this.state.showDOIInvalidError && _react2.default.createElement(
                  'div',
                  { className: 'inputinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 274
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'invalid', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 274
                      },
                      __self: this
                    },
                    'Invalid DOI. Please check your DOI (10.xxxx/xx...).'
                  )
                ),
                this.state.showDOIPrefixError && _react2.default.createElement(
                  'div',
                  { className: 'inputinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 275
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'invalid', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 275
                      },
                      __self: this
                    },
                    'Invalid DOI Prefix (10.xxxx). Prefix is not registered to your account.'
                  )
                ),
                this.state.showDOIEmptyError && _react2.default.createElement(
                  'div',
                  { className: 'inputinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 276
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'invalid', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 276
                      },
                      __self: this
                    },
                    'Required. Please provide required information.'
                  )
                )
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'fieldRowHolder', __source: {
                fileName: _jsxFileName,
                lineNumber: 280
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'fieldinput', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 281
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'left-indent-36', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 282
                  },
                  __self: this
                },
                'Language'
              ),
              _react2.default.createElement(
                'div',
                { className: 'inputholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 283
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'inputinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 284
                    },
                    __self: this
                  },
                  _react2.default.createElement('div', { className: 'notrequired', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 285
                    },
                    __self: this
                  }),
                  this.getLanguages()
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: this.state.showISSNError || this.state.showISSNEmptyError ? 'fieldinput invalid' : 'fieldinput', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 290
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'left-indent-36', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 291
                  },
                  __self: this
                },
                'ISSN (required)'
              ),
              _react2.default.createElement(
                'div',
                { className: 'inputholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 292
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'inputinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 293
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'required', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 294
                      },
                      __self: this
                    },
                    _react2.default.createElement(
                      'span',
                      {
                        __source: {
                          fileName: _jsxFileName,
                          lineNumber: 294
                        },
                        __self: this
                      },
                      '*'
                    )
                  ),
                  _react2.default.createElement('input', {
                    type: 'text',
                    name: 'electISSN',
                    value: this.state.electISSN,
                    onChange: this.inputHandler, __source: {
                      fileName: _jsxFileName,
                      lineNumber: 295
                    },
                    __self: this
                  })
                ),
                this.state.showISSNError && _react2.default.createElement(
                  'div',
                  { className: 'inputinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 301
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'invalid', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 301
                      },
                      __self: this
                    },
                    'Duplicate ISSN. Registering a new ISSN? This one already exists.'
                  )
                ),
                this.state.showISSNInvalidError && _react2.default.createElement(
                  'div',
                  { className: 'inputinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 302
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'invalid', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 302
                      },
                      __self: this
                    },
                    'Invalid ISSN. Please check your ISSN.'
                  )
                ),
                this.state.showISSNEmptyError && _react2.default.createElement(
                  'div',
                  { className: 'inputinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 303
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'invalid', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 303
                      },
                      __self: this
                    },
                    'Required. Please provide required information.'
                  )
                )
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'fieldRowHolder', __source: {
                fileName: _jsxFileName,
                lineNumber: 307
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'fieldinput', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 308
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'left-indent-36', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 309
                  },
                  __self: this
                },
                'Archive Locations'
              ),
              _react2.default.createElement(
                'div',
                { className: 'inputholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 310
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'inputinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 311
                    },
                    __self: this
                  },
                  _react2.default.createElement('div', { className: 'notrequired', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 312
                    },
                    __self: this
                  }),
                  _react2.default.createElement(
                    'select',
                    { name: 'archivelocation', value: this.state.archivelocation,
                      onChange: this.inputHandler,
                      __source: {
                        fileName: _jsxFileName,
                        lineNumber: 313
                      },
                      __self: this
                    },
                    _react2.default.createElement('option', { value: '', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 316
                      },
                      __self: this
                    }),
                    _react2.default.createElement(
                      'option',
                      { value: 'CLOCKSS', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 317
                        },
                        __self: this
                      },
                      'CLOCKSS'
                    ),
                    _react2.default.createElement(
                      'option',
                      { value: 'LOCKSS', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 318
                        },
                        __self: this
                      },
                      'LOCKSS'
                    ),
                    _react2.default.createElement(
                      'option',
                      { value: 'Portico', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 319
                        },
                        __self: this
                      },
                      'Portico'
                    ),
                    _react2.default.createElement(
                      'option',
                      { value: 'Koninklijke Bibliotheek', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 320
                        },
                        __self: this
                      },
                      'Koninklijke Bibliotheek'
                    ),
                    _react2.default.createElement(
                      'option',
                      { value: 'Deep Web Technologies', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 321
                        },
                        __self: this
                      },
                      'Deep Web Technologies'
                    ),
                    _react2.default.createElement(
                      'option',
                      { value: 'Internet Archive', __source: {
                          fileName: _jsxFileName,
                          lineNumber: 322
                        },
                        __self: this
                      },
                      'Internet Archive'
                    )
                  )
                )
              )
            ),
            crossmark && _react2.default.createElement(
              'div',
              { className: 'fieldinput', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 328
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'left-indent-36', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 329
                  },
                  __self: this
                },
                'Crossmark Policy Page DOI'
              ),
              _react2.default.createElement(
                'div',
                { className: 'inputholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 330
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'inputinnerholder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 331
                    },
                    __self: this
                  },
                  _react2.default.createElement('div', { className: 'notrequired', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 332
                    },
                    __self: this
                  }),
                  _react2.default.createElement('input', {
                    type: 'text',
                    name: 'crossmarkDoi',
                    value: this.state.crossmarkDoi,
                    onChange: this.inputHandler, __source: {
                      fileName: _jsxFileName,
                      lineNumber: 333
                    },
                    __self: this
                  })
                )
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'fieldRowHolder buttonholder', __source: {
                fileName: _jsxFileName,
                lineNumber: 342
              },
              __self: this
            },
            _react2.default.createElement('div', { className: 'fieldinput', __source: {
                fileName: _jsxFileName,
                lineNumber: 343
              },
              __self: this
            }),
            _react2.default.createElement(
              'div',
              { className: 'fieldinput', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 344
                },
                __self: this
              },
              _react2.default.createElement(
                'button',
                {
                  onClick: this.closeModal,
                  className: 'button-anchor button-white-cancel',
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 345
                  },
                  __self: this
                },
                'Close'
              ),
              _react2.default.createElement('input', {
                type: 'submit',
                className: 'button-anchor',
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 349
                },
                __self: this
              })
            )
          )
        )
      );
    }
  }]);
  return AddPublicationCard;
}(_react.Component), _class.propTypes = {
  reduxControlModal: _propTypes2.default.func.isRequired,
  asyncSubmitPublication: _propTypes2.default.func.isRequired,
  reduxAddDOIs: _propTypes2.default.func,
  reduxStorePublications: _propTypes2.default.func,
  crossmarkPrefixes: _propTypes2.default.array.isRequired,

  Journal: _propTypes2.default.shape({
    journal_metadata: _propTypes2.default.object.isRequired
  }),

  searchResult: _propTypes2.default.shape({
    doi: _propTypes2.default.string.isRequired,
    issns: _propTypes2.default.array.isRequired,
    prefix: _propTypes2.default.string.isRequired,
    publicationId: _propTypes2.default.node,
    title: _propTypes2.default.string
  })
}, _temp);
exports.default = AddPublicationCard;


var inactiveErrors = {
  showURLError: false,
  showURLEmptyError: false,
  showTitleError: false,
  showTitleEmptyError: false,
  showISSNError: false,
  showISSNEmptyError: false,
  showDOIError: false,
  showDOIEmptyError: false,
  showDOIInvalidError: false,
  showDOIPrefixError: false
};

});

require.register("components/articleReviewGenerator.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
var _jsxFileName = 'app/components/articleReviewGenerator.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _archiveLocations = require('../utilities/archiveLocations');

var _objectSearch = require('../utilities/objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

var _parseXMLArticle = require('../utilities/parseXMLArticle');

var _parseXMLArticle2 = _interopRequireDefault(_parseXMLArticle);

var _getSubItems = require('../utilities/getSubItems');

var _xmldoc = require('../utilities/xmldoc');

var _xmldoc2 = _interopRequireDefault(_xmldoc);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Languages = require('../utilities/language.json');

var PublicationTypes = require('../utilities/publicationTypes.json');
var AppliesTo = require('../utilities/appliesTo.json');
var IdentifierTypes = require('../utilities/identifierTypes.json');


var articleReviewGenerator = function articleReviewGenerator(publication, article, parentIssue, parsedAlready, func) {
    var publicationMetaData = publication;
    if (publication.content) {
        publicationMetaData = (0, _xmldoc2.default)(publication.content);
    }

    var reviewData = article;
    if (!parsedAlready) {
        reviewData = (0, _parseXMLArticle2.default)(article);
    }

    var getFunding = function getFunding() {
        var funders = (0, _getSubItems.getSubmitSubItems)(reviewData.funding).map(function (funder, i) {
            var funderName = undefined;
            if (funder.fundername) {
                funderName = funder.fundername.trim().length > 0 ? funder.fundername : undefined;
            }

            var funder_identifier = undefined;
            if (funder.funder_identifier) {
                funder_identifier = funder.funder_identifier.trim().length > 0 ? funder.funder_identifier : undefined;
            }

            var attributes = '';
            if (funderName || funder_identifier) {
                //if an of these exist
                attributes = '' + funderName + (funder_identifier ? ': ' + funder_identifier : '');
                var grants = funder.grantNumbers.map(function (awardNumber, i) {
                    return awardNumber;
                });

                var fundgroup = _react2.default.createElement(
                    'p',
                    { key: i, __source: {
                            fileName: _jsxFileName,
                            lineNumber: 44
                        },
                        __self: undefined
                    },
                    attributes,
                    _react2.default.createElement('br', {
                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 44
                        },
                        __self: undefined
                    }),
                    grants.length > 0 ? 'Grant Numbers: ' + grants.join(', ') : ''
                );

                return fundgroup;
            }
        });

        return funders.join('').length > 0 ? funders : '';
    };

    var getLicense = function getLicense() {
        var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        var licenses = (0, _getSubItems.getSubmitSubItems)(reviewData.license).map(function (license, i) {

            var appliesto = _lodash2.default.find(AppliesTo, function (applyto) {
                if (applyto.value.trim().toLowerCase() === license.appliesto.trim().toLowerCase()) {
                    return applyto;
                }
            });
            var attributes = _react2.default.createElement(
                'span',
                { key: i, __source: {
                        fileName: _jsxFileName,
                        lineNumber: 62
                    },
                    __self: undefined
                },
                license.appliesto ? appliesto.name : '',
                ': ',
                license.licenseurl,
                ' (',
                license.acceptedDateDay,
                ', ',
                months[parseInt(license.acceptedDateMonth) - 1],
                ' ',
                license.acceptedDateYear,
                ') ',
                reviewData.addInfo.freetolicense === 'yes' ? ', Free to Read: Yes' : ', Free to Read: No',
                _react2.default.createElement('br', {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 64
                    },
                    __self: undefined
                })
            );
            return attributes;
        });
        return licenses.length > 0 ? licenses : '';
    };

    var getRelatedItems = function getRelatedItems() {
        var relatedItems = (0, _getSubItems.getSubmitSubItems)(reviewData.relatedItems).map(function (relatedItem, i) {
            var identifiertype = _lodash2.default.find(IdentifierTypes, function (identtype) {
                if (identtype.name.trim().toLowerCase() === relatedItem.identifierType.trim().toLowerCase()) {
                    return identtype;
                }
            });

            var attributes = _react2.default.createElement(
                'span',
                { key: i, __source: {
                        fileName: _jsxFileName,
                        lineNumber: 78
                    },
                    __self: undefined
                },
                relatedItem.relationType,
                ': ',
                identifiertype ? identifiertype.value : '',
                ' ',
                relatedItem.relatedItemIdentifier,
                ' ',
                relatedItem.description.length > 0 ? relatedItem.description : '',
                _react2.default.createElement('br', {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 78
                    },
                    __self: undefined
                })
            );

            if (relatedItem.description.length > 0 && relatedItem.relationType.length > 0 && relatedItem.relationType.length > 0 && relatedItem.relationType.length > 0) {
                return attributes;
            }
        });
        return relatedItems.length > 0 ? relatedItems : '';
    };

    var getAddInfo = function getAddInfo() {
        var retInfo = [];
        if (reviewData.addInfo.similarityCheckURL.length > 0) {
            retInfo.push(_react2.default.createElement(
                'span',
                {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 90
                    },
                    __self: undefined
                },
                'Similarity Check URL: ',
                reviewData.addInfo.similarityCheckURL,
                _react2.default.createElement('br', {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 90
                    },
                    __self: undefined
                })
            ));
        }
        if (reviewData.addInfo.archiveLocation.length > 0) {
            var arLoc = _lodash2.default.find(_archiveLocations.ArchiveLocations, function (archiveLocation) {
                if (archiveLocation.value.trim().toLowerCase() === reviewData.addInfo.archiveLocation.trim().toLowerCase()) {
                    return archiveLocation;
                }
            });
            retInfo.push(_react2.default.createElement(
                'span',
                {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 98
                    },
                    __self: undefined
                },
                'Archive Location: ',
                arLoc.name,
                _react2.default.createElement('br', {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 98
                    },
                    __self: undefined
                })
            ));
        }
        if (reviewData.addInfo.language.length > 0) {
            var lang = _lodash2.default.find(Languages, function (language) {
                if (language.abbr.trim().toLowerCase() === reviewData.addInfo.language.trim().toLowerCase()) {
                    return language;
                }
            });
            retInfo.push(_react2.default.createElement(
                'span',
                {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 106
                    },
                    __self: undefined
                },
                'Language: ',
                lang.name,
                _react2.default.createElement('br', {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 106
                    },
                    __self: undefined
                })
            ));
        }

        if (reviewData.addInfo.publicationType.length > 0) {
            var pt = _lodash2.default.find(PublicationTypes, function (pubType) {
                if (pubType.value.trim().toLowerCase() === reviewData.addInfo.publicationType.trim().toLowerCase()) {
                    return pubType;
                }
            });
            retInfo.push(_react2.default.createElement(
                'span',
                {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 115
                    },
                    __self: undefined
                },
                'Publication Type: ',
                pt.name
            ));
        }
        return retInfo.length > 0 ? retInfo : '';
    };

    var getPages = function getPages() {
        var retStr = '';
        if (reviewData.article.firstPage.trim().length > 0 || reviewData.article.lastPage.trim().length > 0) {
            retStr = retStr + ', ';
            if (reviewData.article.firstPage.trim().length > 0) {
                retStr = retStr + reviewData.article.firstPage;
            }
            if (reviewData.article.firstPage.trim().length > 0 && reviewData.article.lastPage.trim().length > 0) {
                retStr = retStr + '-';
            }
            if (reviewData.article.lastPage.trim().length > 0) {
                retStr = retStr + reviewData.article.lastPage;
            }
            retStr = retStr + '. ';
        }
        return retStr;
    };

    var publicationAbbrevTitle = (0, _objectSearch2.default)(publicationMetaData, 'abrev_title');
    var pubAbbrTitle = '';
    if (publicationAbbrevTitle) {
        if (publicationAbbrevTitle.trim().length > 0) {
            pubAbbrTitle = ' ' + publicationAbbrevTitle.trim();
        }
    }

    var contributors = (0, _getSubItems.getSubmitSubItems)(reviewData.contributors).map(function (contributor) {
        var contributorName = contributor.firstName + ' ' + contributor.lastName;
        var contributorGroupName = contributor.groupAuthorName;
        if (contributorName.trim().length > 0 || contributorGroupName.trim().length) {
            if (contributorName.trim().length > 0) {
                return contributorName;
            } else if (contributorGroupName.trim().length > 0) {
                return contributorGroupName;
            }
        }
    }).join(', ');

    contributors = contributors.length > 0 ? contributors + ', et al.' : '';

    var onlineDate = reviewData.article.onlineDateYear.length > 0 ? ' (' + reviewData.article.onlineDateYear + '), ' : '';
    var title = reviewData.article.title.length > 0 ? reviewData.article.title + '.' : '';

    var doi = reviewData.article.doi.length > 0 ? ' DOI: ' + reviewData.article.doi + '. ' : '';
    var url = reviewData.article.url ? ' ' + reviewData.article.url + ' ' : '';
    var locationId = reviewData.article.locationId.length > 0 ? ' ' + reviewData.article.locationId : '';

    var vol = '';
    var issue = '';
    if (parentIssue && parentIssue.content) {
        // if there is a content property, we will rely on content,
        // it has more complete data, the API returns either a title,
        // or volume or issue, data is not reliable
        var IssueMetaData = (0, _xmldoc2.default)(parentIssue.content);
        parentIssue = {
            volume: (0, _objectSearch2.default)(IssueMetaData, 'volume'),
            issue: (0, _objectSearch2.default)(IssueMetaData, 'issue')
        };
    }

    if (parentIssue) {
        if (parentIssue.title && !parentIssue.volume && !parentIssue.issue) {
            vol = parentIssue.title.volume ? ' ' + parentIssue.title.volume : '';
            issue = parentIssue.title.issue ? '(' + parentIssue.title.issue + ')' : '';
        } else {
            vol = parentIssue.volume ? ' ' + parentIssue.volume : '';
            issue = parentIssue.issue ? '(' + parentIssue.issue + ')' : '';
        }
    }

    var generalHeading = contributors + onlineDate + title + pubAbbrTitle + vol + issue + locationId + getPages() + doi + url;

    var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];

    return _react2.default.createElement(
        'div',
        { className: 'ReviewArticleCard', __source: {
                fileName: _jsxFileName,
                lineNumber: 198
            },
            __self: undefined
        },
        _react2.default.createElement(
            'div',
            {
                __source: {
                    fileName: _jsxFileName,
                    lineNumber: 199
                },
                __self: undefined
            },
            func ? _react2.default.createElement(
                'div',
                {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 202
                    },
                    __self: undefined
                },
                _react2.default.createElement(
                    'button',
                    { className: 'addToCart', onClick: func, __source: {
                            fileName: _jsxFileName,
                            lineNumber: 203
                        },
                        __self: undefined
                    },
                    'Add To Cart'
                )
            ) : '',
            _react2.default.createElement(
                'div',
                { className: 'reviewArticle', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 207
                    },
                    __self: undefined
                },
                _react2.default.createElement(
                    'div',
                    { className: 'firstBorder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 208
                        },
                        __self: undefined
                    },
                    _react2.default.createElement('div', { className: 'innerBorder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 209
                        },
                        __self: undefined
                    })
                ),
                _react2.default.createElement(
                    'div',
                    { className: 'secondBorder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 211
                        },
                        __self: undefined
                    },
                    _react2.default.createElement('div', { className: 'innerBorder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 212
                        },
                        __self: undefined
                    })
                ),
                _react2.default.createElement(
                    'div',
                    { className: 'reviewContent', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 214
                        },
                        __self: undefined
                    },
                    _react2.default.createElement(
                        'h4',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 215
                            },
                            __self: undefined
                        },
                        'General'
                    ),
                    _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 216
                            },
                            __self: undefined
                        },
                        generalHeading
                    ),
                    reviewData.article.onlineDateYear.length > 0 || reviewData.article.onlineDateMonth.length > 0 || reviewData.article.onlineDateDay.length > 0 || reviewData.article.printDateYear.length > 0 || reviewData.article.printDateMonth.length > 0 || reviewData.article.printDateDay.length > 0 || reviewData.article.acceptedDateYear.length > 0 || reviewData.article.acceptedDateMonth.length > 0 || reviewData.article.acceptedDateDay.length > 0 ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 221
                            },
                            __self: undefined
                        },
                        reviewData.article.printDateYear.length > 0 || reviewData.article.printDateMonth.length > 0 || reviewData.article.printDateDay.length > 0 ? 'Print: ' + (reviewData.article.printDateDay.length > 0 ? reviewData.article.printDateDay : '') + (reviewData.article.printDateMonth.length > 0 && reviewData.article.printDateYear.length > 0 ? ', ' : '') + (reviewData.article.printDateMonth.length > 0 ? ' ' + months[parseInt(reviewData.article.printDateMonth) - 1] : '') + (reviewData.article.printDateYear.length > 0 ? ' ' + reviewData.article.printDateYear : '') : '',
                        (reviewData.article.onlineDateYear.length > 0 || reviewData.article.onlineDateMonth.length > 0 || reviewData.article.onlineDateDay.length > 0) && _react2.default.createElement('br', {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 234
                            },
                            __self: undefined
                        }),
                        reviewData.article.onlineDateYear.length > 0 || reviewData.article.onlineDateMonth.length > 0 || reviewData.article.onlineDateDay.length > 0 ? 'Online: ' + (reviewData.article.onlineDateDay.length > 0 ? reviewData.article.onlineDateDay : '') + (reviewData.article.onlineDateMonth.length > 0 && reviewData.article.onlineDateYear.length > 0 ? ', ' : '') + (reviewData.article.onlineDateMonth.length > 0 ? ' ' + months[parseInt(reviewData.article.onlineDateMonth) - 1] : '') + (reviewData.article.onlineDateYear.length > 0 ? ' ' + reviewData.article.onlineDateYear : '') : '',
                        (reviewData.article.acceptedDateYear.length > 0 || reviewData.article.acceptedDateMonth.length > 0 || reviewData.article.acceptedDateDay.length > 0) && _react2.default.createElement('br', {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 247
                            },
                            __self: undefined
                        }),
                        reviewData.article.acceptedDateYear.length > 0 || reviewData.article.acceptedDateMonth.length > 0 || reviewData.article.acceptedDateDay.length > 0 ? 'Accepted: ' + (reviewData.article.acceptedDateDay.length > 0 ? reviewData.article.acceptedDateDay : '') + (reviewData.article.acceptedDateMonth.length > 0 && reviewData.article.acceptedDateYear.length > 0 ? ', ' : '') + (reviewData.article.acceptedDateMonth.length > 0 ? ' ' + months[parseInt(reviewData.article.acceptedDateMonth) - 1] : '') + (reviewData.article.acceptedDateYear.length > 0 ? ' ' + reviewData.article.acceptedDateYear : '') : ''
                    ) : '',
                    reviewData.article.abstract.length > 0 ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 265
                            },
                            __self: undefined
                        },
                        'Abstract',
                        _react2.default.createElement('br', {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 265
                            },
                            __self: undefined
                        }),
                        reviewData.article.abstract
                    ) : '',
                    getFunding().length > 0 ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 268
                            },
                            __self: undefined
                        },
                        _react2.default.createElement(
                            'h4',
                            {
                                __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 269
                                },
                                __self: undefined
                            },
                            'Funding'
                        ),
                        getFunding()
                    ) : '',
                    getLicense().length > 0 ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 275
                            },
                            __self: undefined
                        },
                        _react2.default.createElement(
                            'h4',
                            {
                                __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 276
                                },
                                __self: undefined
                            },
                            'License'
                        ),
                        getLicense()
                    ) : '',
                    getRelatedItems().length > 0 ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 282
                            },
                            __self: undefined
                        },
                        _react2.default.createElement(
                            'h4',
                            {
                                __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 283
                                },
                                __self: undefined
                            },
                            'Related Items'
                        ),
                        getRelatedItems()
                    ) : '',
                    getAddInfo().length > 0 ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 289
                            },
                            __self: undefined
                        },
                        _react2.default.createElement(
                            'h4',
                            {
                                __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 290
                                },
                                __self: undefined
                            },
                            'Additional Information'
                        ),
                        getAddInfo()
                    ) : ''
                )
            )
        )
    );
};
exports.default = articleReviewGenerator;

});

require.register("components/depositCart.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/depositCart.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRedux = require('react-redux');

var _redux = require('redux');

var _reactRouter = require('react-router');

var _immutabilityHelper = require('immutability-helper');

var _immutabilityHelper2 = _interopRequireDefault(_immutabilityHelper);

var _reactToggleSwitch = require('react-toggle-switch');

var _reactToggleSwitch2 = _interopRequireDefault(_reactToggleSwitch);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _fetch = require('../utilities/fetch');

var _fetch2 = _interopRequireDefault(_fetch);

var _dupeDOI = require('../utilities/dupeDOI');

var _dupeDOI2 = _interopRequireDefault(_dupeDOI);

var _xmldoc = require('../utilities/xmldoc');

var _xmldoc2 = _interopRequireDefault(_xmldoc);

var _my_decorators = require('my_decorators');

var _objectSearch = require('../utilities/objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

var _depositCartItem = require('./depositCartItem');

var _depositCartItem2 = _interopRequireDefault(_depositCartItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DepositCart = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(DepositCart, _Component);

  function DepositCart(props) {
    (0, _classCallCheck3.default)(this, DepositCart);

    var _this = (0, _possibleConstructorReturn3.default)(this, (DepositCart.__proto__ || (0, _getPrototypeOf2.default)(DepositCart)).call(this, props));

    _this.state = {
      depositerrors: true,
      errors: []
    };
    return _this;
  }

  (0, _createClass3.default)(DepositCart, [{
    key: 'updateError',
    value: function updateError(index, pubDoi, pubIndex) {

      var errorState = this.state.errors;

      errorState.push({
        errorIndex: index,
        errorPubDoi: pubDoi,
        errorPubIndex: pubIndex
      });

      this.setState({
        errors: (0, _immutabilityHelper2.default)(this.state.errors, { $set: errorState })
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var errors = _lodash2.default.orderBy(_lodash2.default.filter(this.state.errors, function (error) {
        return typeof error.errorIndex !== 'undefined';
      }), ['errorIndex', 'errorPubIndex']); // ordering, the reporting of errors are not always 1 to 1, there are time it will lag

      var items = [];
      _lodash2.default.each(this.props.fullCart, function (cartItem, i) {
        items.push(_react2.default.createElement(_depositCartItem2.default, {
          cartItem: cartItem,
          key: i,
          index: i,
          reduxCartUpdate: _this2.props.reduxCartUpdate,
          reduxCart: _this2.props.reduxCart,
          reduxControlModal: _this2.props.reduxControlModal,
          reduxRemoveFromCart: _this2.props.reduxRemoveFromCart,
          updateError: _this2.updateError.bind(_this2),
          errorIndex: errors.length > 0 ? errors[0].errorIndex : -1,
          errorPubIndex: errors.length > 0 ? errors[0].errorPubIndex : -1,
          errorPubDoi: errors.length > 0 ? errors[0].errorPubDoi : '',
          toggleDeposit: _this2.props.toggleDeposit,
          __source: {
            fileName: _jsxFileName,
            lineNumber: 63
          },
          __self: _this2
        }));
      });

      return _react2.default.createElement(
        'div',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 82
          },
          __self: this
        },
        _react2.default.createElement(
          'table',
          { className: 'depositTopBorder', __source: {
              fileName: _jsxFileName,
              lineNumber: 83
            },
            __self: this
          },
          _react2.default.createElement(
            'tr',
            { className: 'item', __source: {
                fileName: _jsxFileName,
                lineNumber: 84
              },
              __self: this
            },
            _react2.default.createElement(
              'td',
              { className: 'stateIcon', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 85
                },
                __self: this
              },
              '\xA0'
            ),
            _react2.default.createElement(
              'td',
              { className: 'aboveTitle', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 88
                },
                __self: this
              },
              '\xA0'
            ),
            _react2.default.createElement(
              'td',
              { className: 'status', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 91
                },
                __self: this
              },
              'Status'
            ),
            _react2.default.createElement(
              'td',
              { className: 'action', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 94
                },
                __self: this
              },
              '\xA0'
            ),
            _react2.default.createElement(
              'td',
              { className: 'errorholder', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 97
                },
                __self: this
              },
              '\xA0'
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'depositCartRows', __source: {
              fileName: _jsxFileName,
              lineNumber: 102
            },
            __self: this
          },
          items
        )
      );
    }
  }]);
  return DepositCart;
}(_react.Component), _class.propTypes = {
  reduxCartUpdate: _propTypes2.default.func.isRequired,
  reduxControlModal: _propTypes2.default.func.isRequired,
  reduxRemoveFromCart: _propTypes2.default.func.isRequired,
  reduxCart: _propTypes2.default.array.isRequired,
  toggleDeposit: _propTypes2.default.func.isRequired,
  fullCart: _propTypes2.default.array.isRequired
}, _temp);
exports.default = DepositCart;

});

require.register("components/depositCartItem.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/depositCartItem.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRedux = require('react-redux');

var _redux = require('redux');

var _reactRouter = require('react-router');

var _immutabilityHelper = require('immutability-helper');

var _immutabilityHelper2 = _interopRequireDefault(_immutabilityHelper);

var _reactToggleSwitch = require('react-toggle-switch');

var _reactToggleSwitch2 = _interopRequireDefault(_reactToggleSwitch);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _my_decorators = require('my_decorators');

var _dupeDOI = require('../utilities/dupeDOI');

var _dupeDOI2 = _interopRequireDefault(_dupeDOI);

var _isDOI = require('../utilities/isDOI');

var _isDOI2 = _interopRequireDefault(_isDOI);

var _isURL = require('../utilities/isURL');

var _isURL2 = _interopRequireDefault(_isURL);

var _objectSearch = require('../utilities/objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

var _depositCartItemCard = require('./depositCartItemCard');

var _depositCartItemCard2 = _interopRequireDefault(_depositCartItemCard);

var _application = require('../actions/application');

var _xmldoc = require('../utilities/xmldoc');

var _xmldoc2 = _interopRequireDefault(_xmldoc);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DepositCartItem = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(DepositCartItem, _Component);

  function DepositCartItem(props) {
    (0, _classCallCheck3.default)(this, DepositCartItem);

    var _this = (0, _possibleConstructorReturn3.default)(this, (DepositCartItem.__proto__ || (0, _getPrototypeOf2.default)(DepositCartItem)).call(this, props));

    _this.state = {
      publication: {},
      publicationMetaData: {}
    };
    return _this;
  }

  (0, _createClass3.default)(DepositCartItem, [{
    key: 'componentWillUpdate',
    value: function componentWillUpdate(nextProps, nextState) {
      if (this.props.errorIndex !== nextProps.errorIndex) {
        for (var i = 0; i < nextProps.cartItem.contains.length; i++) {
          if (i === nextProps.errorIndex && nextProps.cartItem.doi === nextProps.errorPubDoi && nextProps.index === nextProps.errorPubIndex) {
            this.props.toggleDeposit(false);
            break;
          }
        }
        this.props.toggleDeposit(true);
      }
    }
  }, {
    key: 'displayItem',
    value: function displayItem() {
      var row = [];
      var counter = 0;
      for (var i = 0; i < this.props.cartItem.contains.length; i++) {
        row.push(_react2.default.createElement(_depositCartItemCard2.default, {
          key: counter,
          index: counter,
          pubIndex: this.props.index,
          pubDoi: this.props.cartItem.doi,
          reduxCartUpdate: this.props.reduxCartUpdate,
          reduxCart: this.props.reduxCart,
          reduxControlModal: this.props.reduxControlModal,
          reduxRemoveFromCart: this.props.reduxRemoveFromCart,
          publication: this.state.publication,
          cartItem: this.props.cartItem.contains[i],
          updateError: this.props.updateError,
          showError: counter === this.props.errorIndex && this.props.cartItem.doi === this.props.errorPubDoi && this.props.index === this.props.errorPubIndex ? true : false,
          __source: {
            fileName: _jsxFileName,
            lineNumber: 60
          },
          __self: this
        }));
        if (this.props.cartItem.contains[i].contains) {
          for (var j = 0; j < this.props.cartItem.contains[i].contains.length; j++) {
            counter++;
            row.push(_react2.default.createElement(_depositCartItemCard2.default, {
              className: 'issueArticle',
              key: counter,
              index: counter,
              underIssue: true,
              pubIndex: this.props.index,
              pubDoi: this.props.cartItem.doi,
              reduxCartUpdate: this.props.reduxCartUpdate,
              reduxCart: this.props.reduxCart,
              reduxControlModal: this.props.reduxControlModal,
              reduxRemoveFromCart: this.props.reduxRemoveFromCart,
              publication: this.state.publication,
              cartItem: this.props.cartItem.contains[i].contains[j],
              updateError: this.props.updateError,
              showError: counter === this.props.errorIndex && this.props.cartItem.doi === this.props.errorPubDoi && this.props.index === this.props.errorPubIndex ? true : false,
              __source: {
                fileName: _jsxFileName,
                lineNumber: 79
              },
              __self: this
            }));
          }
        }
        counter++;
      }

      return _react2.default.createElement(
        'div',
        { className: 'depositpage', __source: {
            fileName: _jsxFileName,
            lineNumber: 102
          },
          __self: this
        },
        _react2.default.createElement(
          'table',
          {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 103
            },
            __self: this
          },
          _react2.default.createElement(
            'tr',
            {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 104
              },
              __self: this
            },
            _react2.default.createElement(
              'td',
              { className: 'titleHolderTD', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 105
                },
                __self: this
              },
              _react2.default.createElement(
                'table',
                { className: 'itemholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 106
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'tr',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 107
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'td',
                    { className: 'stateIcon deposittitle', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 108
                      },
                      __self: this
                    },
                    '\xA0'
                  ),
                  _react2.default.createElement(
                    'td',
                    { className: 'depositpubtitle', colSpan: 3, __source: {
                        fileName: _jsxFileName,
                        lineNumber: 109
                      },
                      __self: this
                    },
                    this.props.cartItem.title
                  ),
                  _react2.default.createElement(
                    'td',
                    { className: 'titlerror errorholder', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 110
                      },
                      __self: this
                    },
                    '\xA0'
                  )
                )
              )
            )
          ),
          _react2.default.createElement(
            'tr',
            {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 115
              },
              __self: this
            },
            _react2.default.createElement(
              'table',
              { className: 'itemholder', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 116
                },
                __self: this
              },
              row
            )
          )
        )
      );
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 127
          },
          __self: this
        },
        this.displayItem()
      );
    }
  }]);
  return DepositCartItem;
}(_react.Component), _class.propTypes = {
  reduxCartUpdate: _propTypes2.default.func.isRequired,
  reduxControlModal: _propTypes2.default.func.isRequired,
  reduxRemoveFromCart: _propTypes2.default.func.isRequired,
  cartItem: _propTypes2.default.object.isRequired,
  reduxCart: _propTypes2.default.array.isRequired,
  index: _propTypes2.default.number.isRequired,
  updateError: _propTypes2.default.func.isRequired,
  toggleDeposit: _propTypes2.default.func.isRequired,
  errorIndex: _propTypes2.default.number.isRequired,
  errorPubIndex: _propTypes2.default.number.isRequired,
  errorPubDoi: _propTypes2.default.string.isRequired
}, _temp);
exports.default = DepositCartItem;

});

require.register("components/depositCartItemCard.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/depositCartItemCard.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRedux = require('react-redux');

var _redux = require('redux');

var _reactRouter = require('react-router');

var _immutabilityHelper = require('immutability-helper');

var _immutabilityHelper2 = _interopRequireDefault(_immutabilityHelper);

var _reactToggleSwitch = require('react-toggle-switch');

var _reactToggleSwitch2 = _interopRequireDefault(_reactToggleSwitch);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _my_decorators = require('my_decorators');

var _dupeDOI = require('../utilities/dupeDOI');

var _dupeDOI2 = _interopRequireDefault(_dupeDOI);

var _isDOI = require('../utilities/isDOI');

var _isDOI2 = _interopRequireDefault(_isDOI);

var _isURL = require('../utilities/isURL');

var _isURL2 = _interopRequireDefault(_isURL);

var _objectSearch = require('../utilities/objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

var _xmldoc = require('../utilities/xmldoc');

var _xmldoc2 = _interopRequireDefault(_xmldoc);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DepositCartItemCard = (_temp = _class = function (_Component) {
    (0, _inherits3.default)(DepositCartItemCard, _Component);

    function DepositCartItemCard(props) {
        (0, _classCallCheck3.default)(this, DepositCartItemCard);

        var _this = (0, _possibleConstructorReturn3.default)(this, (DepositCartItemCard.__proto__ || (0, _getPrototypeOf2.default)(DepositCartItemCard)).call(this, props));

        var publication = _this.props.publication;

        _this.state = {
            error: false,
            errors: {
                articleTitle: false,
                printDate: false,
                onlineDate: false,
                articleUrl: false,
                invalidArticleUrl: false,
                doi: false,
                dupeDoi: false,
                invalidDoi: false,
                doiPrefix: false,
                lastPage: false, //only if there is a firstpage
                contributorLname: false, // only if first name is present
                validLicenseUrl: false,
                issueUrl: false,
                issueInvalidUrl: false,
                issuePrintDate: false,
                issueOnlineDate: false,
                issueDoi: false,
                dupeIssueDoi: false,
                invalidIssueDoi: false,
                doiIssuePrefix: false,
                volumeDoi: false,
                dupevolumeDoi: false,
                invalidvolumeDoi: false,
                doivolumePrefix: false,
                volumeUrl: false,
                volumeInvalidUrl: false,
                freetoreadLicenseStartDate: false,
                hasDate: false
            },
            errorStr: ''
        };
        return _this;
    }

    (0, _createClass3.default)(DepositCartItemCard, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            var cartItem = this.props.cartItem;

            var cartType = cartItem.type;
            var parsed = (0, _xmldoc2.default)(cartItem.content);
            var errorMsg = '';
            if (cartType.toLowerCase() === 'article') {
                this.validateArticle(parsed);
            } else if (cartType.toLowerCase() === 'issue') {
                this.validateIssue(parsed);
            }
        }
    }, {
        key: 'componentDidUpdate',
        value: function componentDidUpdate(nextProps, nextState) {
            if (this.state.errorStr !== nextState.errorStr) {
                if (this.state.errorStr.length > 0) {
                    this.props.updateError(nextProps.index, nextProps.pubDoi, nextProps.pubIndex);
                }
            }
        }
    }, {
        key: 'validateArticle',
        value: function validateArticle(parsedArticle, callback) {
            var _this2 = this;

            var errorStates = {
                articleTitle: { $set: false },
                printDate: { $set: false },
                onlineDate: { $set: false },
                articleUrl: { $set: false },
                invalidArticleUrl: { $set: false },
                doi: { $set: false },
                dupeDoi: { $set: false },
                invalidDoi: { $set: false },
                doiPrefix: { $set: false },
                lastPage: { $set: false }, //only if there is a firstpage
                contributorLname: { $set: false }, // only if first name is present
                validLicenseUrl: { $set: false },
                issueUrl: { $set: false },
                issueInvalidUrl: { $set: false },
                issuePrintDate: { $set: false },
                issueOnlineDate: { $set: false },
                issueDoi: { $set: false },
                dupeIssueDoi: { $set: false },
                invalidIssueDoi: { $set: false },
                doiIssuePrefix: { $set: false },
                volumeDoi: { $set: false },
                dupevolumeDoi: { $set: false },
                invalidvolumeDoi: { $set: false },
                doivolumePrefix: { $set: false },
                volumeUrl: { $set: false },
                volumeInvalidUrl: { $set: false },
                freetoreadLicenseStartDate: { $set: false },
                hasDate: { $set: false }
            };

            var contributors = getContributors(parsedArticle);
            var licenses = getLicenses(parsedArticle);

            var freeToRead = (0, _objectSearch2.default)(parsedArticle, 'ai:free_to_read');

            var pages = (0, _objectSearch2.default)(parsedArticle, 'pages');

            var firstPage = '';
            var lastPage = '';
            if (pages) {
                firstPage = pages.first_page ? pages.first_page : '';
                lastPage = pages.last_page ? pages.last_page : '';
            }

            //preliminary checks should be done already!?

            var title = (0, _objectSearch2.default)(parsedArticle, 'title', '');

            errorStates.articleTitle = { $set: title.length <= 0 };

            if (lastPage.length > 0) {
                errorStates.lastPage = { $set: firstPage.length <= 0 };
            }

            var publication_date = (0, _objectSearch2.default)(parsedArticle, 'publication_date', []);
            if (!Array.isArray(publication_date)) publication_date = [publication_date];
            var onlinePubDate = _lodash2.default.find(publication_date, function (pubDate) {
                if (pubDate) {
                    if (pubDate['-media_type'] === 'online') {
                        return pubDate;
                    }
                }
                return [];
            });

            var printPubDate = _lodash2.default.find(publication_date, function (pubDate) {
                if (pubDate) {
                    if (pubDate['-media_type'] === 'print') {
                        return pubDate;
                    }
                }
                return [];
            });

            errorStates.printDate = { $set: printPubDate ? true : false };
            errorStates.onlineDate = { $set: onlinePubDate ? true : false };

            var hasPrintYear = false,
                hasOnlineYear = false,
                hasDate = false;
            if (printPubDate || onlinePubDate) {
                hasDate = true;
            }

            errorStates.hasDate = { $set: !hasDate };

            var doiData = (0, _objectSearch2.default)(parsedArticle, 'doi_data', { doi: '', resource: '' });
            var doi = doiData.doi;
            var url = doiData.resource ? doiData.resource : '';
            errorStates.doi = { $set: doi.length <= 0 };
            errorStates.articleUrl = { $set: url.length <= 0 };
            errorStates.invalidArticleUrl = { $set: url.length > 0 && !(0, _isURL2.default)(url) };

            _lodash2.default.each(contributors, function (contributor) {
                var isThereFirstname = contributor.firstName.length > 0;

                if (isThereFirstname) {
                    errorStates.contributorLname = { $set: contributor.lastName.length <= 0 };
                    return;
                }
            });

            _lodash2.default.each(licenses, function (license) {
                var lUrl = license.licenseurl ? license.licenseurl : '';
                if (!(0, _isURL2.default)(lUrl)) {
                    errorStates.validLicenseUrl = { $set: !(0, _isURL2.default)(lUrl) };
                    return;
                }
            });

            _lodash2.default.each(licenses, function (license) {
                if (freeToRead === 'yes') {
                    // only if free to read is ON
                    var licAcceptedDate = licences['-start_date'];
                    errorStates.freetoreadLicenseStartDate = { $set: (licAcceptedDate ? licAcceptedDate : '').length === 0 };
                    return;
                }
            });

            errorStates.doi = { $set: doi.length <= 0 };

            if (doi.length > 0) {
                errorStates.invalidDoi = { $set: !(0, _isDOI2.default)(doi) };
            }

            // prefix check
            var pubPrefix = this.props.pubDoi.substring(0, this.props.pubDoi.indexOf('/'));
            var articlePrefix = doi.substring(0, doi.indexOf('/'));
            if (pubPrefix !== articlePrefix && doi.length > 0) {
                errorStates.doiPrefix = { $set: true };
            }

            if (doi.length > 0 && (0, _isDOI2.default)(doi)) {
                // if any of these 2 was errored, we want to show that error first
                (0, _dupeDOI2.default)(doi, function (isDupe) {
                    isDupe = true; // hard coding it to true because there is discussion on checking DOI on level 1 or level 2

                    errorStates.dupeDoi = { $set: !isDupe };
                    _this2.settingState(errorStates, undefined, 'article');
                });
            } else {
                this.settingState(errorStates, undefined, 'article');
            }
        }
    }, {
        key: 'validateIssue',
        value: function validateIssue(parsedIssue, callback) {
            var _this3 = this;

            var errorStates = {
                articleTitle: { $set: false },
                printDate: { $set: false },
                onlineDate: { $set: false },
                articleUrl: { $set: false },
                invalidArticleUrl: { $set: false },
                doi: { $set: false },
                dupeDoi: { $set: false },
                invalidDoi: { $set: false },
                doiPrefix: { $set: false },
                lastPage: { $set: false }, //only if there is a firstpage
                contributorLname: { $set: false }, // only if first name is present
                validLicenseUrl: { $set: false },
                issueUrl: { $set: false },
                issueInvalidUrl: { $set: false },
                issuePrintDate: { $set: false },
                issueOnlineDate: { $set: false },
                issueDoi: { $set: false },
                dupeIssueDoi: { $set: false },
                invalidIssueDoi: { $set: false },
                doiIssuePrefix: { $set: false },
                volumeDoi: { $set: false },
                dupevolumeDoi: { $set: false },
                invalidvolumeDoi: { $set: false },
                doivolumePrefix: { $set: false },
                volumeUrl: { $set: false },
                volumeInvalidUrl: { $set: false },
                freetoreadLicenseStartDate: { $set: false },
                hasDate: { $set: false }
            };
            var checkDoi = [];
            var resource = (0, _objectSearch2.default)(parsedIssue, 'resource', '');
            errorStates.issueUrl = { $set: resource.length <= 0 };
            if (resource.length > 0) {
                errorStates.issueInvalidUrl = { $set: !(0, _isURL2.default)(resource) };
            }

            var publication_date = (0, _objectSearch2.default)(parsedIssue, 'publication_date', []);
            if (!Array.isArray(publication_date)) publication_date = [publication_date];
            var onlinePubDate = _lodash2.default.find(publication_date, function (pubDate) {
                if (pubDate) {
                    if (pubDate['-media_type'] === 'online') {
                        return pubDate;
                    }
                }
                return [];
            });

            var printPubDate = _lodash2.default.find(publication_date, function (pubDate) {
                if (pubDate) {
                    if (pubDate['-media_type'] === 'print') {
                        return pubDate;
                    }
                }
                return [];
            });

            errorStates.issuePrintDate = { $set: printPubDate ? false : true };
            errorStates.issueOnlineDate = { $set: onlinePubDate ? false : true };

            var hasPrintYear = false,
                hasOnlineYear = false,
                hasDate = false;
            if (printPubDate || onlinePubDate) {
                hasDate = true;
            }

            errorStates.hasDate = { $set: !hasDate };

            var doiData = (0, _objectSearch2.default)(parsedIssue, 'doi_data', { doi: '', resource: '' });
            var doi = doiData.doi;
            var url = doiData.resource;
            errorStates.issueDoi = { $set: doi.length <= 0 };
            if (doi.length > 0) {
                errorStates.invalidIssueDoi = { $set: !(0, _isDOI2.default)(doi) };
                if ((0, _isDOI2.default)(doi)) {
                    checkDoi.push(doi);
                }
            }
            // prefix check
            var pubPrefix = this.props.pubDoi.substring(0, this.props.pubDoi.indexOf('/'));
            var articlePrefix = doi.substring(0, doi.indexOf('/'));
            if (pubPrefix !== articlePrefix && doi.length > 0) {
                errorStates.doiIssuePrefix = { $set: true };
            }

            var VolumeDoiData = (0, _objectSearch2.default)(parsedIssue, 'journal_volume');
            if (VolumeDoiData) {
                // if exist
                var volumeDoiData = (0, _objectSearch2.default)(VolumeDoiData, 'doi_data', { doi: '', resource: '' });
                if (volumeDoiData) {
                    var volumeDoi = volumeDoiData.doi;
                    var volumeUrl = volumeDoiData.resource;

                    if (volumeDoi.length > 0) {
                        // check for valid and prefix
                        errorStates.invalidvolumeDoi = { $set: !(0, _isDOI2.default)(volumeDoi) };
                        if ((0, _isDOI2.default)(volumeDoi)) {
                            checkDoi.push(volumeDoi);
                            errorStates.invalidvolumeDoi = { $set: !(0, _isDOI2.default)(volumeDoi) };
                            var volumearticlePrefix = volumeDoi.substring(0, volumeDoi.indexOf('/'));
                            if (pubPrefix !== volumearticlePrefix && volumeDoi.length > 0) {
                                errorStates.doivolumePrefix = { $set: true };
                            }
                        }

                        // if a DOI is given, need to validate volume url
                        if (volumeUrl.length <= 0) {
                            errorStates.volumeUrl = { $set: true };
                        } else {
                            errorStates.volumeInvalidUrl = { $set: !(0, _isURL2.default)(volumeUrl) };
                        }
                    }
                }
            }

            if (checkDoi.length > 0) {
                // if any of these 2 was errored, we want to show that error first
                (0, _dupeDOI2.default)(checkDoi, function (isDupe) {
                    // 0 is issue DOI
                    // 1 is volume DOI

                    //            isDupe = true // hard coding it to true because there is discussion on checking DOI on level 1 or level 2

                    errorStates.dupeIssueDoi = { $set: !isDupe[0] };
                    if (checkDoi.length > 1) {
                        errorStates.dupevolumeDoi = { $set: !isDupe[1] };
                    }

                    _this3.settingState(errorStates, undefined, 'issue');
                });
            } else {
                this.settingState(errorStates, undefined, 'issue');
            }
        }
    }, {
        key: 'settingState',
        value: function settingState(errorStates, callback, type) {
            var _this4 = this;

            this.setState({
                errors: (0, _immutabilityHelper2.default)(this.state.errors, errorStates)
            }, function () {
                var allErrors = '';
                for (var key in _this4.state.errors) {
                    // checking all the properties of errors to see if there is a true
                    if (_this4.state.errors[key]) {
                        //this.props.updateError()
                        var errorMsg = '';
                        switch (key) {
                            case 'hasDate':
                                errorMsg = '<p><b>Required.</b> Please provide either a print or online date.</p>';break;
                            case 'lastPage':
                                errorMsg = '<p><b>Required.</b> Please provide a first page if last page value exists.</p>';break;
                            case 'contributorLname':
                                errorMsg = '<p><b>Required.</b> Please provide last name with first name.</p>';break;
                            case 'validLicenseUrl':
                                errorMsg = '<p><b>Invalid URL.</b> Please check your URL is correct.</p>';break;
                            case 'articleTitle':
                                errorMsg = '<p><b>Required.</b> Please provide required article title.</p>';break;
                            case 'articleUrl':
                                errorMsg = '<p><b>Required.</b> Please provide required article URL.</p>';break;
                            case 'invalidArticleUrl':
                                errorMsg = '<p><b>Invalid URL.</b> Please check your URL is correct.</p>';break;
                            case 'doiPrefix':
                                errorMsg = '<p><b>Invalid DOI.</b> DOI prefix needs to match journal DOI prefix.</p>';break;
                            case 'doi':
                                errorMsg = '<p><b>Required.</b> Please provide required article title.</p>';break;
                            case 'dupeDoi':
                                errorMsg = '<p><b>Duplicate DOI.</b> Registering a new DOI? This one already exists.</p>';break;
                            case 'invalidDoi':
                                errorMsg = '<p><b>Invalid DOI.</b> Please check your DOI (10.xxxx/xx...).</p>';break;
                            case 'issueUrl':
                                errorMsg = '<p><b>Required.</b> Please provide required article title.</p>';break;
                            case 'issueInvalidUrl':
                                errorMsg = '<p><b>Invalid URL.</b> Please check your URL is correct.</p>';break;
                            case 'issueDoi':
                                errorMsg = '<p><b>Required.</b> Please provide required article title.</p>';break;
                            case 'dupeIssueDoi':
                                errorMsg = '<p><b>Duplicate DOI.</b> Registering a new DOI? This one already exists.</p>';break;
                            case 'invalidIssueDoi':
                                errorMsg = '<p><b>Invalid DOI.</b> Please check your DOI (10.xxxx/xx...).</p>';break;
                            case 'doiIssuePrefix':
                                errorMsg = '<p><b>Invalid DOI.</b> DOI prefix needs to match journal DOI prefix.</p>';break;
                            case 'volumeDoi':
                                errorMsg = '<p><b>Required.</b> Please provide required article title.</p>';break;
                            case 'dupevolumeDoi':
                                errorMsg = '<p><b>Duplicate DOI.</b> Registering a new DOI? This one already exists.</p>';break;
                            case 'invalidvolumeDoi':
                                errorMsg = '<p><b>Invalid DOI.</b> Please check your DOI (10.xxxx/xx...).</p>';break;
                            case 'doivolumePrefix':
                                errorMsg = '<p><b>Invalid DOI.</b> DOI prefix needs to match journal DOI prefix.</p>';break;
                            case 'volumeUrl':
                                errorMsg = '<p><b>Required.</b> Please provide required article title.</p>';break;
                            case 'volumeInvalidUrl':
                                errorMsg = '<p><b>Invalid URL.</b> Please check your URL is correct.</p>';break;
                            case 'freetoreadLicenseStartDate':
                                errorMsg = '<p><b>Required.</b> Please provide Start date if content is Free to Read.</p>';break;
                        }
                        if (_this4.state.errors.hasDate && ['printDate', 'onlineDate', 'issuePrintDate', 'issueOnlineDate'].indexOf(key) > 0) {
                            allErrors += errorMsg;
                        } else if (['printDate', 'onlineDate', 'issuePrintDate', 'issueOnlineDate'].indexOf(key) <= -1) {
                            allErrors += errorMsg;
                        }
                    }
                }
                _this4.setState({ errorStr: allErrors });
                if (callback) callback(_react2.default.createElement(
                    'div',
                    {
                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 416
                        },
                        __self: _this4
                    },
                    allErrors
                )); // there is a true, return the true, means there is an error
            });
        }
    }, {
        key: 'remove',
        value: function remove() {
            this.props.reduxRemoveFromCart(this.props.cartItem.doi);
        }
    }, {
        key: 'displayError',
        value: function displayError() {
            return _react2.default.createElement(
                'div',
                { className: 'errorHolder talltooltip fullError', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 427
                    },
                    __self: this
                },
                _react2.default.createElement(
                    'div',
                    { className: 'toolTipHolder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 428
                        },
                        __self: this
                    },
                    _react2.default.createElement(
                        'a',
                        { className: 'tooltips', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 429
                            },
                            __self: this
                        },
                        _react2.default.createElement(
                            'div',
                            { className: 'toolmsgholder', __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 430
                                },
                                __self: this
                            },
                            _react2.default.createElement(
                                'div',
                                { className: 'errormsgholder', __source: {
                                        fileName: _jsxFileName,
                                        lineNumber: 431
                                    },
                                    __self: this
                                },
                                _react2.default.createElement(
                                    'div',
                                    { className: 'errormsginnerholder', __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 432
                                        },
                                        __self: this
                                    },
                                    _react2.default.createElement(
                                        'div',
                                        {
                                            __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 433
                                            },
                                            __self: this
                                        },
                                        _react2.default.createElement('img', { src: 'images/AddArticle/Asset_Icons_White_Caution.svg', __source: {
                                                fileName: _jsxFileName,
                                                lineNumber: 433
                                            },
                                            __self: this
                                        })
                                    ),
                                    _react2.default.createElement('div', { dangerouslySetInnerHTML: { __html: this.state.errorStr }, __source: {
                                            fileName: _jsxFileName,
                                            lineNumber: 434
                                        },
                                        __self: this
                                    })
                                )
                            )
                        )
                    )
                )
            );
        }
    }, {
        key: 'displayItem',
        value: function displayItem() {
            var _this5 = this;

            var cartItem = this.props.cartItem;

            var parsedArticle = cartItem.content ? (0, _xmldoc2.default)(cartItem.content) : '';
            var cartType = cartItem.type;
            var status = cartItem.status;
            console.log(cartItem.title);
            var title = cartItem.title.title ? cartItem.title.title.trim() : 'Issue ' + (cartItem.title.issue || 'NA') + ', Volume ' + (cartItem.title.volume || 'NA');
            return _react2.default.createElement(
                'tr',
                { className: 'item', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 452
                    },
                    __self: this
                },
                _react2.default.createElement(
                    'td',
                    { className: 'stateIcon' + (this.props.showError ? ' rowError' : '') + (cartType === 'issue' ? ' issuerow' : ''), __source: {
                            fileName: _jsxFileName,
                            lineNumber: 453
                        },
                        __self: this
                    },
                    this.state.errorStr.length > 0 ? _react2.default.createElement(
                        'div',
                        { className: 'iconHolder', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 454
                            },
                            __self: this
                        },
                        _react2.default.createElement('img', { src: 'images/Deposit/Asset_Icons_Red_Caution.png', __source: {
                                fileName: _jsxFileName,
                                lineNumber: 454
                            },
                            __self: this
                        })
                    ) : ''
                ),
                _react2.default.createElement(
                    'td',
                    { className: 'title' + (this.props.showError ? ' rowError' : '') + (cartType === 'issue' ? ' issuerow' : '') + (this.props.underIssue ? ' articleUnderIssue' : ''), __source: {
                            fileName: _jsxFileName,
                            lineNumber: 456
                        },
                        __self: this
                    },
                    title
                ),
                _react2.default.createElement(
                    'td',
                    { className: 'status' + (this.props.showError ? ' rowError' : '') + (cartType === 'issue' ? ' issuerow' : ''), __source: {
                            fileName: _jsxFileName,
                            lineNumber: 459
                        },
                        __self: this
                    },
                    status
                ),
                _react2.default.createElement(
                    'td',
                    { className: 'action' + (this.props.showError ? ' rowError' : '') + (cartType === 'issue' ? ' issuerow' : ''), __source: {
                            fileName: _jsxFileName,
                            lineNumber: 462
                        },
                        __self: this
                    },
                    cartType !== 'issue' && _react2.default.createElement(
                        'a',
                        { onClick: function onClick() {
                                _this5.remove();
                            }, __source: {
                                fileName: _jsxFileName,
                                lineNumber: 463
                            },
                            __self: this
                        },
                        'remove'
                    )
                ),
                _react2.default.createElement(
                    'td',
                    { className: 'errorholder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 465
                        },
                        __self: this
                    },
                    this.props.showError && this.state.errorStr.length > 0 ? this.displayError() : ''
                )
            );
        }
    }, {
        key: 'componentDidUpdate',
        value: function componentDidUpdate(nextProps, nextState) {
            if (this.state.errorStr !== nextState.errorStr) {
                if (this.state.errorStr.length > 0) {
                    this.props.updateError(nextProps.index, nextProps.pubDoi, nextProps.pubIndex);
                }
            }
        }
    }, {
        key: 'componentDidMount',
        value: function componentDidMount() {
            var cartItem = this.props.cartItem;

            var cartType = cartItem.type;
            var parsed = cartItem.content ? (0, _xmldoc2.default)(cartItem.content) : undefined;
            var errorMsg = '';
            if (parsed) {
                if (cartType.toLowerCase() === 'article') {
                    this.validateArticle(parsed);
                } else if (cartType.toLowerCase() === 'issue') {
                    this.validateIssue(parsed);
                }
            }
        }
    }, {
        key: 'render',
        value: function render() {
            return this.displayItem();
        }
    }]);
    return DepositCartItemCard;
}(_react.Component), _class.propTypes = {
    cartItem: _propTypes2.default.object.isRequired,
    updateError: _propTypes2.default.func.isRequired,
    reduxCartUpdate: _propTypes2.default.func.isRequired,
    reduxControlModal: _propTypes2.default.func.isRequired,
    reduxCart: _propTypes2.default.array.isRequired,
    reduxRemoveFromCart: _propTypes2.default.func.isRequired,
    publication: _propTypes2.default.object.isRequired,
    index: _propTypes2.default.number.isRequired,
    pubDoi: _propTypes2.default.string.isRequired,
    pubIndex: _propTypes2.default.number.isRequired,
    showError: _propTypes2.default.bool.isRequired
}, _temp);
exports.default = DepositCartItemCard;


function getLicenses(parsedArticle) {
    // license loading
    var licences = (0, _objectSearch2.default)(parsedArticle, 'ai:license_ref');
    var lic = [];
    // contributors are divied into 2 types
    // person_name and organization
    if (licences) {
        if (!Array.isArray(licences)) {
            var licAcceptedDate = licences['-start_date'].split('-');
            lic.push({
                acceptedDateDay: licAcceptedDate[2] ? licAcceptedDate[2] : '',
                acceptedDateMonth: licAcceptedDate[1] ? licAcceptedDate[1] : '',
                acceptedDateYear: licAcceptedDate[0] ? licAcceptedDate[0] : '',
                appliesto: licences['-applies_to'] ? licences['-applies_to'] : '',
                licenseurl: licences['#text'] ? licences['#text'] : ''
            });
        } else {
            for (var i = 0; i < licences.length; i++) {
                var _licAcceptedDate = licences[i]['-start_date'].split('-');
                lic.push({
                    acceptedDateDay: _licAcceptedDate[2] ? _licAcceptedDate[2] : '',
                    acceptedDateMonth: _licAcceptedDate[1] ? _licAcceptedDate[1] : '',
                    acceptedDateYear: _licAcceptedDate[0] ? _licAcceptedDate[0] : '',
                    appliesto: licences[i]['-applies_to'] ? licences[i]['-applies_to'] : '',
                    licenseurl: licences[i]['#text'] ? licences[i]['#text'] : ''
                });
            }
        }
    }
    return lic;
}

function getContributors(parsedArticle) {
    // contributor loading
    var contributors = (0, _objectSearch2.default)(parsedArticle, 'contributors');
    var contributee = [];
    // contributors are divied into 2 types
    // person_name and organization
    var person_name = undefined;
    var organization = undefined;
    if (contributors) {
        person_name = (0, _objectSearch2.default)(contributors, 'person_name');
        organization = (0, _objectSearch2.default)(contributors, 'organization');

        if (person_name) {
            // if exist
            if (!Array.isArray(person_name)) {
                // there is ONE funder
                contributee.push({
                    firstName: person_name.given_name ? person_name.given_name : '',
                    lastName: person_name.surname ? person_name.surname : '',
                    suffix: person_name.suffix ? person_name.suffix : '',
                    affiliation: person_name.affiliation ? person_name.affiliation : '',
                    orcid: person_name.ORCID ? person_name.ORCID : '',
                    role: person_name['-contributor_role'] ? person_name['-contributor_role'] : '',
                    groupAuthorName: '',
                    groupAuthorRole: ''
                });
            } else {
                // its an array
                _lodash2.default.each(person_name, function (person) {
                    contributee.push({
                        firstName: person.given_name ? person.given_name : '',
                        lastName: person.surname ? person.surname : '',
                        suffix: person.suffix ? person.suffix : '',
                        affiliation: person.affiliation ? person.affiliation : '',
                        orcid: person.ORCID ? person.ORCID : '',
                        role: person['-contributor_role'] ? person['-contributor_role'] : '',
                        groupAuthorName: '',
                        groupAuthorRole: ''
                    });
                });
            }
        }
    }
    return contributee;
}

});

;require.register("components/depositHistoryItem.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/depositHistoryItem.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRedux = require('react-redux');

var _redux = require('redux');

var _reactRouter = require('react-router');

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _reactMoment = require('react-moment');

var _reactMoment2 = _interopRequireDefault(_reactMoment);

var _my_decorators = require('my_decorators');

var _objectSearch = require('../utilities/objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

var _xmldoc = require('../utilities/xmldoc');

var _xmldoc2 = _interopRequireDefault(_xmldoc);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DepositHistoryItem = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(DepositHistoryItem, _Component);

  function DepositHistoryItem(props) {
    (0, _classCallCheck3.default)(this, DepositHistoryItem);

    var _this = (0, _possibleConstructorReturn3.default)(this, (DepositHistoryItem.__proto__ || (0, _getPrototypeOf2.default)(DepositHistoryItem)).call(this, props));

    _this.state = {};
    return _this;
  }

  (0, _createClass3.default)(DepositHistoryItem, [{
    key: 'render',
    value: function render() {
      //    console.log(this.props.history)
      return _react2.default.createElement(
        'tr',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 27
          },
          __self: this
        },
        _react2.default.createElement(
          'td',
          { className: 'firstTd', __source: {
              fileName: _jsxFileName,
              lineNumber: 28
            },
            __self: this
          },
          this.props.history.id
        ),
        _react2.default.createElement(
          'td',
          {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 29
            },
            __self: this
          },
          this.props.history.title
        ),
        _react2.default.createElement(
          'td',
          {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 30
            },
            __self: this
          },
          _react2.default.createElement(
            _reactMoment2.default,
            { format: 'MMM DD', __source: {
                fileName: _jsxFileName,
                lineNumber: 30
              },
              __self: this
            },
            this.props.history.date
          )
        ),
        _react2.default.createElement(
          'td',
          {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 31
            },
            __self: this
          },
          'article'
        ),
        _react2.default.createElement(
          'td',
          {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 32
            },
            __self: this
          },
          this.props.history.status
        ),
        _react2.default.createElement(
          'td',
          {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 33
            },
            __self: this
          },
          this.props.history.doi
        )
      );
    }
  }]);
  return DepositHistoryItem;
}(_react.Component), _class.propTypes = {
  history: _propTypes2.default.object.isRequired
}, _temp);
exports.default = DepositHistoryItem;

});

require.register("components/depositResult.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _jsxFileName = 'app/components/depositResult.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _my_decorators = require('my_decorators');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DepositResult = function (_Component) {
  (0, _inherits3.default)(DepositResult, _Component);

  function DepositResult() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, DepositResult);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = DepositResult.__proto__ || (0, _getPrototypeOf2.default)(DepositResult)).call.apply(_ref, [this].concat(args))), _this), _this.closeErrors = function (callback) {
      //just need to force an update for all errors to close, then callback will open clicked error
      _this.setState({}, callback);
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(DepositResult, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          resultCount = _props.resultCount,
          resultData = _props.resultData,
          depositId = _props.depositId;

      return _react2.default.createElement(
        'div',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 16
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'resultDiv', __source: {
              fileName: _jsxFileName,
              lineNumber: 17
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'resultTopbar', __source: {
                fileName: _jsxFileName,
                lineNumber: 18
              },
              __self: this
            },
            _react2.default.createElement(
              'h3',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 19
                },
                __self: this
              },
              'Your deposit has been processed'
            ),
            _react2.default.createElement(
              'h3',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 20
                },
                __self: this
              },
              'Deposit ID ',
              depositId
            ),
            _react2.default.createElement(
              'p',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 21
                },
                __self: this
              },
              (0, _moment2.default)().format('MM/DD/YYYY hh:mm A')
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'resultIndicatorBar', __source: {
                fileName: _jsxFileName,
                lineNumber: 23
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'leftIndicator', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 24
                },
                __self: this
              },
              _react2.default.createElement('img', { className: 'leftImage', src: 'images/Deposit/Asset_Icons_Deposit_Deposit Accepted.svg', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 25
                },
                __self: this
              }),
              _react2.default.createElement(
                'div',
                { className: 'leftMessage', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 26
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'h3',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 27
                    },
                    __self: this
                  },
                  'Accepted Deposits'
                ),
                _react2.default.createElement(
                  'h3',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 28
                    },
                    __self: this
                  },
                  resultCount.Success
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'rightIndicator', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 31
                },
                __self: this
              },
              _react2.default.createElement('img', { className: 'rightImage', src: 'images/Deposit/Asset_Icons_Deposit_Deposit Failed.svg', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 32
                },
                __self: this
              }),
              _react2.default.createElement(
                'div',
                { className: 'rightMessage', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 33
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'h3',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 34
                    },
                    __self: this
                  },
                  'Failed Deposits'
                ),
                _react2.default.createElement(
                  'h3',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 35
                    },
                    __self: this
                  },
                  resultCount.Failure
                )
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'titleStatusBar', __source: {
                fileName: _jsxFileName,
                lineNumber: 39
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'leftTitle', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 40
                },
                __self: this
              },
              'Title'
            ),
            _react2.default.createElement(
              'div',
              { className: 'rightStatus', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 41
                },
                __self: this
              },
              'Status'
            )
          ),
          renderResults(resultData, this.closeErrors)
        )
      );
    }
  }]);
  return DepositResult;
}(_react.Component);

exports.default = DepositResult;


var renderResults = function renderResults(resultData, closeErrors) {
  var resultArray = [];
  for (var pub in resultData) {
    var articleElements = resultData[pub].map(function (article, index) {
      return _react2.default.createElement(
        'div',
        { className: 'articleBar ' + (article.type === 'issue' ? 'issueBar' : '') + ' ' + (article.errorMessage ? 'errorBorder' : 'normalBorder'), key: index, __source: {
            fileName: _jsxFileName,
            lineNumber: 58
          },
          __self: undefined
        },
        _react2.default.createElement(
          'p',
          { className: 'articleTitle', __source: {
              fileName: _jsxFileName,
              lineNumber: 59
            },
            __self: undefined
          },
          article.title
        ),
        _react2.default.createElement(
          'div',
          { className: 'articleResult', __source: {
              fileName: _jsxFileName,
              lineNumber: 60
            },
            __self: undefined
          },
          _react2.default.createElement(
            'p',
            { className: 'articleResult', __source: {
                fileName: _jsxFileName,
                lineNumber: 61
              },
              __self: undefined
            },
            article.status
          ),
          _react2.default.createElement(
            'div',
            { className: article.errorMessage ? 'errorBox' : 'emptyBox', __source: {
                fileName: _jsxFileName,
                lineNumber: 62
              },
              __self: undefined
            },
            !article.errorMessage && article.type === 'issue' ? _react2.default.createElement(
              'a',
              { href: 'http://dx.doi.org/' + article.doi, __source: {
                  fileName: _jsxFileName,
                  lineNumber: 63
                },
                __self: undefined
              },
              'http://dx.doi.org/',
              article.doi
            ) : '',
            article.errorMessage ? _react2.default.createElement(ErrorBox, { errorMessage: article.errorMessage, closeErrors: closeErrors, __source: {
                fileName: _jsxFileName,
                lineNumber: 64
              },
              __self: undefined
            }) : ''
          )
        )
      );
    });

    var pubCard = _react2.default.createElement(
      'div',
      { key: pub, className: 'resultCard', __source: {
          fileName: _jsxFileName,
          lineNumber: 72
        },
        __self: undefined
      },
      _react2.default.createElement(
        'div',
        { className: 'publicationTitleBar', __source: {
            fileName: _jsxFileName,
            lineNumber: 73
          },
          __self: undefined
        },
        _react2.default.createElement(
          'h3',
          {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 73
            },
            __self: undefined
          },
          pub
        )
      ),
      articleElements
    );
    resultArray.push(pubCard);
  }
  return resultArray;
};

var ErrorBox = function (_Component2) {
  (0, _inherits3.default)(ErrorBox, _Component2);

  function ErrorBox() {
    var _ref2;

    var _temp2, _this2, _ret2;

    (0, _classCallCheck3.default)(this, ErrorBox);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = (0, _possibleConstructorReturn3.default)(this, (_ref2 = ErrorBox.__proto__ || (0, _getPrototypeOf2.default)(ErrorBox)).call.apply(_ref2, [this].concat(args))), _this2), _this2.state = { errorBoxShow: false }, _this2.toggleError = function () {
      if (_this2.state.errorBoxShow) {
        _this2.setState({ errorBoxShow: false });
      } else _this2.props.closeErrors(function () {
        return _this2.setState({ errorBoxShow: true });
      });
    }, _temp2), (0, _possibleConstructorReturn3.default)(_this2, _ret2);
  }

  (0, _createClass3.default)(ErrorBox, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      this.setState({ errorBoxShow: false });
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'ul',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 96
          },
          __self: this
        },
        _react2.default.createElement(
          'li',
          { onClick: this.toggleError, __source: {
              fileName: _jsxFileName,
              lineNumber: 97
            },
            __self: this
          },
          _react2.default.createElement(
            'a',
            { className: 'tooltips', __source: {
                fileName: _jsxFileName,
                lineNumber: 98
              },
              __self: this
            },
            this.state.errorBoxShow && _react2.default.createElement(
              'div',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 100
                },
                __self: this
              },
              _react2.default.createElement('img', { src: 'images/AddArticle/Asset_Icons_White_Caution.svg', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 100
                },
                __self: this
              }),
              _react2.default.createElement(
                'p',
                {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 100
                  },
                  __self: this
                },
                this.props.errorMessage
              )
            ),
            _react2.default.createElement('img', { src: 'images/AddArticle/Asset_Icons_White_Caution.svg', __source: {
                fileName: _jsxFileName,
                lineNumber: 101
              },
              __self: this
            })
          )
        )
      );
    }
  }]);
  return ErrorBox;
}(_react.Component);

});

require.register("components/footer.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _jsxFileName = 'app/components/footer.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _my_decorators = require('my_decorators');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Footer = function (_Component) {
  (0, _inherits3.default)(Footer, _Component);

  function Footer() {
    (0, _classCallCheck3.default)(this, Footer);
    return (0, _possibleConstructorReturn3.default)(this, (Footer.__proto__ || (0, _getPrototypeOf2.default)(Footer)).apply(this, arguments));
  }

  (0, _createClass3.default)(Footer, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'footer', __source: {
            fileName: _jsxFileName,
            lineNumber: 8
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'footer-contents', __source: {
              fileName: _jsxFileName,
              lineNumber: 9
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'address', __source: {
                fileName: _jsxFileName,
                lineNumber: 10
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 11
                },
                __self: this
              },
              'Crossref 50 Salem'
            ),
            _react2.default.createElement(
              'div',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 12
                },
                __self: this
              },
              'St Lynnfield MA'
            ),
            _react2.default.createElement(
              'div',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 13
                },
                __self: this
              },
              '01940'
            ),
            _react2.default.createElement(
              'div',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 14
                },
                __self: this
              },
              'USA'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'footer-links', __source: {
                fileName: _jsxFileName,
                lineNumber: 16
              },
              __self: this
            },
            _react2.default.createElement(
              'a',
              { href: 'https://crossref.org/news/', target: '_blank', title: 'News', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 17
                },
                __self: this
              },
              'News'
            ),
            _react2.default.createElement('br', {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 17
              },
              __self: this
            }),
            _react2.default.createElement(
              'a',
              { href: 'https://crossref.org/blog/', target: '_blank', title: 'Blog', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 18
                },
                __self: this
              },
              'Blog'
            ),
            _react2.default.createElement('br', {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 18
              },
              __self: this
            }),
            _react2.default.createElement(
              'a',
              { href: 'https://crossref.org/labs/', target: '_blank', title: 'Labs', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 19
                },
                __self: this
              },
              'Labs'
            ),
            _react2.default.createElement('br', {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 19
              },
              __self: this
            }),
            _react2.default.createElement(
              'a',
              { href: 'https://crossref.org/contact/', target: '_blank', title: 'Contact', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 20
                },
                __self: this
              },
              'Contact'
            ),
            _react2.default.createElement('br', {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 20
              },
              __self: this
            })
          ),
          _react2.default.createElement(
            'div',
            { className: 'footer-links', __source: {
                fileName: _jsxFileName,
                lineNumber: 22
              },
              __self: this
            },
            _react2.default.createElement(
              'a',
              { href: 'https://crossref.org/membership/', target: '_blank', title: 'Become a member', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 23
                },
                __self: this
              },
              'Join'
            ),
            _react2.default.createElement('br', {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 23
              },
              __self: this
            }),
            _react2.default.createElement(
              'a',
              { href: 'https://crossref.org/faqs/', target: '_blank', title: 'FAQs', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 24
                },
                __self: this
              },
              'FAQs'
            ),
            _react2.default.createElement('br', {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 24
              },
              __self: this
            }),
            _react2.default.createElement(
              'a',
              { href: 'https://crossref.org/dashboard/', target: '_blank', title: 'Dashboard', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 25
                },
                __self: this
              },
              'Dashboard'
            ),
            _react2.default.createElement('br', {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 25
              },
              __self: this
            }),
            _react2.default.createElement(
              'a',
              { href: 'https://crossref.org/member-obligations/', target: '_blank', title: 'Member obligations', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 26
                },
                __self: this
              },
              'Member obligations'
            ),
            _react2.default.createElement('br', {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 26
              },
              __self: this
            })
          ),
          _react2.default.createElement(
            'div',
            { className: 'footer-links', __source: {
                fileName: _jsxFileName,
                lineNumber: 28
              },
              __self: this
            },
            _react2.default.createElement(
              'a',
              { href: 'https://crossref.org/truths/', target: '_blank', title: 'Our truths', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 29
                },
                __self: this
              },
              'Truths'
            ),
            _react2.default.createElement('br', {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 29
              },
              __self: this
            }),
            _react2.default.createElement(
              'a',
              { href: 'https://crossref.org/annual-report/', target: '_blank', title: 'Annual report', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 30
                },
                __self: this
              },
              'Annual report'
            ),
            _react2.default.createElement('br', {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 30
              },
              __self: this
            }),
            _react2.default.createElement(
              'a',
              { href: 'https://crossref.org/governance-committees/', target: '_blank', title: 'Committees', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 31
                },
                __self: this
              },
              'Committees'
            ),
            _react2.default.createElement('br', {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 31
              },
              __self: this
            }),
            _react2.default.createElement(
              'a',
              { href: 'https://crossref.org/board-and-governance/', target: '_blank', title: 'Governance', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 32
                },
                __self: this
              },
              'Governance'
            ),
            _react2.default.createElement('br', {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 32
              },
              __self: this
            })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'footer-meta', __source: {
              fileName: _jsxFileName,
              lineNumber: 35
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'footer-meta-content flex', __source: {
                fileName: _jsxFileName,
                lineNumber: 36
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'text-left', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 37
                },
                __self: this
              },
              _react2.default.createElement('img', { src: 'images/App/cc.svg', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 38
                },
                __self: this
              }),
              _react2.default.createElement('img', { src: 'images/App/by.svg', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 39
                },
                __self: this
              }),
              'The content of this site is licensed under a ',
              _react2.default.createElement(
                'a',
                { href: 'https://creativecommons.org/licenses/by/4.0/', target: '_blank', title: 'Creative Commons', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 40
                  },
                  __self: this
                },
                'Creative Commons Attribution 4.0 International License'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'text-right', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 42
                },
                __self: this
              },
              _react2.default.createElement(
                'a',
                { target: '_blank', href: 'https://www.crossref.org/privacy/', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 43
                  },
                  __self: this
                },
                'Privacy'
              )
            )
          )
        )
      );
    }
  }]);
  return Footer;
}(_react.Component);

exports.default = Footer;

});

require.register("components/header.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/header.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _my_decorators = require('my_decorators');

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _navBar = require('./navBar');

var _navBar2 = _interopRequireDefault(_navBar);

var _routing = require('../routing');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Header = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(Header, _Component);

  function Header() {
    (0, _classCallCheck3.default)(this, Header);
    return (0, _possibleConstructorReturn3.default)(this, (Header.__proto__ || (0, _getPrototypeOf2.default)(Header)).apply(this, arguments));
  }

  (0, _createClass3.default)(Header, [{
    key: 'render',
    value: function render() {
      var isOnHome = this.props.path === _routing.routes.base;
      var showPublicationsNav = false;
      if (String(this.props.path).startsWith(_routing.routes.publications) || String(this.props.path).startsWith(_routing.routes.depositCart) || String(this.props.path).startsWith(_routing.routes.depositHistory)) {
        showPublicationsNav = true;
      }

      return _react2.default.createElement(
        'div',
        { className: 'header' + (isOnHome ? ' large' : ''), __source: {
            fileName: _jsxFileName,
            lineNumber: 25
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'header-contents', __source: {
              fileName: _jsxFileName,
              lineNumber: 26
            },
            __self: this
          },
          _react2.default.createElement('img', { src: 'images/App/crossref-content-registration-logo-200.svg', __source: {
              fileName: _jsxFileName,
              lineNumber: 27
            },
            __self: this
          }),
          _react2.default.createElement('img', { className: 'second-logo-img', src: 'images/App/crossref-depositor-logo-200.svg', __source: {
              fileName: _jsxFileName,
              lineNumber: 28
            },
            __self: this
          })
        ),
        showPublicationsNav && _react2.default.createElement(_navBar2.default, { cart: this.props.cart, reduxControlModal: this.props.reduxControlModal, reduxLogout: this.props.reduxLogout, __source: {
            fileName: _jsxFileName,
            lineNumber: 30
          },
          __self: this
        })
      );
    }
  }]);
  return Header;
}(_react.Component), _class.propTypes = {
  cart: _propTypes2.default.array.isRequired,
  reduxControlModal: _propTypes2.default.func.isRequired,
  reduxLogout: _propTypes2.default.func.isRequired
}, _temp);
exports.default = Header;

});

require.register("components/issueReviewGenerator.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
var _jsxFileName = 'app/components/issueReviewGenerator.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _archiveLocations = require('../utilities/archiveLocations');

var _objectSearch = require('../utilities/objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

var _parseXMLIssue = require('../utilities/parseXMLIssue');

var _parseXMLIssue2 = _interopRequireDefault(_parseXMLIssue);

var _xmldoc = require('../utilities/xmldoc');

var _xmldoc2 = _interopRequireDefault(_xmldoc);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Languages = require('../utilities/language.json');

var PublicationTypes = require('../utilities/publicationTypes.json');
var AppliesTo = require('../utilities/appliesTo.json');
var IdentifierTypes = require('../utilities/identifierTypes.json');


var issueReviewGenerator = function issueReviewGenerator(publication, issue) {
    var publicationMetaData = (0, _xmldoc2.default)(publication.content);
    var reviewData = (0, _parseXMLIssue2.default)(issue);

    var getSubmitSubItems = function getSubmitSubItems(items) {
        return _lodash2.default.filter(items, function (item) {
            for (var key in item) {
                // checking all the properties of errors to see if there is a true
                if (item[key]) {
                    try {
                        if (item[key].trim().length > 0) {
                            return item;
                        }
                    } catch (e) {
                        if (item[key].length > 0) {
                            return item;
                        }
                    }
                }
            }
        });
    };

    var getdate = function getdate(pubDate) {
        var parseDate = [];
        for (var i = 0; i < pubDate.length; i++) {
            if (pubDate[i].length > 0) {
                parseDate.push(pubDate[i]);
            }
        }

        return parseDate.join(' - ');
    };

    return _react2.default.createElement(
        'div',
        { className: 'ReviewArticleCard', __source: {
                fileName: _jsxFileName,
                lineNumber: 48
            },
            __self: this
        },
        _react2.default.createElement(
            'div',
            {
                __source: {
                    fileName: _jsxFileName,
                    lineNumber: 49
                },
                __self: this
            },
            _react2.default.createElement(
                'div',
                { className: 'reviewArticle', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 50
                    },
                    __self: this
                },
                _react2.default.createElement(
                    'div',
                    { className: 'firstBorder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 51
                        },
                        __self: this
                    },
                    _react2.default.createElement('div', { className: 'innerBorder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 52
                        },
                        __self: this
                    })
                ),
                _react2.default.createElement(
                    'div',
                    { className: 'secondBorder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 54
                        },
                        __self: this
                    },
                    _react2.default.createElement('div', { className: 'innerBorder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 55
                        },
                        __self: this
                    })
                ),
                _react2.default.createElement(
                    'div',
                    { className: 'reviewContent', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 57
                        },
                        __self: this
                    },
                    _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 58
                            },
                            __self: this
                        },
                        'Issue: ',
                        reviewData.issue.issue ? reviewData.issue.issue : ''
                    ),
                    reviewData.issue.volume ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 59
                            },
                            __self: this
                        },
                        'Volume: ',
                        reviewData.issue.volume ? reviewData.issue.volume : ''
                    ) : '',
                    reviewData.issue.issueDoi ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 60
                            },
                            __self: this
                        },
                        'Issue DOI: ',
                        reviewData.issue.issueDoi ? reviewData.issue.issueDoi : ''
                    ) : '',
                    getdate([reviewData.issue.printDateYear, reviewData.issue.printDateMonth, reviewData.issue.printDateDay]).length > 0 ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 63
                            },
                            __self: this
                        },
                        'Publication Print Date: ',
                        getdate([reviewData.issue.printDateYear, reviewData.issue.printDateMonth, reviewData.issue.printDateDay])
                    ) : '',
                    getdate([reviewData.issue.onlineDateYear, reviewData.issue.onlineDateMonth, reviewData.issue.onlineDateDay]).length > 0 ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 68
                            },
                            __self: this
                        },
                        'Publication Online Date: ',
                        getdate([reviewData.issue.onlineDateYear, reviewData.issue.onlineDateMonth, reviewData.issue.onlineDateDay])
                    ) : ''
                )
            )
        )
    );
};

exports.default = issueReviewGenerator;

});

require.register("components/loginCard.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _defineProperty2 = require('babel-runtime/helpers/defineProperty');

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _jsxFileName = 'app/components/loginCard.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _my_decorators = require('my_decorators');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LoginCard = function (_Component) {
  (0, _inherits3.default)(LoginCard, _Component);

  function LoginCard(props) {
    (0, _classCallCheck3.default)(this, LoginCard);

    var _this = (0, _possibleConstructorReturn3.default)(this, (LoginCard.__proto__ || (0, _getPrototypeOf2.default)(LoginCard)).call(this, props));

    _this.inputHandler = function (e) {
      _this.setState((0, _defineProperty3.default)({}, e.target.name, e.target.value));
    };

    _this.state = {
      username: '',
      password: ''
    };
    return _this;
  }

  (0, _createClass3.default)(LoginCard, [{
    key: 'onSubmit',
    value: function onSubmit(e) {
      e.preventDefault();
      //this.props.authenticate();
      this.props.onLogin(this.state.username, this.state.password);
    }
  }, {
    key: 'render',
    value: function render() {
      var error = (this.props.loginState || {}).error;
      return _react2.default.createElement(
        'div',
        { className: 'login-card' + (error ? ' invalid-credentials' : ''), __source: {
            fileName: _jsxFileName,
            lineNumber: 33
          },
          __self: this
        },
        _react2.default.createElement(
          'form',
          { onSubmit: this.onSubmit.bind(this), __source: {
              fileName: _jsxFileName,
              lineNumber: 34
            },
            __self: this
          },
          _react2.default.createElement(
            'span',
            { className: 'left-indent-16 card-title', __source: {
                fileName: _jsxFileName,
                lineNumber: 35
              },
              __self: this
            },
            'Login'
          ),
          _react2.default.createElement(
            'label',
            {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 36
              },
              __self: this
            },
            _react2.default.createElement(
              'span',
              { className: 'left-indent-16', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 37
                },
                __self: this
              },
              'Username'
            ),
            _react2.default.createElement('input', {
              type: 'text',
              name: 'username',
              value: this.state.username,
              onChange: this.inputHandler, __source: {
                fileName: _jsxFileName,
                lineNumber: 38
              },
              __self: this
            })
          ),
          _react2.default.createElement(
            'label',
            {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 44
              },
              __self: this
            },
            _react2.default.createElement(
              'span',
              { className: 'left-indent-16', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 45
                },
                __self: this
              },
              'Password'
            ),
            _react2.default.createElement('input', {
              type: 'password',
              name: 'password',
              value: this.state.password,
              onChange: this.inputHandler, __source: {
                fileName: _jsxFileName,
                lineNumber: 46
              },
              __self: this
            })
          ),
          _react2.default.createElement('input', {
            type: 'submit',
            className: 'button-anchor loginButton',
            value: 'Log In', __source: {
              fileName: _jsxFileName,
              lineNumber: 52
            },
            __self: this
          }),
          error && _react2.default.createElement(
            'div',
            { className: 'invalid-credentials', __source: {
                fileName: _jsxFileName,
                lineNumber: 56
              },
              __self: this
            },
            'Please enter a correct username and password.'
          ),
          _react2.default.createElement(
            'div',
            { className: 'forgot-password', __source: {
                fileName: _jsxFileName,
                lineNumber: 57
              },
              __self: this
            },
            _react2.default.createElement(
              'a',
              { href: '#', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 58
                },
                __self: this
              },
              'Forgot password?'
            )
          )
        )
      );
    }
  }]);
  return LoginCard;
}(_react.Component);

exports.default = LoginCard;

});

require.register("components/modal.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/modal.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRedux = require('react-redux');

var _redux = require('redux');

var _reactModal = require('react-modal');

var _reactModal2 = _interopRequireDefault(_reactModal);

var _my_decorators = require('my_decorators');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Modal = (_temp = _class = function (_React$Component) {
  (0, _inherits3.default)(Modal, _React$Component);

  function Modal() {
    (0, _classCallCheck3.default)(this, Modal);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Modal.__proto__ || (0, _getPrototypeOf2.default)(Modal)).call(this));

    _reactModal2.default.setAppElement('#root'); // need to include this so modal know where to append itself
    return _this;
  }

  (0, _createClass3.default)(Modal, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          modalState = _props.modalState,
          reduxControlModal = _props.reduxControlModal;

      var Component = modalState.Component;
      return _react2.default.createElement(
        'div',
        { className: 'modalContainer', __source: {
            fileName: _jsxFileName,
            lineNumber: 35
          },
          __self: this
        },
        _react2.default.createElement(
          _reactModal2.default,
          {
            isOpen: modalState.showModal,
            contentLabel: 'Minimal Modal Example',
            className: modalState.style,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 36
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'modal', __source: {
                fileName: _jsxFileName,
                lineNumber: 41
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'titlebar', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 42
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'titlebarinner', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 43
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  { className: 'title', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 44
                    },
                    __self: this
                  },
                  modalState.title
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'titleclose', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 47
                    },
                    __self: this
                  },
                  _react2.default.createElement(
                    'a',
                    { onClick: function onClick() {
                        return reduxControlModal({ showModal: false });
                      }, __source: {
                        fileName: _jsxFileName,
                        lineNumber: 48
                      },
                      __self: this
                    },
                    _react2.default.createElement('img', { src: 'images/Modal/Asset_Icons_White_Close.svg', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 48
                      },
                      __self: this
                    })
                  )
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modalbody', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 52
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'modalboddyinner', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 53
                  },
                  __self: this
                },
                _react2.default.createElement(Component, (0, _extends3.default)({}, modalState.props, { reduxControlModal: reduxControlModal, close: function close() {
                    return reduxControlModal({ showModal: false });
                  }, __source: {
                    fileName: _jsxFileName,
                    lineNumber: 54
                  },
                  __self: this
                }))
              )
            )
          )
        )
      );
    }
  }]);
  return Modal;
}(_react2.default.Component), _class.propTypes = {
  reduxControlModal: _propTypes2.default.func.isRequired,
  modalState: _propTypes2.default.shape({
    showModal: _propTypes2.default.bool.isRequired,
    title: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]).isRequired,
    style: _propTypes2.default.string,
    Component: _propTypes2.default.func.isRequired,
    props: _propTypes2.default.object.isRequired
  }).isRequired
}, _temp);
exports.default = Modal;

});

require.register("components/navBar.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _typeof2 = require('babel-runtime/helpers/typeof');

var _typeof3 = _interopRequireDefault(_typeof2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/navBar.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouter = require('react-router');

var _reactToastr = require('react-toastr');

var _pascaleCase = require('../utilities/pascaleCase');

var _pascaleCase2 = _interopRequireDefault(_pascaleCase);

var _routing = require('../routing');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ToastMessageFactory = _react2.default.createFactory(_reactToastr.ToastMessage.animation);

var PublicationNav = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(PublicationNav, _Component);

  function PublicationNav(props) {
    (0, _classCallCheck3.default)(this, PublicationNav);

    var _this = (0, _possibleConstructorReturn3.default)(this, (PublicationNav.__proto__ || (0, _getPrototypeOf2.default)(PublicationNav)).call(this, props));

    _this.state = {
      type: 'add',
      profileMenu: false
    };
    return _this;
  }

  (0, _createClass3.default)(PublicationNav, [{
    key: 'componentWillUpdate',
    value: function componentWillUpdate(nextProps) {
      //need to update this to do cause REACTJS to rerender
      if (this.props.cart !== nextProps.cart) {
        if (this.props.cart.length < nextProps.cart.length) {
          var type = 'add';
        }
        if (this.props.cart.length > nextProps.cart.length) {
          type = 'remove';
        }

        if (nextProps.cart.length > 0 && this.props.cart.length !== nextProps.cart.length) {
          if (nextProps.cart[nextProps.cart.length - 1].article) {
            this.addAlert(type, nextProps.cart[nextProps.cart.length - 1].article);
          } else {
            this.addAlert(type, nextProps.cart[nextProps.cart.length - 1]);
          }
        }
      }
    }
  }, {
    key: 'addAlert',
    value: function addAlert(type, item) {
      var title = (0, _typeof3.default)(item.title) !== 'object' ? item.title : item.title.title;
      this.setState({ type: type });
      this.refs.container.success(_react2.default.createElement(
        'div',
        { className: 'toastMessage', __source: {
            fileName: _jsxFileName,
            lineNumber: 50
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'iconHolder' + (type === 'remove' ? ' remove-message' : ''), __source: {
              fileName: _jsxFileName,
              lineNumber: 51
            },
            __self: this
          },
          _react2.default.createElement('img', { src: 'images/Toast/Asset_Icons_White_Check.svg', __source: {
              fileName: _jsxFileName,
              lineNumber: 51
            },
            __self: this
          })
        ),
        _react2.default.createElement(
          'div',
          { className: 'message', __source: {
              fileName: _jsxFileName,
              lineNumber: 52
            },
            __self: this
          },
          (0, _pascaleCase2.default)(item.type),
          ' ',
          type === 'add' ? 'Added to Deposit Cart' : 'Removed From Deposit Cart',
          ' (',
          title,
          ')'
        )
      ), _react2.default.createElement(
        'div',
        { className: 'toastTitle', __source: {
            fileName: _jsxFileName,
            lineNumber: 54
          },
          __self: this
        },
        _react2.default.createElement('div', { className: 'arrow', __source: {
            fileName: _jsxFileName,
            lineNumber: 54
          },
          __self: this
        })
      ), {
        closeButton: false,
        showDuration: '300',
        hideDuration: '1000',
        timeOut: '5000',
        extendedTimeOut: '1000',
        showAnimation: false,
        hideAnimation: false,
        showEasing: 'none',
        hideEasing: 'linear',
        showMethod: 'show',
        hideMethod: 'hide',
        preventDuplicates: true,
        limit: 1
      });
    }
  }, {
    key: 'openProfileMenu',
    value: function openProfileMenu() {
      this.setState({
        profileMenu: !this.state.profileMenu
      });
    }
  }, {
    key: 'logout',
    value: function logout() {
      this.props.reduxLogout();
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      return _react2.default.createElement(
        'div',
        { className: 'publications-nav', __source: {
            fileName: _jsxFileName,
            lineNumber: 84
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'publications-nav-contents', __source: {
              fileName: _jsxFileName,
              lineNumber: 85
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'links', __source: {
                fileName: _jsxFileName,
                lineNumber: 86
              },
              __self: this
            },
            _react2.default.createElement(
              _reactRouter.Link,
              { to: _routing.routes.publications, __source: {
                  fileName: _jsxFileName,
                  lineNumber: 87
                },
                __self: this
              },
              'Publications'
            ),
            _react2.default.createElement(
              _reactRouter.Link,
              { to: _routing.routes.depositHistory, __source: {
                  fileName: _jsxFileName,
                  lineNumber: 88
                },
                __self: this
              },
              'Deposit History'
            ),
            _react2.default.createElement(
              _reactRouter.Link,
              { className: 'depositCartHolder', to: _routing.routes.depositCart, __source: {
                  fileName: _jsxFileName,
                  lineNumber: 89
                },
                __self: this
              },
              'Deposit Cart',
              _react2.default.createElement(
                'span',
                { className: 'cartItemCount', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 91
                  },
                  __self: this
                },
                this.props.cart.length
              ),
              _react2.default.createElement(_reactToastr.ToastContainer, {
                toastMessageFactory: ToastMessageFactory,
                ref: 'container',
                className: 'toast-top-right topnav' + (this.state.type !== 'add' ? ' remove-message' : ''),
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 92
                },
                __self: this
              })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'user', __source: {
                fileName: _jsxFileName,
                lineNumber: 99
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'userProfileMenuHolder', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 100
                },
                __self: this
              },
              _react2.default.createElement(
                'span',
                { className: 'profileMenuTrigger tooltips', onClick: function onClick() {
                    _this2.openProfileMenu();
                  }, __source: {
                    fileName: _jsxFileName,
                    lineNumber: 101
                  },
                  __self: this
                },
                localStorage.user,
                ' ',
                _react2.default.createElement('img', { className: 'profileActions' + (this.state.profileMenu ? ' menuOpen' : ''), src: 'images/AddArticle/DarkTriangle.svg', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 101
                  },
                  __self: this
                })
              ),
              this.state.profileMenu && _react2.default.createElement(
                'div',
                { className: 'profileMenu', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 102
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'span',
                  { onClick: function onClick() {
                      _this2.logout();
                    }, __source: {
                      fileName: _jsxFileName,
                      lineNumber: 103
                    },
                    __self: this
                  },
                  'Logout'
                )
              )
            )
          )
        )
      );
    }
  }]);
  return PublicationNav;
}(_react.Component), _class.propTypes = {
  cart: _propTypes2.default.array.isRequired,
  reduxControlModal: _propTypes2.default.func.isRequired,
  reduxLogout: _propTypes2.default.func.isRequired
}, _temp);
exports.default = PublicationNav;

});

require.register("components/publications.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var _jsxFileName = 'app/components/publications.js';
exports.default = Publications;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _my_decorators = require('my_decorators');

var _publicationCard = require('../containers/publicationCard');

var _publicationCard2 = _interopRequireDefault(_publicationCard);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Publications.propTypes = {
  dois: _propTypes2.default.array.isRequired
};

function Publications(props) {
  var _this = this;

  var dois = props.dois;

  return _react2.default.createElement(
    'div',
    { className: 'content', __source: {
        fileName: _jsxFileName,
        lineNumber: 16
      },
      __self: this
    },
    _react2.default.createElement('div', { className: 'tools', __source: {
        fileName: _jsxFileName,
        lineNumber: 17
      },
      __self: this
    }),
    _react2.default.createElement(
      'div',
      { className: 'cards', __source: {
          fileName: _jsxFileName,
          lineNumber: 18
        },
        __self: this
      },
      dois.map(function (doi, i) {
        return _react2.default.createElement(_publicationCard2.default, { doi: doi, key: i, __source: {
            fileName: _jsxFileName,
            lineNumber: 19
          },
          __self: _this
        });
      })
    )
  );
}

});

;require.register("components/reviewArticle.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/reviewArticle.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _my_decorators = require('my_decorators');

var _immutabilityHelper = require('immutability-helper');

var _immutabilityHelper2 = _interopRequireDefault(_immutabilityHelper);

var _archiveLocations = require('../utilities/archiveLocations');

var _objectSearch = require('../utilities/objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

var _articleReviewGenerator = require('./articleReviewGenerator');

var _articleReviewGenerator2 = _interopRequireDefault(_articleReviewGenerator);

var _xmldoc = require('../utilities/xmldoc');

var _xmldoc2 = _interopRequireDefault(_xmldoc);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Languages = require('../utilities/language.json');

var PublicationTypes = require('../utilities/publicationTypes.json');
var AppliesTo = require('../utilities/appliesTo.json');
var IdentifierTypes = require('../utilities/identifierTypes.json');
var ArticleReview = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(ArticleReview, _Component);

  function ArticleReview(props) {
    var _this2 = this;

    (0, _classCallCheck3.default)(this, ArticleReview);

    var _this = (0, _possibleConstructorReturn3.default)(this, (ArticleReview.__proto__ || (0, _getPrototypeOf2.default)(ArticleReview)).call(this, props));

    _this.addToCart = function () {
      _this.props.reduxControlModal({ showModal: false });
      _this.props.cartUpdate([_this.props.reviewData]);
    };

    _this.wrapper = function (reviewData, publicationMetaData) {
      if (_this.state.loaded) {
        return (0, _articleReviewGenerator2.default)(publicationMetaData, reviewData, _this.state.issue, true, _this.addToCart);
      } else {
        return _react2.default.createElement('div', {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 81
          },
          __self: _this2
        });
      }
    };

    _this.state = {
      load: false,
      issue: {
        title: undefined,
        issue: undefined,
        volume: undefined
      }
    };

    return _this;
  }

  (0, _createClass3.default)(ArticleReview, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var _this3 = this;

      console.log(this.props);
      if (this.props.issue) {
        this.props.asyncGetItem(this.props.issue.doi).then(function (issueData) {

          var message = issueData.message;
          var Issue = message.contains[0];
          var parsedIssue = (0, _xmldoc2.default)(Issue.content);

          var issueTitle = (0, _objectSearch2.default)(parsedIssue, 'title') ? (0, _objectSearch2.default)(parsedIssue, 'title') : '';
          var issueNumber = (0, _objectSearch2.default)(parsedIssue, 'issue') ? (0, _objectSearch2.default)(parsedIssue, 'issue') : '';
          var journal_volume = (0, _objectSearch2.default)(parsedIssue, 'journal_volume');
          var theVolume = '';
          if (journal_volume) {
            theVolume = (0, _objectSearch2.default)(journal_volume, 'volume') ? (0, _objectSearch2.default)(journal_volume, 'volume') : '';
          }
          _this3.setState({
            loaded: true,
            issue: (0, _immutabilityHelper2.default)(_this3.state.issue, { $set: {
                title: issueTitle,
                issue: issueNumber,
                volume: theVolume
              } })
          });
        });
      } else this.setState({ loaded: true });
    }

    // shouldComponentUpdate(nextProps, nextState) {
    //   console.log()
    //   if (nextState.issue !== this.state.issue) {
    //     return true
    //   }
    //   return false
    // }

  }, {
    key: 'render',
    value: function render() {
      console.log('WTFG');
      var _props = this.props,
          reviewData = _props.reviewData,
          publication = _props.publication,
          publicationMetaData = _props.publicationMetaData;

      return this.wrapper(reviewData, publicationMetaData);
    }
  }]);
  return ArticleReview;
}(_react.Component), _class.propTypes = {
  cartUpdate: _propTypes2.default.func.isRequired,
  asyncGetItem: _propTypes2.default.func
}, _temp);
exports.default = ArticleReview;

});

require.register("components/reviewArticleRefactor.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _my_decorators = require('my_decorators');

var _archiveLocations = require('../utilities/archiveLocations');

var _objectSearch = require('../utilities/objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

var _articleReviewGenerator = require('../utilities/articleReviewGenerator');

var _articleReviewGenerator2 = _interopRequireDefault(_articleReviewGenerator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Languages = require('../utilities/language.json');

var PublicationTypes = require('../utilities/publicationTypes.json');
var AppliesTo = require('../utilities/appliesTo.json');
var IdentifierTypes = require('../utilities/identifierTypes.json');
var ArticleReview = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(ArticleReview, _Component);

  function ArticleReview(props) {
    (0, _classCallCheck3.default)(this, ArticleReview);

    var _this = (0, _possibleConstructorReturn3.default)(this, (ArticleReview.__proto__ || (0, _getPrototypeOf2.default)(ArticleReview)).call(this, props));

    _this.addToCart = function () {
      _this.props.reduxControlModal({ showModal: false });
      _this.props.cartUpdate([_this.props.reviewData]);
    };

    return _this;
  }

  (0, _createClass3.default)(ArticleReview, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          reviewData = _props.reviewData,
          publication = _props.publication,
          publicationMetaData = _props.publicationMetaData;

      return (0, _articleReviewGenerator2.default)(publicationMetaData, reviewData, true, this.addToCart.bind(this));
    }
  }]);
  return ArticleReview;
}(_react.Component), _class.propTypes = {
  cartUpdate: _propTypes2.default.func.isRequired
}, _temp);
exports.default = ArticleReview;

});

require.register("components/reviewDepositCart.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/reviewDepositCart.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _my_decorators = require('my_decorators');

var _archiveLocations = require('../utilities/archiveLocations');

var _objectSearch = require('../utilities/objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

var _reviewDepositCartItems = require('./reviewDepositCartItems');

var _reviewDepositCartItems2 = _interopRequireDefault(_reviewDepositCartItems);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Languages = require('../utilities/language.json');

var PublicationTypes = require('../utilities/publicationTypes.json');
var AppliesTo = require('../utilities/appliesTo.json');
var IdentifierTypes = require('../utilities/identifierTypes.json');
var DepositCartReview = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(DepositCartReview, _Component);

  function DepositCartReview(props) {
    (0, _classCallCheck3.default)(this, DepositCartReview);

    var _this = (0, _possibleConstructorReturn3.default)(this, (DepositCartReview.__proto__ || (0, _getPrototypeOf2.default)(DepositCartReview)).call(this, props));

    _this.state = {
      showInfoSection: true
    };
    return _this;
  }

  (0, _createClass3.default)(DepositCartReview, [{
    key: 'parseCart',
    value: function parseCart() {
      var fullCart = this.props.fullCart;

      var reviewblocks = [];
      var retReviewBlocks = [];
      var counter = 0;
      for (var i = 0; i < fullCart.length; i++) {
        //publication layer
        for (var j = 0; j < fullCart[i].contains.length; j++) {
          //article + issue/volume layer
          var item = fullCart[i].contains[j];
          reviewblocks.push(item);
          if (fullCart[i].contains[j].contains) {
            for (var k = 0; k < fullCart[i].contains[j].contains.length; k++) {
              //article + issue/volume layer
              var subitem = fullCart[i].contains[j].contains[k];
              subitem.issueDoi = fullCart[i].contains[j].doi;
              if (subitem.type === 'article') {
                if (item.type === 'issue') {
                  subitem = _lodash2.default.extend(subitem, {
                    parentIssue: item
                  });
                }
              }
              reviewblocks.push(subitem);
            }
          }
        }

        for (var l = 0; l < reviewblocks.length; l++) {
          var issue = reviewblocks[l].issueDoi ? reviewblocks[l].issueDoi : undefined;
          var parentIssue = reviewblocks[l].parentIssue ? reviewblocks[l].parentIssue : undefined;
          retReviewBlocks.push(_react2.default.createElement(_reviewDepositCartItems2.default, {
            key: l,
            index: l,
            item: reviewblocks[l],
            issue: issue,
            parentIssue: parentIssue,
            publication: fullCart[i],
            reduxControlModal: this.props.reduxControlModal,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 61
            },
            __self: this
          }));
        }
      }

      return retReviewBlocks;
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'ReviewDepositCartCard', __source: {
            fileName: _jsxFileName,
            lineNumber: 80
          },
          __self: this
        },
        this.parseCart()
      );
    }
  }]);
  return DepositCartReview;
}(_react.Component), _class.propTypes = {
  fullCart: _propTypes2.default.array.isRequired,
  reduxControlModal: _propTypes2.default.func.isRequired
}, _temp);
exports.default = DepositCartReview;

});

require.register("components/reviewDepositCartItems.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/reviewDepositCartItems.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _my_decorators = require('my_decorators');

var _reactRouter = require('react-router');

var _archiveLocations = require('../utilities/archiveLocations');

var _objectSearch = require('../utilities/objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

var _articleReviewGenerator = require('./articleReviewGenerator');

var _articleReviewGenerator2 = _interopRequireDefault(_articleReviewGenerator);

var _issueReviewGenerator = require('./issueReviewGenerator');

var _issueReviewGenerator2 = _interopRequireDefault(_issueReviewGenerator);

var _routing = require('../routing');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Languages = require('../utilities/language.json');

var PublicationTypes = require('../utilities/publicationTypes.json');
var AppliesTo = require('../utilities/appliesTo.json');
var IdentifierTypes = require('../utilities/identifierTypes.json');
var DepositCartItemsReview = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(DepositCartItemsReview, _Component);

  function DepositCartItemsReview(props) {
    (0, _classCallCheck3.default)(this, DepositCartItemsReview);

    var _this = (0, _possibleConstructorReturn3.default)(this, (DepositCartItemsReview.__proto__ || (0, _getPrototypeOf2.default)(DepositCartItemsReview)).call(this, props));

    _this.state = {
      showInfoSection: false
    };
    return _this;
  }

  (0, _createClass3.default)(DepositCartItemsReview, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      if (this.props.index === 0) {
        this.toggleInfoSection();
      }
    }
  }, {
    key: 'toggleInfoSection',
    value: function toggleInfoSection() {
      this.setState({
        showInfoSection: !this.state.showInfoSection
      });
    }
  }, {
    key: 'gotoPage',
    value: function gotoPage() {
      var _props = this.props,
          item = _props.item,
          publication = _props.publication,
          issue = _props.issue;

      if (item.type.toLowerCase() === 'article') {
        this.props.reduxControlModal({ showModal: false });
        if (issue) {
          _reactRouter.browserHistory.push(_routing.routes.publications + '/' + encodeURIComponent(publication.doi) + '/' + encodeURIComponent(issue) + '/addarticle/' + encodeURIComponent(item.doi));
        } else {
          _reactRouter.browserHistory.push(_routing.routes.publications + '/' + encodeURIComponent(publication.doi) + '/addarticle/' + encodeURIComponent(item.doi));
        }
      } else if (item.type.toLowerCase() === 'issue') {
        this.props.reduxControlModal({
          showModal: false
        });
        //Change this to open modal with correct issue DOI
        _reactRouter.browserHistory.push(_routing.routes.publications + '/' + encodeURIComponent(publication.doi) + '?modal=' + encodeURIComponent(item.doi));
      }
    }
  }, {
    key: 'parseIssue',
    value: function parseIssue(item, publication) {
      //need to get issue content, to tell if there is validation needs to be corrected
      return _react2.default.createElement(
        'div',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 67
          },
          __self: this
        },
        (0, _issueReviewGenerator2.default)(publication, item.content)
      );
    }
  }, {
    key: 'parseArticle',
    value: function parseArticle(item, publication, parentIssue) {
      console.log(parentIssue);
      return _react2.default.createElement(
        'div',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 76
          },
          __self: this
        },
        (0, _articleReviewGenerator2.default)(publication, item.content, parentIssue)
      );
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props2 = this.props,
          item = _props2.item,
          publication = _props2.publication,
          parentIssue = _props2.parentIssue;

      return _react2.default.createElement(
        'div',
        { className: 'depositReviewItem', __source: {
            fileName: _jsxFileName,
            lineNumber: 85
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'itemTitle', __source: {
              fileName: _jsxFileName,
              lineNumber: 86
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'titleinnholder', onClick: function onClick() {
                _this2.toggleInfoSection();
              }, __source: {
                fileName: _jsxFileName,
                lineNumber: 87
              },
              __self: this
            },
            _react2.default.createElement(
              'span',
              { className: 'arrowHolder' + (this.state.showInfoSection ? ' openArrowHolder' : ''), __source: {
                  fileName: _jsxFileName,
                  lineNumber: 88
                },
                __self: this
              },
              _react2.default.createElement('img', { src: 'images/AddArticle/Triangle.svg', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 89
                },
                __self: this
              })
            ),
            _react2.default.createElement(
              'span',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 91
                },
                __self: this
              },
              item.title.title || 'Issue ' + (item.title.issue || 'NA') + ', Volume ' + (item.title.volume || 'NA')
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'addholder', __source: {
                fileName: _jsxFileName,
                lineNumber: 93
              },
              __self: this
            },
            _react2.default.createElement(
              'a',
              { onClick: function onClick() {
                  _this2.gotoPage();
                }, __source: {
                  fileName: _jsxFileName,
                  lineNumber: 94
                },
                __self: this
              },
              'Edit'
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'itemInfo' + (this.state.showInfoSection ? ' showItemInfo' : ' hideItemInfo'), __source: {
              fileName: _jsxFileName,
              lineNumber: 97
            },
            __self: this
          },
          item.type.toLowerCase() === 'article' ? this.parseArticle(item, publication, parentIssue) : this.parseIssue(item, publication)
        )
      );
    }
  }]);
  return DepositCartItemsReview;
}(_react.Component), _class.propTypes = {
  item: _propTypes2.default.object.isRequired,
  publication: _propTypes2.default.object.isRequired,
  index: _propTypes2.default.number.isRequired,
  reduxControlModal: _propTypes2.default.func.isRequired
}, _temp);
exports.default = DepositCartItemsReview;

});

require.register("components/search.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/search.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redux = require('redux');

var _reactAutocomplete = require('react-autocomplete');

var _reactAutocomplete2 = _interopRequireDefault(_reactAutocomplete);

var _my_decorators = require('my_decorators');

var _addPublicationCard = require('./addPublicationCard');

var _addPublicationCard2 = _interopRequireDefault(_addPublicationCard);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Search = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(Search, _Component);

  function Search(props) {
    (0, _classCallCheck3.default)(this, Search);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Search.__proto__ || (0, _getPrototypeOf2.default)(Search)).call(this, props));

    _this.onChange = function (e, value) {
      value ? _this.setState({ forceClose: false }) : _this.setState({ forceClose: true });
      _this.setState({ searchingFor: value });
      _this.props.asyncSearch(value);
    };

    _this.onSelect = function (value, item) {
      _this.setState({ searchingFor: '', forceClose: true });
      if (item.doi) {
        _this.props.reduxAddDOIs(item.doi);
      } else {
        _this.props.reduxControlModal({
          showModal: true,
          title: 'Add DOI',
          Component: _addPublicationCard2.default,
          props: {
            searchResult: item,
            asyncSubmitPublication: _this.props.asyncSubmitPublication,
            reduxAddDOIs: _this.props.reduxAddDOIs,
            crossmarkPrefixes: _this.props.crossmarkPrefixes
          }
        });
      }
    };

    _this.state = {
      searchingFor: '',
      forceClose: true
    };
    return _this;
  }

  (0, _createClass3.default)(Search, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var results = this.props.results;
      var _state = this.state,
          searchingFor = _state.searchingFor,
          forceClose = _state.forceClose;


      return _react2.default.createElement(
        'div',
        { className: 'publication-search-container', __source: {
            fileName: _jsxFileName,
            lineNumber: 63
          },
          __self: this
        },
        _react2.default.createElement(_reactAutocomplete2.default, (0, _extends3.default)({}, forceClose ? { open: false } : {}, {
          value: this.state.searchingFor,
          inputProps: { placeholder: 'Search Publication' },
          items: results,
          getItemValue: function getItemValue(item) {
            return item.title;
          },
          onSelect: this.onSelect,
          onChange: this.onChange,
          renderItem: function renderItem(item, isHighlighted) {
            return _react2.default.createElement(
              'div',
              { key: item.doi, className: 'search-result-holder', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 73
                },
                __self: _this2
              },
              _react2.default.createElement(
                'div',
                { className: 'search-result', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 74
                  },
                  __self: _this2
                },
                item.title
              ),
              _react2.default.createElement(
                'div',
                { className: 'add', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 75
                  },
                  __self: _this2
                },
                'Add'
              )
            );
          },
          renderMenu: function renderMenu(items, value, style) {
            return _react2.default.createElement(
              'div',
              { className: 'publication-search-results', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 80
                },
                __self: _this2
              },
              _this2.props.loading ? _react2.default.createElement(
                'div',
                {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 82
                  },
                  __self: _this2
                },
                'Loading...'
              ) : searchingFor === '' ? _react2.default.createElement('div', {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 84
                },
                __self: _this2
              }) : items.length === 0 ? _react2.default.createElement(
                'div',
                {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 86
                  },
                  __self: _this2
                },
                'No matches for ',
                value
              ) : items
            );
          },
          className: 'publication-search',
          __source: {
            fileName: _jsxFileName,
            lineNumber: 64
          },
          __self: this
        }))
      );
    }
  }]);
  return Search;
}(_react.Component), _class.propTypes = {
  reduxAddDOIs: _propTypes2.default.func.isRequired,
  reduxControlModal: _propTypes2.default.func.isRequired,
  asyncSubmitPublication: _propTypes2.default.func.isRequired,
  asyncSearch: _propTypes2.default.func.isRequired,
  results: _propTypes2.default.array,
  loading: _propTypes2.default.bool.isRequired,
  crossmarkPrefixes: _propTypes2.default.array.isRequired
}, _temp);
exports.default = Search;

});

require.register("components/searchRecords.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class,
    _temp,
    _jsxFileName = 'app/components/searchRecords.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redux = require('redux');

var _reactAutocomplete = require('react-autocomplete');

var _reactAutocomplete2 = _interopRequireDefault(_reactAutocomplete);

var _my_decorators = require('my_decorators');

var _addPublicationCard = require('./addPublicationCard');

var _addPublicationCard2 = _interopRequireDefault(_addPublicationCard);

var _addIssueCard = require('./addIssueCard');

var _addIssueCard2 = _interopRequireDefault(_addIssueCard);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Search = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(Search, _Component);

  function Search(props) {
    (0, _classCallCheck3.default)(this, Search);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Search.__proto__ || (0, _getPrototypeOf2.default)(Search)).call(this, props));

    _this.onChange = function (e, value) {
      value ? _this.setState({ forceClose: false }) : _this.setState({ forceClose: true });
      _this.setState({ searchingFor: value });
      _this.props.asyncSearchRecords(value, _this.props.pubTitle, _this.state.searchType);
    };

    _this.onSelect = function (value, item) {
      var publication = _this.props.publication;
      var publicationContains = _this.props.publication.message.contains;
      var pubDoi = _this.props.publication.message.doi;
      var ownerPrefix = pubDoi.split('/')[0];

      _this.setState({ searchingFor: '', loading: false, forceClose: true });

      _this.props.asyncGetItem(item.doi).then(function (result) {
        //return console.log(result);

        //clean up returned publication metadata
        result.message.doi = publication.message.doi;
        result.message['owner-prefix'] = ownerPrefix;
        delete result.message.content;

        //Is lone record:
        if (result.message.contains[0].type === item.type) {

          //Prepare record metadata
          var record = result.message.contains[0];
          record['mdt-version'] = '0';

          _this.props.postIssue(result, function () {
            _this.props.asyncGetPublications(pubDoi); //gets updated publication data and refreshes page
          });

          //Is article with issue
        } else if (result.message.contains[0].contains[0].type === item.type) {

          //Separate article
          var savedArticle = result.message.contains[0].contains[0];
          savedArticle['owner-prefix'] = ownerPrefix;
          savedArticle['mdt-version'] = '0';

          //Prepare issue metadata
          var issue = result.message.contains[0];
          issue['mdt-version'] = '0';
          issue['owner-prefix'] = ownerPrefix;
          issue.contains = [];

          //check for issue Doi
          if (!issue.doi) {
            return _this.props.reduxControlModal({
              showModal: true,
              title: 'Issue missing DOI, please add to continue.',
              style: 'addIssueModal',
              Component: _addIssueCard2.default,
              props: {
                mode: 'edit',
                issue: issue,
                savedArticle: savedArticle,
                publication: publication,
                publicationMessage: publication.message,
                doiMessage: publication.message.doi,
                handle: _this.props.asyncGetPublications,
                postIssue: _this.props.postIssue
              }
            });
          }

          //check for duplicate
          for (var i in publicationContains) {
            if (publicationContains[i].doi === issue.doi) {
              console.log('ISSUE ALREADY IN PUBLICATION MDT');

              //try to add article, reset issue metadata
              issue.contains = [savedArticle];
              delete issue.content;
              delete issue['mdt-version'];

              _this.props.postIssue(result, function () {
                _this.props.asyncGetPublications(pubDoi);
              });
              return;
            }
          }

          _this.props.postIssue(result, function () {
            //reset issue metadata
            issue.contains = [savedArticle];
            delete issue['mdt-version'];

            _this.props.postIssue(result, function () {
              _this.props.asyncGetPublications(pubDoi);
            });
          });
        }
      }).catch(function (error) {
        _this.props.reduxControlModal({
          showModal: true,
          title: 'Error ' + error,
          style: 'errorModal',
          Component: function Component() {
            return null;
          }
        });
      });
    };

    _this.state = {
      searchType: 'all',
      searchingFor: '',
      loading: false,
      forceClose: true
    };
    return _this;
  }

  (0, _createClass3.default)(Search, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var results = this.props.search.result.works || [];
      var _state = this.state,
          searchingFor = _state.searchingFor,
          forceClose = _state.forceClose;


      return _react2.default.createElement(
        'div',
        { className: 'recordSearchHolder', __source: {
            fileName: _jsxFileName,
            lineNumber: 150
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'record-search-container', __source: {
              fileName: _jsxFileName,
              lineNumber: 151
            },
            __self: this
          },
          _react2.default.createElement(
            'select',
            { className: 'searchType', value: this.state.searchType, onChange: function onChange(e) {
                return _this2.setState({ searchType: e.target.value });
              }, __source: {
                fileName: _jsxFileName,
                lineNumber: 152
              },
              __self: this
            },
            _react2.default.createElement(
              'option',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 153
                },
                __self: this
              },
              'All'
            ),
            _react2.default.createElement(
              'option',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 154
                },
                __self: this
              },
              'Issue'
            ),
            _react2.default.createElement(
              'option',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 155
                },
                __self: this
              },
              'Article'
            )
          ),
          _react2.default.createElement(_reactAutocomplete2.default, (0, _extends3.default)({}, forceClose ? { open: false } : {}, {
            value: this.state.searchingFor,
            items: results,
            getItemValue: function getItemValue(item) {
              return item.doi || null;
            },
            onSelect: this.onSelect,
            onChange: this.onChange,
            renderItem: function renderItem(item, isHighlighted) {
              var _item$title = item.title,
                  title = _item$title.title,
                  issue = _item$title.issue,
                  volume = _item$title.volume;

              if (item.type === 'issue') {
                var display = void 0;
                if (!title && (issue || volume)) display = 'Issue ' + (issue || 'NA') + ', Volume ' + (volume || 'NA');
                return _react2.default.createElement(
                  'div',
                  { key: item.doi, className: 'search-result-holder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 173
                    },
                    __self: _this2
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'search-result', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 174
                      },
                      __self: _this2
                    },
                    title || display || item.doi || 'Error retrieving metadata'
                  ),
                  _react2.default.createElement(
                    'div',
                    { className: 'add', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 177
                      },
                      __self: _this2
                    },
                    'Add'
                  )
                );
              } else {
                return _react2.default.createElement(
                  'div',
                  { key: item.doi, className: 'record-search-result-holder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 182
                    },
                    __self: _this2
                  },
                  _react2.default.createElement(
                    'div',
                    { className: 'record-search-result', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 183
                      },
                      __self: _this2
                    },
                    title || item.doi || 'Error retrieving metadata'
                  ),
                  _react2.default.createElement(
                    'div',
                    { className: 'add', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 186
                      },
                      __self: _this2
                    },
                    'Add'
                  )
                );
              }
            },
            renderMenu: function renderMenu(items, value, style) {
              return _react2.default.createElement(
                'div',
                { className: 'record-search-results', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 192
                  },
                  __self: _this2
                },
                _this2.props.search.loading ? _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 194
                    },
                    __self: _this2
                  },
                  'Loading...'
                ) : searchingFor === '' ? _react2.default.createElement('div', {
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 196
                  },
                  __self: _this2
                }) : items.length === 0 ? _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 198
                    },
                    __self: _this2
                  },
                  'No matches for ',
                  value
                ) : items
              );
            },
            placeholder: 'Search',
            className: 'record-search',
            __source: {
              fileName: _jsxFileName,
              lineNumber: 158
            },
            __self: this
          }))
        )
      );
    }
  }]);
  return Search;
}(_react.Component), _class.propTypes = {
  reduxControlModal: _propTypes2.default.func.isRequired,
  asyncSearchRecords: _propTypes2.default.func.isRequired,
  asyncGetItem: _propTypes2.default.func.isRequired,
  pubTitle: _propTypes2.default.string.isRequired,
  search: _propTypes2.default.object.isRequired,
  postIssue: _propTypes2.default.func.isRequired,
  publication: _propTypes2.default.object.isRequired,
  asyncGetPublications: _propTypes2.default.func.isRequired
}, _temp);
exports.default = Search;

});

require.register("containers/addArticlesPage.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec,
    _class,
    _class2,
    _temp,
    _jsxFileName = 'app/containers/addArticlesPage.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRedux = require('react-redux');

var _redux = require('redux');

var _reactRouter = require('react-router');

var _my_decorators = require('my_decorators');

var _application = require('../actions/application');

var _xmldoc = require('../utilities/xmldoc');

var _xmldoc2 = _interopRequireDefault(_xmldoc);

var _addArticleCard = require('../components/addArticleCard');

var _addArticleCard2 = _interopRequireDefault(_addArticleCard);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mapStateToProps = function mapStateToProps(state, props) {
  return {
    publication: state.publications[props.routeParams.doi],
    reduxForm: state.reduxForm,
    crossmarkPrefixes: state.login['crossmark-prefixes'],
    reduxCart: state.cart
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return (0, _redux.bindActionCreators)({
    reduxControlModal: _application.controlModal,
    reduxEditForm: _application.editForm,
    reduxClearForm: _application.clearForm,
    asyncGetItem: _application.getItem,
    asyncGetPublications: _application.getPublications,
    asyncSubmitArticle: _application.submitArticle,
    reduxCartUpdate: _application.cartUpdate
  }, dispatch);
};

var AddArticlesPage = (_dec = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps), _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(AddArticlesPage, _Component);

  function AddArticlesPage(props) {
    (0, _classCallCheck3.default)(this, AddArticlesPage);

    var _this = (0, _possibleConstructorReturn3.default)(this, (AddArticlesPage.__proto__ || (0, _getPrototypeOf2.default)(AddArticlesPage)).call(this, props));

    _this.state = {
      publication: {},
      publicationMetaData: {},
      issuePublication: undefined,
      mode: 'add'
    };
    return _this;
  }

  (0, _createClass3.default)(AddArticlesPage, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      var _ref = this.props.location.state || {},
          duplicateFrom = _ref.duplicateFrom;

      var _props$routeParams = this.props.routeParams,
          pubDoi = _props$routeParams.pubDoi,
          articleDoi = _props$routeParams.articleDoi,
          issueDoi = _props$routeParams.issueDoi;


      var dois = [articleDoi || duplicateFrom || pubDoi];

      if (issueDoi) dois.push(issueDoi);
      if (articleDoi || duplicateFrom) dois.push(pubDoi);

      this.props.asyncGetPublications(dois, function (publications) {
        _this2.setState({
          issuePublication: publications[0]
        });

        var publMeta = publications[1] ? publications[1].message.content : undefined;
        var article = publications[0];
        if (issueDoi) {
          publMeta = publications[2] ? publications[2].message.content : undefined;
          //doing logic here so we don't have to change the addArticles page any further
          var unwrappedPub = publications[1];

          unwrappedPub.message.contains = [publications[0].message.contains[0].contains[0]];

          article = unwrappedPub;
        }

        _this2.setState({
          mode: articleDoi || duplicateFrom ? 'edit' : 'add',
          publication: article,
          publicationMetaData: publMeta ? (0, _xmldoc2.default)(publMeta) : {}
        });
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.props.reduxClearForm();
    }
  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          publication = _state.publication,
          mode = _state.mode,
          publicationMetaData = _state.publicationMetaData;
      var _props$routeParams2 = this.props.routeParams,
          pubDoi = _props$routeParams2.pubDoi,
          doi = _props$routeParams2.doi,
          issueDoi = _props$routeParams2.issueDoi;

      var ownerPrefix = this.props.publication ? this.props.publication.message['owner-prefix'] : pubDoi.split('/')[0];
      return _react2.default.createElement(
        'div',
        { className: 'addArticles', __source: {
            fileName: _jsxFileName,
            lineNumber: 115
          },
          __self: this
        },
        _react2.default.createElement(_addArticleCard2.default, {
          reduxControlModal: this.props.reduxControlModal,
          reduxEditForm: this.props.reduxEditForm,
          reduxCartUpdate: this.props.reduxCartUpdate,
          asyncSubmitArticle: this.props.asyncSubmitArticle,
          asyncGetItem: this.props.asyncGetItem,
          reduxForm: this.props.reduxForm,
          ownerPrefix: ownerPrefix,
          publication: publication,
          publicationMetaData: publicationMetaData,
          issuePublication: this.state.issuePublication,
          mode: mode,
          issue: issueDoi,
          duplicateFrom: this.props.location.state ? this.props.location.state.duplicateFrom : '',
          crossmarkPrefixes: this.props.crossmarkPrefixes,
          reduxCart: this.props.reduxCart,
          __source: {
            fileName: _jsxFileName,
            lineNumber: 116
          },
          __self: this
        })
      );
    }
  }]);
  return AddArticlesPage;
}(_react.Component), _class2.propTypes = {
  reduxControlModal: _propTypes2.default.func.isRequired,
  reduxEditForm: _propTypes2.default.func.isRequired,
  reduxClearForm: _propTypes2.default.func.isRequired,
  reduxCartUpdate: _propTypes2.default.func.isRequired,
  asyncGetPublications: _propTypes2.default.func.isRequired,
  asyncSubmitArticle: _propTypes2.default.func.isRequired,
  asyncGetItem: _propTypes2.default.func.isRequired,
  reduxCart: _propTypes2.default.array.isRequired,
  routeParams: _propTypes2.default.shape({
    pubDoi: _propTypes2.default.string.isRequired,
    articleDoi: _propTypes2.default.string
  }).isRequired,
  location: _propTypes2.default.shape({
    state: _propTypes2.default.shape({
      duplicateFrom: _propTypes2.default.string
    })
  }).isRequired,
  reduxForm: _propTypes2.default.object.isRequired,
  publication: _propTypes2.default.object,
  crossmarkPrefixes: _propTypes2.default.array.isRequired
}, _temp)) || _class);
exports.default = AddArticlesPage;

});

require.register("containers/app.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec,
    _class,
    _class2,
    _temp,
    _jsxFileName = 'app/containers/app.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRedux = require('react-redux');

var _redux = require('redux');

var _my_decorators = require('my_decorators');

var _application = require('../actions/application');

var _header = require('../components/header');

var _header2 = _interopRequireDefault(_header);

var _footer = require('../components/footer');

var _footer2 = _interopRequireDefault(_footer);

var _modal = require('./modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mapStateToProps = function mapStateToProps(state) {
  return {
    path: window.location.pathname,
    reduxControlModal: _application.controlModal,
    cart: state.cart,
    reduxLogout: _application.logout
  };
};

var App = (_dec = (0, _reactRedux.connect)(mapStateToProps), _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(App, _Component);

  function App() {
    (0, _classCallCheck3.default)(this, App);
    return (0, _possibleConstructorReturn3.default)(this, (App.__proto__ || (0, _getPrototypeOf2.default)(App)).apply(this, arguments));
  }

  (0, _createClass3.default)(App, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'app', __source: {
            fileName: _jsxFileName,
            lineNumber: 27
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'app-contents', __source: {
              fileName: _jsxFileName,
              lineNumber: 28
            },
            __self: this
          },
          _react2.default.createElement(_header2.default, { path: this.props.path, cart: this.props.cart, reduxControlModal: this.props.reduxControlModal, reduxLogout: this.props.reduxLogout, __source: {
              fileName: _jsxFileName,
              lineNumber: 29
            },
            __self: this
          }),
          _react2.default.createElement(
            'div',
            { className: 'page-contents', __source: {
                fileName: _jsxFileName,
                lineNumber: 30
              },
              __self: this
            },
            this.props.children
          )
        ),
        _react2.default.createElement(_footer2.default, {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 34
          },
          __self: this
        }),
        _react2.default.createElement(_modal2.default, {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 35
          },
          __self: this
        })
      );
    }
  }]);
  return App;
}(_react.Component), _class2.propTypes = {}, _temp)) || _class);
exports.default = App;

});

require.register("containers/articlesPage.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec,
    _class,
    _class2,
    _temp,
    _jsxFileName = 'app/containers/articlesPage.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRedux = require('react-redux');

var _redux = require('redux');

var _reactRouter = require('react-router');

var _my_decorators = require('my_decorators');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {};
};

var ArticlesPage = (_dec = (0, _reactRedux.connect)(mapDispatchToProps), _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(ArticlesPage, _Component);

  function ArticlesPage() {
    (0, _classCallCheck3.default)(this, ArticlesPage);
    return (0, _possibleConstructorReturn3.default)(this, (ArticlesPage.__proto__ || (0, _getPrototypeOf2.default)(ArticlesPage)).apply(this, arguments));
  }

  (0, _createClass3.default)(ArticlesPage, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      console.log(this.state);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      console.log(this.state);
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'articles', __source: {
            fileName: _jsxFileName,
            lineNumber: 27
          },
          __self: this
        },
        'Articles',
        _react2.default.createElement(
          'b',
          {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 29
            },
            __self: this
          },
          'Click ',
          _react2.default.createElement(
            _reactRouter.Link,
            { to: '', __source: {
                fileName: _jsxFileName,
                lineNumber: 29
              },
              __self: this
            },
            'here'
          ),
          ' to test State Post BACK to publications.'
        )
      );
    }
  }]);
  return ArticlesPage;
}(_react.Component), _class2.propTypes = {}, _temp)) || _class);
exports.default = ArticlesPage;

});

require.register("containers/depositCartPage.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getIterator2 = require('babel-runtime/core-js/get-iterator');

var _getIterator3 = _interopRequireDefault(_getIterator2);

var _promise = require('babel-runtime/core-js/promise');

var _promise2 = _interopRequireDefault(_promise);

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _typeof2 = require('babel-runtime/helpers/typeof');

var _typeof3 = _interopRequireDefault(_typeof2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec,
    _class,
    _class2,
    _temp,
    _jsxFileName = 'app/containers/depositCartPage.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _immutabilityHelper = require('immutability-helper');

var _immutabilityHelper2 = _interopRequireDefault(_immutabilityHelper);

var _reactRedux = require('react-redux');

var _redux = require('redux');

var _my_decorators = require('my_decorators');

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _application = require('../actions/application');

var _header = require('../components/header');

var _header2 = _interopRequireDefault(_header);

var _footer = require('../components/footer');

var _footer2 = _interopRequireDefault(_footer);

var _depositCart = require('../components/depositCart');

var _depositCart2 = _interopRequireDefault(_depositCart);

var _reviewDepositCart = require('../components/reviewDepositCart');

var _reviewDepositCart2 = _interopRequireDefault(_reviewDepositCart);

var _depositResult = require('../components/depositResult');

var _depositResult2 = _interopRequireDefault(_depositResult);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mapStateToProps = function mapStateToProps(state) {
  return {
    cart: state.cart,
    publications: state.publications
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return (0, _redux.bindActionCreators)({
    reduxControlModal: _application.controlModal,
    reduxCartUpdate: _application.cartUpdate,
    reduxRemoveFromCart: _application.removeFromCart,
    asyncGetItem: _application.getItem,
    asyncDeposit: _application.deposit
  }, dispatch);
};

var DepositCartPage = (_dec = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps), _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(DepositCartPage, _Component);

  function DepositCartPage(props) {
    var _this3 = this;

    (0, _classCallCheck3.default)(this, DepositCartPage);

    var _this2 = (0, _possibleConstructorReturn3.default)(this, (DepositCartPage.__proto__ || (0, _getPrototypeOf2.default)(DepositCartPage)).call(this, props));

    _this2.toggleDeposit = function (showDeposit) {
      if (!showDeposit) {
        var falseCnt = _this2.state.falseCnt;
        _this2.setState({
          falseCnt: falseCnt + 1,
          showDeposit: false
        });
      }
    };

    _this2.review = function () {
      _this2.props.reduxControlModal({
        showModal: true,
        title: _react2.default.createElement(
          'div',
          { className: 'innerTitleHolder', __source: {
              fileName: _jsxFileName,
              lineNumber: 182
            },
            __self: _this3
          },
          _react2.default.createElement(
            'div',
            { className: 'innterTitleHolderIcon', __source: {
                fileName: _jsxFileName,
                lineNumber: 183
              },
              __self: _this3
            },
            _react2.default.createElement('img', { src: 'images/ReviewArticle/Asset_Icons_White_Review.svg', __source: {
                fileName: _jsxFileName,
                lineNumber: 184
              },
              __self: _this3
            })
          ),
          _react2.default.createElement(
            'div',
            { className: 'innerTitleHolderText', __source: {
                fileName: _jsxFileName,
                lineNumber: 186
              },
              __self: _this3
            },
            'Review All'
          )
        ),
        style: 'defaultModal reviewModal',
        Component: _reviewDepositCart2.default,
        props: {
          fullCart: _this2.state.fullCart,
          reduxControlModal: _this2.props.reduxControlModal
        }
      });
    };

    _this2.deposit = function () {
      if (!_this2.state.showDeposit || _this2.state.status === 'processing') return;

      var toDeposit = _this2.props.cart.map(function (item) {
        return { 'doi': item.doi, 'version': item['mdt-version'] };
      });

      _this2.setState({ status: 'processing' });

      var errorHandler = function errorHandler(error) {
        _this2.setState({ status: 'cart' });
        _this2.props.reduxControlModal({
          showModal: true,
          title: 'Server Response - ' + error,
          style: 'errorModal',
          Component: function Component() {
            return null;
          }
        });
      };

      _this2.props.asyncDeposit(toDeposit, function (resultArray) {
        _this2.setState({ status: 'result', depositResult: resultArray });
      }, errorHandler);
    };

    _this2.processDepositResult = function () {
      var resultCount = { Success: 0, Failure: 0 };
      var resultData = {};
      var depositId = [];

      _this2.state.depositResult.forEach(function (result, index) {
        var pubDoi = void 0,
            pubTitle = void 0,
            resultTitle = void 0,
            resultStatus = void 0,
            resultType = void 0;
        var error = {};
        var articleInfo = _this2.props.cart.find(function (cartItem) {
          return cartItem.doi === result['DOI:'];
        });
        pubDoi = articleInfo.pubDoi;
        resultType = articleInfo.type;
        pubTitle = _this2.props.publications[pubDoi].message.title.title;
        resultTitle = articleInfo.title.title;

        if (typeof result.result === 'string') {
          resultStatus = 'Failure';
          error.errorMessage = result.result;
        } else if ((0, _typeof3.default)(result.result) === 'object') {
          depositId.push(result.result.doi_batch_diagnostic.submission_id);
          var recordDiagnostic = result.result.doi_batch_diagnostic.record_diagnostic;
          resultStatus = (recordDiagnostic[1] || recordDiagnostic)['-status'];
          if (resultStatus === 'Failure') {
            error.errorMessage = (recordDiagnostic[1] || recordDiagnostic).msg;
          }
        } else {
          resultStatus = 'Failure';
          error.errorMessage = 'Unknown Error';
        }

        resultCount[resultStatus]++;

        resultData[pubTitle] = [].concat((0, _toConsumableArray3.default)(resultData[pubTitle] || []), [(0, _extends3.default)({
          title: resultTitle,
          status: resultStatus,
          type: resultType,
          doi: result['DOI:'],
          pubDoi: pubDoi
        }, error)]);
      });

      depositId = depositId.length > 1 ? depositId[0] + ' - ' + depositId.pop() : depositId[0];

      return { resultData: resultData, resultCount: resultCount, depositId: depositId };
    };

    _this2.state = {
      showDeposit: true,
      fullCart: [],
      falseCnt: 0,
      status: 'cart'
    };
    return _this2;
  }

  (0, _createClass3.default)(DepositCartPage, [{
    key: 'getFullCart',
    value: function getFullCart() {
      var _this4 = this;

      var cart = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.cart;


      var promises = [];
      var _this = this;
      if (cart.length > 0) {
        _lodash2.default.each(cart, function (item) {

          var doi = item.doi;
          if (!doi) {
            doi = item.article.doi;
          }
          promises.push(_this4.props.asyncGetItem(doi).then(function (data) {
            return data;
          }));
        });

        _promise2.default.all(promises).then(function (fullData) {
          var mergedCart = [];
          for (var i = 0; i < fullData.length; i++) {
            mergedCart.push({
              date: fullData[i].message.date,
              doi: fullData[i].message.doi,
              status: fullData[i].message.status,
              type: fullData[i].message.type,
              title: fullData[i].message.title.title,
              contains: []
            });
          }

          mergedCart = _lodash2.default.uniqBy(mergedCart, function (cartItem) {
            // merging publications
            return cartItem.doi;
          });

          function mergeByDoi(arr) {
            return (0, _lodash2.default)(arr).groupBy(function (item) {
              // group the items using the lower case
              return item.doi;
            }).map(function (group) {
              // map each group
              return _lodash2.default.mergeWith.apply(_lodash2.default, [{}].concat(group, function (obj, src) {
                // merge all items, and if a property is an array concat the content
                if (Array.isArray(obj)) {
                  return obj.concat(src);
                }
              }));
            }).values() // get the values from the groupBy object
            .value();
          }

          for (var i = 0; i < mergedCart.length; i++) {
            for (var j = 0; j < fullData.length; j++) {
              if (fullData[j]) {
                if (mergedCart[i].doi === fullData[j].message.doi) {
                  mergedCart[i].contains.push(fullData[j].message.contains[0]);
                }
              }
            }
          }

          for (var k = 0; k < mergedCart.length; k++) {
            var result = mergeByDoi(mergedCart[k].contains);
            mergedCart[k].contains = result;
          }

          //need to get publication meta data as well
          var promises = [];

          for (var i = 0; i < mergedCart.length; i++) {
            promises.push(_this4.props.asyncGetItem(mergedCart[i].doi).then(function (data) {
              // this gets publication content
              return data;
            }));
          }
          _promise2.default.all(promises).then(function (publicationData) {
            var issuePromises = [];
            for (var i = 0; i < publicationData.length; i++) {
              mergedCart[i].content = publicationData[i].message.content;
              var _iteratorNormalCompletion = true;
              var _didIteratorError = false;
              var _iteratorError = undefined;

              try {
                var _loop = function _loop() {
                  var item = _step.value;

                  if (item.type === 'issue') {
                    issuePromises.push(_this4.props.asyncGetItem(item.doi).then(function (data) {
                      // this gets publication content
                      item.content = data.message.contains[0].content;
                      return;
                    }));
                  }
                };

                for (var _iterator = (0, _getIterator3.default)(mergedCart[i].contains), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                  _loop();
                }
              } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion && _iterator.return) {
                    _iterator.return();
                  }
                } finally {
                  if (_didIteratorError) {
                    throw _iteratorError;
                  }
                }
              }
            }

            //this gets the issues
            _promise2.default.all(issuePromises).then(function () {
              _this.setState({
                fullCart: (0, _immutabilityHelper2.default)(_this4.state.fullCart, { $set: mergedCart })
              });
            });
          });
        });
      }
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps, nextState) {
      if (nextProps.location !== this.props.location) this.setState({ status: 'cart' });
      if (this.props.cart !== nextProps.cart) {
        this.getFullCart(nextProps.cart);
      }

      if (this.state.falseCnt !== nextState.falseCnt && nextState.falseCnt > 0) {
        this.setState({
          showDeposit: false
        });
      }
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.getFullCart();
    }
  }, {
    key: 'render',
    value: function render() {
      var _ref = this.state.status === 'result' && this.state.depositResult ? this.processDepositResult() : {},
          resultData = _ref.resultData,
          resultCount = _ref.resultCount,
          depositId = _ref.depositId;

      return _react2.default.createElement(
        'div',
        { className: 'depositPage', __source: {
            fileName: _jsxFileName,
            lineNumber: 278
          },
          __self: this
        },
        _react2.default.createElement(TopOfPage, {
          status: this.state.status,
          cart: this.props.cart,
          showDeposit: this.state.showDeposit,
          deposit: this.deposit,
          review: this.review,
          __source: {
            fileName: _jsxFileName,
            lineNumber: 280
          },
          __self: this
        }),
        this.state.status !== 'result' && _react2.default.createElement(
          'div',
          { className: this.state.status === 'processing' ? "opacity" : '', __source: {
              fileName: _jsxFileName,
              lineNumber: 289
            },
            __self: this
          },
          this.props.cart.length > 0 ? _react2.default.createElement(_depositCart2.default, {
            reduxCartUpdate: this.props.reduxCartUpdate,
            reduxControlModal: this.props.reduxControlModal,
            reduxCart: this.props.cart,
            reduxRemoveFromCart: this.props.reduxRemoveFromCart,
            fullCart: this.state.fullCart,
            toggleDeposit: this.toggleDeposit,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 291
            },
            __self: this
          }) : _react2.default.createElement(EmptyCart, {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 299
            },
            __self: this
          })
        ),
        this.state.status === 'processing' && _react2.default.createElement(WaitMessage, {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 304
          },
          __self: this
        }),
        this.state.status === 'result' && _react2.default.createElement(_depositResult2.default, { resultCount: resultCount, resultData: resultData, depositId: depositId, __source: {
            fileName: _jsxFileName,
            lineNumber: 306
          },
          __self: this
        })
      );
    }
  }]);
  return DepositCartPage;
}(_react.Component), _class2.propTypes = {
  reduxControlModal: _propTypes2.default.func.isRequired,
  reduxCartUpdate: _propTypes2.default.func.isRequired,
  reduxRemoveFromCart: _propTypes2.default.func.isRequired,
  asyncGetItem: _propTypes2.default.func.isRequired,
  asyncDeposit: _propTypes2.default.func.isRequired,
  cart: _propTypes2.default.array.isRequired,
  publications: _propTypes2.default.object.isRequired
}, _temp)) || _class);
exports.default = DepositCartPage;


var TopOfPage = function TopOfPage(_ref2) {
  var status = _ref2.status,
      cart = _ref2.cart,
      showDeposit = _ref2.showDeposit,
      deposit = _ref2.deposit,
      review = _ref2.review;

  return _react2.default.createElement(
    'div',
    {
      __source: {
        fileName: _jsxFileName,
        lineNumber: 315
      },
      __self: undefined
    },
    status !== 'result' && _react2.default.createElement(
      'div',
      { className: 'pageTitle', __source: {
          fileName: _jsxFileName,
          lineNumber: 317
        },
        __self: undefined
      },
      'Deposit Cart'
    ),
    _react2.default.createElement(
      'div',
      { className: 'buttonHolder', __source: {
          fileName: _jsxFileName,
          lineNumber: 322
        },
        __self: undefined
      },
      _react2.default.createElement(
        'div',
        { className: 'buttonInnerHolder', __source: {
            fileName: _jsxFileName,
            lineNumber: 323
          },
          __self: undefined
        },
        _react2.default.createElement(
          'div',
          { className: 'ReviewButtonHolder', __source: {
              fileName: _jsxFileName,
              lineNumber: 324
            },
            __self: undefined
          },
          status !== 'result' ? cart.length > 0 ? _react2.default.createElement(
            'a',
            { onClick: review, __source: {
                fileName: _jsxFileName,
                lineNumber: 325
              },
              __self: undefined
            },
            'Review All'
          ) : '' : _react2.default.createElement(
            'div',
            { className: 'pageTitle', __source: {
                fileName: _jsxFileName,
                lineNumber: 325
              },
              __self: undefined
            },
            'Deposit Result'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'DepositButtonHolder ' + (status === 'result' ? 'result' : ''), __source: {
              fileName: _jsxFileName,
              lineNumber: 327
            },
            __self: undefined
          },
          _react2.default.createElement(
            'a',
            {
              onClick: deposit,
              className: (!showDeposit || status === 'processing' ? 'disabledDeposit' : '') + (cart.length <= 0 ? ' emptycartbutton' : ''), __source: {
                fileName: _jsxFileName,
                lineNumber: 328
              },
              __self: undefined
            },
            cart.length > 0 && status !== 'processing' ? 'Deposit' : 'Processing...'
          )
        )
      )
    )
  );
};

var EmptyCart = function EmptyCart() {
  return _react2.default.createElement(
    'div',
    { className: 'EmptyHolder', __source: {
        fileName: _jsxFileName,
        lineNumber: 342
      },
      __self: undefined
    },
    _react2.default.createElement(
      'div',
      { className: 'emptyTitle', __source: {
          fileName: _jsxFileName,
          lineNumber: 343
        },
        __self: undefined
      },
      'Deposit Cart is Empty'
    ),
    _react2.default.createElement(
      'div',
      { className: 'emptyBoxHolder', __source: {
          fileName: _jsxFileName,
          lineNumber: 346
        },
        __self: undefined
      },
      _react2.default.createElement('img', { src: 'images/Deposit/Asset_Empty_Box_Empty Box Yellow.svg', __source: {
          fileName: _jsxFileName,
          lineNumber: 347
        },
        __self: undefined
      })
    )
  );
};

var WaitMessage = function WaitMessage() {
  return _react2.default.createElement(
    'div',
    { className: 'waitMessage', __source: {
        fileName: _jsxFileName,
        lineNumber: 355
      },
      __self: undefined
    },
    _react2.default.createElement(
      'div',
      {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 356
        },
        __self: undefined
      },
      'Just a moment...'
    ),
    _react2.default.createElement(
      'div',
      {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 357
        },
        __self: undefined
      },
      'Please wait while we process your deposit'
    ),
    _react2.default.createElement('img', { src: 'images/Deposit/Asset_Load_Throbber_Load Throbber Grey.svg', __source: {
        fileName: _jsxFileName,
        lineNumber: 358
      },
      __self: undefined
    })
  );
};

});

require.register("containers/depositHistoryPage.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec,
    _class,
    _class2,
    _temp,
    _jsxFileName = 'app/containers/depositHistoryPage.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRedux = require('react-redux');

var _immutabilityHelper = require('immutability-helper');

var _immutabilityHelper2 = _interopRequireDefault(_immutabilityHelper);

var _redux = require('redux');

var _my_decorators = require('my_decorators');

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _reactPaginate = require('react-paginate');

var _reactPaginate2 = _interopRequireDefault(_reactPaginate);

var _application = require('../actions/application');

var _depositHistoryItem = require('../components/depositHistoryItem');

var _depositHistoryItem2 = _interopRequireDefault(_depositHistoryItem);

var _objectSearch = require('../utilities/objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

var _xmldoc = require('../utilities/xmldoc');

var _xmldoc2 = _interopRequireDefault(_xmldoc);

var _date = require('../utilities/date');

var _cleanObj = require('../utilities/cleanObj');

var _cleanObj2 = _interopRequireDefault(_cleanObj);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mapStateToProps = function mapStateToProps(state) {
  return {};
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return (0, _redux.bindActionCreators)({
    asyncGetDepositHistory: _application.getDepositHistory
  }, dispatch);
};

var DepositHistoryPage = (_dec = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps), _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(DepositHistoryPage, _Component);

  function DepositHistoryPage(props) {
    (0, _classCallCheck3.default)(this, DepositHistoryPage);

    var _this = (0, _possibleConstructorReturn3.default)(this, (DepositHistoryPage.__proto__ || (0, _getPrototypeOf2.default)(DepositHistoryPage)).call(this, props));

    _this.handleChange = function (e, sortFields) {
      if (e.target) {
        var name = e.currentTarget.name;
        switch (name) {
          case 'startYear':
            _this.setState({ startYear: e.currentTarget.value });
            var startDate = [e.currentTarget.value, _this.state.startMonth, _this.state.startDate];
            startDate = _lodash2.default.filter(startDate, function (datePart) {
              return datePart.length > 0;
            });
            if (startDate.join('').length > 0) {
              _this.setState({
                query: (0, _immutabilityHelper2.default)(_this.state.query, { start: { $set: startDate.join('-') } })
              });
            }
            break;
          case 'startMonth':
            _this.setState({ startMonth: e.currentTarget.value });
            var startDate = [_this.state.startYear, e.currentTarget.value, _this.state.startDate];
            startDate = _lodash2.default.filter(startDate, function (datePart) {
              return datePart.length > 0;
            });
            if (startDate.join('').length > 0) {
              _this.setState({
                query: (0, _immutabilityHelper2.default)(_this.state.query, { start: { $set: startDate.join('-') } })
              });
            }
            break;
          case 'startDate':
            _this.setState({ startDate: e.currentTarget.value });
            var startDate = [_this.state.startYear, _this.state.startMonth, e.currentTarget.value];
            startDate = _lodash2.default.filter(startDate, function (datePart) {
              return datePart.length > 0;
            });
            if (startDate.join('').length > 0) {
              _this.setState({
                query: (0, _immutabilityHelper2.default)(_this.state.query, { start: { $set: startDate.join('-') } })
              });
            }
            break;
          case 'endYear':
            _this.setState({ endYear: e.currentTarget.value });
            var endDate = [e.currentTarget.value, _this.state.endMonth, _this.state.endDate];
            endDate = _lodash2.default.filter(endDate, function (datePart) {
              return datePart.length > 0;
            });
            if (endDate.join('').length > 0) {
              _this.setState({
                query: (0, _immutabilityHelper2.default)(_this.state.query, { end: { $set: endDate.join('-') } })
              });
            }
            break;
          case 'endMonth':
            _this.setState({ endMonth: e.currentTarget.value });
            var endDate = [_this.state.endYear, e.currentTarget.value, _this.state.endDate];
            endDate = _lodash2.default.filter(endDate, function (datePart) {
              return datePart.length > 0;
            });
            if (endDate.join('').length > 0) {
              _this.setState({
                query: (0, _immutabilityHelper2.default)(_this.state.query, { end: { $set: endDate.join('-') } })
              });
            }
            break;
          case 'endDate':
            _this.setState({ endDate: e.currentTarget.value });
            var endDate = [_this.state.endYear, _this.state.endMonth, e.currentTarget.value];
            endDate = _lodash2.default.filter(endDate, function (datePart) {
              return datePart.length > 0;
            });
            if (endDate.join('').length > 0) {
              _this.setState({
                query: (0, _immutabilityHelper2.default)(_this.state.query, { end: { $set: endDate.join('-') } })
              });
            }
            break;
          case 'pubid':
            _this.setState({
              query: (0, _immutabilityHelper2.default)(_this.state.query, { pubid: { $set: e.currentTarget.value } })
            });
            break;
        }
      } else {
        _this.setState({
          query: (0, _immutabilityHelper2.default)(_this.state.query, sortFields)
        });
      }
    };

    _this.state = {
      depositHistory: [],
      startDate: '',
      startMonth: '',
      startYear: '',
      endDate: '31',
      endMonth: '12',
      endYear: '',
      total: 0,
      query: {
        order: 'desc',
        'sort-field': 'event_timestamp',
        pubid: undefined,
        start: undefined,
        end: undefined,
        count: 20,
        offset: 0
      },
      serverError: ''
    };
    return _this;
  }

  (0, _createClass3.default)(DepositHistoryPage, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var _this2 = this;

      this.props.asyncGetDepositHistory((0, _cleanObj2.default)(this.state.query), function (results) {
        _this2.setState({
          total: results['total-count'],
          depositHistory: results.message
        });
      }, function (error) {
        _this2.setState({ serverError: error });
      });
    }
  }, {
    key: 'componentWillUpdate',
    value: function componentWillUpdate(nextProps, nextState) {
      var _this3 = this;

      if (this.state.query !== nextState.query) {
        this.props.asyncGetDepositHistory((0, _cleanObj2.default)(nextState.query), function (results) {
          _this3.setState({
            total: results['total-count'],
            depositHistory: results.message
          });
        }, function (error) {
          _this3.setState({ serverError: error });
        });
      }
    }
  }, {
    key: 'handlePageClick',
    value: function handlePageClick(data) {
      var selected = data.selected;
      var offset = Math.ceil(selected * this.state.query.count);
      this.setState({
        query: (0, _immutabilityHelper2.default)(this.state.query, { offset: { $set: offset } })
      });
    }
  }, {
    key: 'listDeposityHistory',
    value: function listDeposityHistory() {
      var _this4 = this;

      var depositHistory = [];
      _lodash2.default.each(this.state.depositHistory, function (historyItem, i) {
        var historyInfo = (0, _xmldoc2.default)(historyItem.eventInfo);
        var depositId = (0, _objectSearch2.default)(historyInfo, 'submission_id');
        var depositDate = historyItem.eventTime;
        var mdtVersion = historyItem.MDTVersion;
        var status = historyItem.evenStatus;
        var doi = historyItem.doi;
        var titleObj = JSON.parse(historyItem.title);
        var title = titleObj.title;
        depositHistory.push({
          version: mdtVersion,
          id: depositId,
          date: depositDate,
          doi: doi,
          title: title,
          status: status === 'OK' ? 'Success' : 'Failed'
        });
      });

      return depositHistory.map(function (historyItem, i) {
        return _react2.default.createElement(_depositHistoryItem2.default, {
          key: i,
          history: historyItem,
          __source: {
            fileName: _jsxFileName,
            lineNumber: 187
          },
          __self: _this4
        });
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _this5 = this;

      return _react2.default.createElement(
        'div',
        { className: 'depositHistory', __source: {
            fileName: _jsxFileName,
            lineNumber: 197
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'pageTitle', __source: {
              fileName: _jsxFileName,
              lineNumber: 198
            },
            __self: this
          },
          'Deposit History'
        ),
        _react2.default.createElement(
          'div',
          { className: 'dateSearchHolder', __source: {
              fileName: _jsxFileName,
              lineNumber: 201
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { className: 'start', __source: {
                fileName: _jsxFileName,
                lineNumber: 202
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'datepickerholder', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 203
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'dateselectholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 204
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 205
                    },
                    __self: this
                  },
                  '\xA0'
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'labelHolder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 206
                    },
                    __self: this
                  },
                  'Date From'
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'dateselectholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 208
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 209
                    },
                    __self: this
                  },
                  'Year'
                ),
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 210
                    },
                    __self: this
                  },
                  (0, _date.makeDateDropDown)(this.handleChange, 'startYear', 'y')
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'dateselectholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 212
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 213
                    },
                    __self: this
                  },
                  'Month'
                ),
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 214
                    },
                    __self: this
                  },
                  (0, _date.makeDateDropDown)(this.handleChange, 'startMonth', 'm')
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'dateselectholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 218
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 219
                    },
                    __self: this
                  },
                  'Day'
                ),
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 220
                    },
                    __self: this
                  },
                  (0, _date.makeDateDropDown)(this.handleChange, 'startDate', 'd')
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'dateselectholder dateicon', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 224
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 225
                    },
                    __self: this
                  },
                  '\xA0'
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'iconHolder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 226
                    },
                    __self: this
                  },
                  _react2.default.createElement('img', { className: 'calendarIcon', src: 'images/DepositHistory/Asset_Icons_Black_Calandar.svg', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 226
                    },
                    __self: this
                  })
                )
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'end', __source: {
                fileName: _jsxFileName,
                lineNumber: 230
              },
              __self: this
            },
            _react2.default.createElement(
              'div',
              { className: 'datepickerholder', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 231
                },
                __self: this
              },
              _react2.default.createElement(
                'div',
                { className: 'dateselectholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 232
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 233
                    },
                    __self: this
                  },
                  '\xA0'
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'labelHolder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 234
                    },
                    __self: this
                  },
                  'Date To'
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'dateselectholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 236
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 237
                    },
                    __self: this
                  },
                  'Year'
                ),
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 238
                    },
                    __self: this
                  },
                  (0, _date.makeDateDropDown)(this.handleChange, 'endYear', 'y')
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'dateselectholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 240
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 241
                    },
                    __self: this
                  },
                  'Month'
                ),
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 242
                    },
                    __self: this
                  },
                  (0, _date.makeDateDropDown)(this.handleChange, 'endMonth', 'm')
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'dateselectholder', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 246
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 247
                    },
                    __self: this
                  },
                  'Day'
                ),
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 248
                    },
                    __self: this
                  },
                  (0, _date.makeDateDropDown)(this.handleChange, 'endDate', 'd')
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'dateselectholder dateicon', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 252
                  },
                  __self: this
                },
                _react2.default.createElement(
                  'div',
                  {
                    __source: {
                      fileName: _jsxFileName,
                      lineNumber: 253
                    },
                    __self: this
                  },
                  '\xA0'
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'iconHolder', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 254
                    },
                    __self: this
                  },
                  _react2.default.createElement('img', { className: 'calendarIcon', src: 'images/DepositHistory/Asset_Icons_Black_Calandar.svg', __source: {
                      fileName: _jsxFileName,
                      lineNumber: 254
                    },
                    __self: this
                  })
                )
              )
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'doiSearchHolder', __source: {
              fileName: _jsxFileName,
              lineNumber: 259
            },
            __self: this
          },
          _react2.default.createElement('input', {
            type: 'text',
            className: 'doiSearch',
            placeholder: 'Search by DOI',
            name: 'pubid',
            onChange: this.handleChange,
            __source: {
              fileName: _jsxFileName,
              lineNumber: 260
            },
            __self: this
          })
        ),
        _react2.default.createElement(
          'table',
          { className: 'historyData', __source: {
              fileName: _jsxFileName,
              lineNumber: 268
            },
            __self: this
          },
          _react2.default.createElement(
            'tr',
            {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 269
              },
              __self: this
            },
            _react2.default.createElement(
              'th',
              { className: 'first', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 270
                },
                __self: this
              },
              'Deposit ID'
            ),
            _react2.default.createElement(
              'th',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 271
                },
                __self: this
              },
              _react2.default.createElement(
                'span',
                {
                  onClick: function onClick() {
                    _this5.handleChange(_this5, { 'sort-field': { $set: 'title' } });
                  },
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 272
                  },
                  __self: this
                },
                'Title'
              ),
              this.state.query['sort-field'] === 'title' ? _react2.default.createElement('img', {
                onClick: function onClick() {
                  _this5.handleChange(_this5, { order: { $set: _this5.state.query.order === 'asc' ? 'desc' : 'asc' } });
                },
                className: 'orderBy' + (this.state.query.order === 'asc' ? ' ordered' : ''),
                src: 'images/AddArticle/DarkTriangle.svg', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 277
                },
                __self: this
              }) : ''
            ),
            _react2.default.createElement(
              'th',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 284
                },
                __self: this
              },
              _react2.default.createElement(
                'span',
                {
                  onClick: function onClick() {
                    _this5.handleChange(_this5, { 'sort-field': { $set: 'event_timestamp' } });
                  },
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 285
                  },
                  __self: this
                },
                'Date'
              ),
              this.state.query['sort-field'] === 'event_timestamp' ? _react2.default.createElement('img', {
                onClick: function onClick() {
                  _this5.handleChange(_this5, { order: { $set: _this5.state.query.order === 'asc' ? 'desc' : 'asc' } });
                },
                className: 'orderBy' + (this.state.query.order === 'asc' ? ' ordered' : ''),
                src: 'images/AddArticle/DarkTriangle.svg', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 290
                },
                __self: this
              }) : ''
            ),
            _react2.default.createElement(
              'th',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 297
                },
                __self: this
              },
              _react2.default.createElement(
                'span',
                {
                  onClick: function onClick() {
                    _this5.handleChange(_this5, { 'sort-field': { $set: 'type' } });
                  },
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 298
                  },
                  __self: this
                },
                'Type'
              ),
              this.state.query['sort-field'] === 'type' ? _react2.default.createElement('img', {
                onClick: function onClick() {
                  _this5.handleChange(_this5, { order: { $set: _this5.state.query.order === 'asc' ? 'desc' : 'asc' } });
                },
                className: 'orderBy' + (this.state.query.order === 'asc' ? ' ordered' : ''),
                src: 'images/AddArticle/DarkTriangle.svg', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 303
                },
                __self: this
              }) : ''
            ),
            _react2.default.createElement(
              'th',
              {
                __source: {
                  fileName: _jsxFileName,
                  lineNumber: 310
                },
                __self: this
              },
              _react2.default.createElement(
                'span',
                {
                  onClick: function onClick() {
                    _this5.handleChange(_this5, { 'sort-field': { $set: 'event_status' } });
                  },
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 311
                  },
                  __self: this
                },
                'Status'
              ),
              this.state.query['sort-field'] === 'event_status' ? _react2.default.createElement('img', {
                onClick: function onClick() {
                  _this5.handleChange(_this5, { order: { $set: _this5.state.query.order === 'asc' ? 'desc' : 'asc' } });
                },
                className: 'orderBy' + (this.state.query.order === 'asc' ? ' ordered' : ''),
                src: 'images/AddArticle/DarkTriangle.svg', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 316
                },
                __self: this
              }) : ''
            ),
            _react2.default.createElement(
              'th',
              { className: 'last', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 323
                },
                __self: this
              },
              _react2.default.createElement(
                'span',
                {
                  onClick: function onClick() {
                    _this5.handleChange(_this5, { 'sort-field': { $set: 'doi' } });
                  },
                  __source: {
                    fileName: _jsxFileName,
                    lineNumber: 324
                  },
                  __self: this
                },
                'DOI'
              ),
              this.state.query['sort-field'] === 'doi' ? _react2.default.createElement('img', {
                onClick: function onClick() {
                  _this5.handleChange(_this5, { order: { $set: _this5.state.query.order === 'asc' ? 'desc' : 'asc' } });
                },
                className: 'orderBy' + (this.state.query.order === 'asc' ? ' ordered' : ''),
                src: 'images/AddArticle/DarkTriangle.svg', __source: {
                  fileName: _jsxFileName,
                  lineNumber: 329
                },
                __self: this
              }) : ''
            )
          ),
          this.listDeposityHistory()
        ),
        _react2.default.createElement(_reactPaginate2.default, { previousLabel: _react2.default.createElement('img', { className: 'prev', src: 'images/AddArticle/DarkTriangle.svg', __source: {
              fileName: _jsxFileName,
              lineNumber: 341
            },
            __self: this
          }),
          nextLabel: _react2.default.createElement('img', { className: 'nex', src: 'images/AddArticle/DarkTriangle.svg', __source: {
              fileName: _jsxFileName,
              lineNumber: 342
            },
            __self: this
          }),
          breakLabel: _react2.default.createElement(
            'a',
            { href: '', __source: {
                fileName: _jsxFileName,
                lineNumber: 343
              },
              __self: this
            },
            '...'
          ),
          breakClassName: "break-me",
          pageCount: this.state.total > 0 ? this.state.total / 20 : 0,
          marginPagesDisplayed: 2,
          pageRangeDisplayed: 5,
          onPageChange: this.handlePageClick.bind(this),
          containerClassName: "pagination",
          subContainerClassName: "pages pagination",
          activeClassName: "active", __source: {
            fileName: _jsxFileName,
            lineNumber: 341
          },
          __self: this
        })
      );
    }
  }]);
  return DepositHistoryPage;
}(_react.Component), _class2.propTypes = {
  asyncGetDepositHistory: _propTypes2.default.func.isRequired
}, _temp)) || _class);
exports.default = DepositHistoryPage;

});

require.register("containers/loggedIn.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LoggedInPage = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _jsxFileName = 'app/containers/loggedIn.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _redux = require('redux');

var _my_decorators = require('my_decorators');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LoggedInPage = exports.LoggedInPage = function (_Component) {
  (0, _inherits3.default)(LoggedInPage, _Component);

  function LoggedInPage() {
    (0, _classCallCheck3.default)(this, LoggedInPage);
    return (0, _possibleConstructorReturn3.default)(this, (LoggedInPage.__proto__ || (0, _getPrototypeOf2.default)(LoggedInPage)).apply(this, arguments));
  }

  (0, _createClass3.default)(LoggedInPage, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'login', __source: {
            fileName: _jsxFileName,
            lineNumber: 11
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { style: { background: 'white' }, __source: {
              fileName: _jsxFileName,
              lineNumber: 12
            },
            __self: this
          },
          'You are logged in!'
        )
      );
    }
  }]);
  return LoggedInPage;
}(_react.Component);

function mapStateToProps(state) {
  return {
    loginState: state.login
  };
}

function mapDispatchToProps(dispatch) {
  return;
}

exports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(LoggedInPage);

});

require.register("containers/loginPage.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec,
    _class,
    _class2,
    _temp,
    _jsxFileName = 'app/containers/loginPage.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRedux = require('react-redux');

var _redux = require('redux');

var _my_decorators = require('my_decorators');

var _loginCard = require('../components/loginCard');

var _loginCard2 = _interopRequireDefault(_loginCard);

var _application = require('../actions/application');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mapStateToProps = function mapStateToProps(state) {
  return {
    loginState: state.login
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    asyncLogin: function asyncLogin() {
      return dispatch(_application.login.apply(undefined, arguments));
    }
  };
};

var LoginPage = (_dec = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps), _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(LoginPage, _Component);

  function LoginPage() {
    (0, _classCallCheck3.default)(this, LoginPage);
    return (0, _possibleConstructorReturn3.default)(this, (LoginPage.__proto__ || (0, _getPrototypeOf2.default)(LoginPage)).apply(this, arguments));
  }

  (0, _createClass3.default)(LoginPage, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      localStorage.setItem('auth', '');
      localStorage.removeItem('crossmark'); //temporary to remove crossmark from any current user, since we no longer use localstorage for crossmark prefixes
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          actions = _props.actions,
          loginState = _props.loginState,
          asyncLogin = _props.asyncLogin;

      var _ref = actions || {},
          login = _ref.login;

      return _react2.default.createElement(
        'div',
        { className: 'login', __source: {
            fileName: _jsxFileName,
            lineNumber: 39
          },
          __self: this
        },
        _react2.default.createElement(_loginCard2.default, {
          onLogin: asyncLogin,
          loginState: loginState, __source: {
            fileName: _jsxFileName,
            lineNumber: 40
          },
          __self: this
        })
      );
    }
  }]);
  return LoginPage;
}(_react.Component), _class2.propTypes = {}, _temp)) || _class);
exports.default = LoginPage;

});

require.register("containers/modal.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec,
    _class,
    _class2,
    _temp,
    _jsxFileName = 'app/containers/modal.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRedux = require('react-redux');

var _my_decorators = require('my_decorators');

var _application = require('../actions/application');

var _modal = require('../components/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mapStateToProps = function mapStateToProps(state) {
  return {
    modalState: state.modal
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    reduxControlModal: function reduxControlModal() {
      return dispatch(_application.controlModal.apply(undefined, arguments));
    }
  };
};

var ModalContainer = (_dec = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps), _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(ModalContainer, _Component);

  function ModalContainer() {
    (0, _classCallCheck3.default)(this, ModalContainer);
    return (0, _possibleConstructorReturn3.default)(this, (ModalContainer.__proto__ || (0, _getPrototypeOf2.default)(ModalContainer)).apply(this, arguments));
  }

  (0, _createClass3.default)(ModalContainer, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(_modal2.default, (0, _extends3.default)({}, this.props, {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 31
        },
        __self: this
      }));
    }
  }]);
  return ModalContainer;
}(_react.Component), _class2.propTypes = {
  modalState: _propTypes2.default.object.isRequired,
  reduxControlModal: _propTypes2.default.func.isRequired
}, _temp)) || _class);
exports.default = ModalContainer;

});

require.register("containers/publicationCard.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec,
    _class,
    _class2,
    _temp,
    _jsxFileName = 'app/containers/publicationCard.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redux = require('redux');

var _reactRouter = require('react-router');

var _reactRedux = require('react-redux');

var _routing = require('../routing');

var _xmldoc = require('../utilities/xmldoc');

var _xmldoc2 = _interopRequireDefault(_xmldoc);

var _application = require('../actions/application');

var _addPublicationCard = require('../components/addPublicationCard');

var _addPublicationCard2 = _interopRequireDefault(_addPublicationCard);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mapStateToProps = function mapStateToProps(state, props) {
  return {
    publication: state.publications[props.doi] || state.publications[props.doi.toLowerCase()],
    crossmarkPrefixes: state.login['crossmark-prefixes']
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return (0, _redux.bindActionCreators)({
    reduxControlModal: _application.controlModal,
    asyncSubmitPublication: _application.submitPublication
  }, dispatch);
};

var PublicationCardContainer = (_dec = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps), _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(PublicationCardContainer, _Component);

  function PublicationCardContainer() {
    (0, _classCallCheck3.default)(this, PublicationCardContainer);

    var _this = (0, _possibleConstructorReturn3.default)(this, (PublicationCardContainer.__proto__ || (0, _getPrototypeOf2.default)(PublicationCardContainer)).call(this));

    _this.openEditPublicationModal = function () {
      var publication = _this.props.publication;
      if (!publication) return console.error(_this.props.doi + ' is not fetching from server');
      var parsedXMLContent = (0, _xmldoc2.default)(publication.message.content);
      var savedMetaData = (0, _extends3.default)({}, parsedXMLContent, { 'mdt-version': publication.message['mdt-version']
      });

      _this.props.reduxControlModal({
        showModal: true,
        title: 'Edit Journal Record',
        Component: _addPublicationCard2.default,
        props: (0, _extends3.default)({}, savedMetaData, {
          asyncSubmitPublication: _this.props.asyncSubmitPublication,
          crossmarkPrefixes: _this.props.crossmarkPrefixes
        })
      });
    };

    _this.renderLoadingCard = function () {
      return {
        message: {
          type: '',
          doi: _this.props.doi,
          title: { title: 'loading...' }
        }
      };
    };

    var backgroundIndex = Math.floor(Math.random() * backgrounds.length) % backgrounds.length;
    var background = backgrounds[backgroundIndex];
    _this.state = { mouseOver: false, overEdit: false, background: background };
    return _this;
  }

  (0, _createClass3.default)(PublicationCardContainer, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var publication = this.props.publication || this.renderLoadingCard();
      var publicationContents = publication.message;
      var type = publicationContents.type;
      var title = publicationContents.title.title;
      var style = this.state.mouseOver ? { backgroundColor: '#3f4746' } : {
        background: 'url(\'' + this.state.background + '\') no-repeat center center',
        backgroundSize: 'contain'
      };
      var whiteText = this.state.mouseOver ? { color: 'white' } : null;
      return _react2.default.createElement(
        _reactRouter.Link,
        { to: this.state.overEdit ? null : _routing.routes.publications + '/' + encodeURIComponent(this.props.doi), className: 'publication-card', __source: {
            fileName: _jsxFileName,
            lineNumber: 83
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'card',
            style: style,
            onMouseOver: function onMouseOver() {
              return _this2.setState({ mouseOver: true });
            },
            onMouseLeave: function onMouseLeave() {
              return _this2.setState({ mouseOver: false });
            },
            __source: {
              fileName: _jsxFileName,
              lineNumber: 84
            },
            __self: this
          },
          _react2.default.createElement(
            'div',
            { style: whiteText, className: 'publication-type', __source: {
                fileName: _jsxFileName,
                lineNumber: 89
              },
              __self: this
            },
            type
          ),
          _react2.default.createElement(
            'div',
            { style: whiteText, className: 'publication-name', __source: {
                fileName: _jsxFileName,
                lineNumber: 90
              },
              __self: this
            },
            title
          ),
          this.state.mouseOver && _react2.default.createElement(
            'button',
            {
              onMouseOver: function onMouseOver() {
                return _this2.setState({ overEdit: true });
              },
              onMouseLeave: function onMouseLeave() {
                return _this2.setState({ overEdit: false });
              },
              onClick: this.openEditPublicationModal,
              className: 'publication-edit',
              __source: {
                fileName: _jsxFileName,
                lineNumber: 91
              },
              __self: this
            },
            'Edit'
          )
        )
      );
    }
  }]);
  return PublicationCardContainer;
}(_react.Component), _class2.propTypes = {
  reduxControlModal: _propTypes2.default.func.isRequired,
  asyncSubmitPublication: _propTypes2.default.func.isRequired,
  doi: _propTypes2.default.string.isRequired,
  publication: _propTypes2.default.object,
  crossmarkPrefixes: _propTypes2.default.array.isRequired
}, _temp)) || _class);
exports.default = PublicationCardContainer;


var backgrounds = ['images/Publications/PublicationButtonArtLarge_Publication Art 1.svg', 'images/Publications/PublicationButtonArtLarge_Publication Art 2.svg', 'images/Publications/PublicationButtonArtLarge_Publication Art 3.svg'];

});

require.register("containers/publicationPage.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _stringify = require('babel-runtime/core-js/json/stringify');

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec,
    _class,
    _class2,
    _temp2,
    _jsxFileName = 'app/containers/publicationPage.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouter = require('react-router');

var _reactRedux = require('react-redux');

var _redux = require('redux');

var _my_decorators = require('my_decorators');

var _application = require('../actions/application');

var _fetch = require('../utilities/fetch');

var _fetch2 = _interopRequireDefault(_fetch);

var _publication = require('../components/Publication/publication');

var _publication2 = _interopRequireDefault(_publication);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mapStateToProps = function mapStateToProps(state, props) {
  return {
    publication: state.publications[props.routeParams.doi] || state.publications[props.routeParams.doi.toLowerCase()],
    cart: state.cart,
    search: state.search
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return (0, _redux.bindActionCreators)({
    reduxControlModal: _application.controlModal,
    asyncGetPublications: _application.getPublications,
    asyncDeleteRecord: _application.deleteRecord,
    reduxCartUpdate: _application.cartUpdate,
    reduxClearCart: _application.clearCart,
    asyncSearchRecords: _application.searchRecords,
    asyncGetItem: _application.getItem
  }, dispatch);
};

var PublicationPage = (_dec = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps), _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(PublicationPage, _Component);

  function PublicationPage() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, PublicationPage);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = PublicationPage.__proto__ || (0, _getPrototypeOf2.default)(PublicationPage)).call.apply(_ref, [this].concat(args))), _this), _this.state = { serverError: null }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(PublicationPage, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      this.props.asyncGetPublications(this.props.routeParams.doi, undefined, function (error) {
        _this2.setState({ serverError: error });
      });
    }
  }, {
    key: 'fetchIssue',
    value: function fetchIssue(doi, callback) {
      return (0, _fetch2.default)('http://mdt.crossref.org/mdt/v1/work?doi=' + doi, { headers: { Authorization: localStorage.getItem('auth') } }).then(function (doi) {
        return doi.json();
      }).then(function (doi) {
        return callback(doi);
      }).catch(function (reason) {
        console.warn('ERROR in publicationPage fetchIssue()', reason);
      });
    }
  }, {
    key: 'postIssue',
    value: function postIssue(publication, callback) {
      return (0, _fetch2.default)('http://mdt.crossref.org/mdt/v1/work', { // using isomorphic-fetch directly here, React is NOT passing the action everytime
        method: 'post',
        headers: { Authorization: localStorage.getItem('auth') },
        body: (0, _stringify2.default)(publication)
      }).then(function (response) {
        if (callback) return callback();
      }).catch(function (reason) {
        console.error('ERROR in publicationPage postIssue()', reason);
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var doi = this.props.routeParams.doi;

      return _react2.default.createElement(
        'div',
        {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 83
          },
          __self: this
        },
        this.props.publication ? _react2.default.createElement(_publication2.default, {
          ownerPrefix: doi.split('/')[0],
          asyncDeleteRecord: this.props.asyncDeleteRecord,
          asyncSearchRecords: this.props.asyncSearchRecords,
          search: this.props.search,
          asyncGetItem: this.props.asyncGetItem,
          cart: this.props.cart,
          publication: this.props.publication,
          handle: this.props.asyncGetPublications,
          reduxControlModal: this.props.reduxControlModal,
          reduxCartUpdate: this.props.reduxCartUpdate,
          fetchIssue: this.fetchIssue.bind(this),
          triggerModal: this.props.location.query.modal ? this.props.location.query.modal : undefined,
          postIssue: this.postIssue.bind(this),
          __source: {
            fileName: _jsxFileName,
            lineNumber: 85
          },
          __self: this
        }) : _react2.default.createElement(
          'div',
          {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 100
            },
            __self: this
          },
          _react2.default.createElement('br', {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 101
            },
            __self: this
          }),
          _react2.default.createElement('br', {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 101
            },
            __self: this
          }),
          _react2.default.createElement('br', {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 101
            },
            __self: this
          }),
          ' ',
          this.state.serverError ? _react2.default.createElement(
            'div',
            {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 103
              },
              __self: this
            },
            'Sorry, this DOI (',
            doi,
            ') is not retrieving a publication... ',
            _react2.default.createElement('br', {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 103
              },
              __self: this
            }),
            _react2.default.createElement('br', {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 103
              },
              __self: this
            }),
            ' Error: ',
            this.state.serverError,
            ' '
          ) : _react2.default.createElement(
            'div',
            {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 104
              },
              __self: this
            },
            'Loading...'
          )
        )
      );
    }
  }]);
  return PublicationPage;
}(_react.Component), _class2.propTypes = {
  reduxControlModal: _propTypes2.default.func.isRequired,
  asyncGetPublications: _propTypes2.default.func.isRequired,
  asyncSearchRecords: _propTypes2.default.func.isRequired,
  asyncGetItem: _propTypes2.default.func.isRequired,
  search: _propTypes2.default.object.isRequired,
  asyncDeleteRecord: _propTypes2.default.func.isRequired,
  routeParams: _propTypes2.default.shape({
    doi: _propTypes2.default.string.isRequired
  }).isRequired,
  publication: _propTypes2.default.object
}, _temp2)) || _class);
exports.default = PublicationPage;

});

require.register("containers/publicationsPage.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec,
    _class,
    _class2,
    _temp2,
    _jsxFileName = 'app/containers/publicationsPage.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRedux = require('react-redux');

var _redux = require('redux');

var _my_decorators = require('my_decorators');

var _application = require('../actions/application');

var _publications = require('../components/publications');

var _publications2 = _interopRequireDefault(_publications);

var _search = require('../components/search');

var _search2 = _interopRequireDefault(_search);

var _addPublicationCard = require('../components/addPublicationCard');

var _addPublicationCard2 = _interopRequireDefault(_addPublicationCard);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mapStateToProps = function mapStateToProps(state) {
  return {
    DOIs: state.dois,
    searchResults: state.search.result,
    loading: state.search.loading,
    crossmarkPrefixes: state.login['crossmark-prefixes'],
    prefixes: state.login.prefixes
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return (0, _redux.bindActionCreators)({
    reduxControlModal: _application.controlModal,
    reduxAddDOIs: _application.addDOIs,
    asyncGetPublications: _application.getPublications,
    asyncSubmitPublication: _application.submitPublication,
    asyncSearch: _application.search,
    cartUpdate: _application.cartUpdate
  }, dispatch);
};

var PublicationsPage = (_dec = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps), _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(PublicationsPage, _Component);

  function PublicationsPage() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, PublicationsPage);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = PublicationsPage.__proto__ || (0, _getPrototypeOf2.default)(PublicationsPage)).call.apply(_ref, [this].concat(args))), _this), _this.openAddPublicationModal = function () {
      return _this.props.reduxControlModal({
        showModal: true,
        title: 'Create Journal Record',
        Component: _addPublicationCard2.default,
        props: {
          reduxAddDOIs: _this.props.reduxAddDOIs,
          asyncSubmitPublication: _this.props.asyncSubmitPublication,
          crossmarkPrefixes: _this.props.crossmarkPrefixes,
          prefixes: _this.props.prefixes
        }
      });
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(PublicationsPage, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      //Usually you don't want async actions in WillMount because they could ask this component to reRender before its mounted, but I know this comp isn't subscribed to publications data
      if (this.props.DOIs.length) this.props.asyncGetPublications(this.props.DOIs);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.DOIs.length !== nextProps.DOIs.length) this.props.asyncGetPublications(nextProps.DOIs);
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          searchResults = _props.searchResults,
          asyncSearch = _props.asyncSearch,
          loading = _props.loading,
          DOIs = _props.DOIs,
          reduxAddDOIs = _props.reduxAddDOIs,
          reduxControlModal = _props.reduxControlModal,
          asyncSubmitPublication = _props.asyncSubmitPublication;

      return _react2.default.createElement(
        'div',
        { className: 'publications', __source: {
            fileName: _jsxFileName,
            lineNumber: 71
          },
          __self: this
        },
        _react2.default.createElement(
          'div',
          { className: 'management-bar', __source: {
              fileName: _jsxFileName,
              lineNumber: 72
            },
            __self: this
          },
          _react2.default.createElement(_search2.default, {
            asyncSearch: asyncSearch,
            results: searchResults,
            loading: loading,
            reduxAddDOIs: reduxAddDOIs,
            reduxControlModal: reduxControlModal,
            asyncSubmitPublication: asyncSubmitPublication,
            crossmarkPrefixes: this.props.crossmarkPrefixes, __source: {
              fileName: _jsxFileName,
              lineNumber: 73
            },
            __self: this
          }),
          _react2.default.createElement(
            'button',
            {
              className: 'addPublication',
              onClick: this.openAddPublicationModal,
              __source: {
                fileName: _jsxFileName,
                lineNumber: 81
              },
              __self: this
            },
            'New Publication'
          )
        ),
        DOIs.length ? _react2.default.createElement(_publications2.default, { dois: DOIs, __source: {
            fileName: _jsxFileName,
            lineNumber: 88
          },
          __self: this
        }) : _react2.default.createElement(
          'div',
          { className: 'empty-message', __source: {
              fileName: _jsxFileName,
              lineNumber: 89
            },
            __self: this
          },
          'No publications, please create one!'
        )
      );
    }
  }]);
  return PublicationsPage;
}(_react.Component), _class2.propTypes = {
  DOIs: _propTypes2.default.array.isRequired,
  searchResults: _propTypes2.default.array,
  reduxControlModal: _propTypes2.default.func.isRequired,
  reduxAddDOIs: _propTypes2.default.func.isRequired,
  asyncGetPublications: _propTypes2.default.func.isRequired,
  asyncSubmitPublication: _propTypes2.default.func.isRequired,
  asyncSearch: _propTypes2.default.func.isRequired,
  cartUpdate: _propTypes2.default.func.isRequired,
  crossmarkPrefixes: _propTypes2.default.array.isRequired,
  prefixes: _propTypes2.default.array.isRequired
}, _temp2)) || _class);
exports.default = PublicationsPage;

});

require.register("containers/reduxRelay.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec,
    _class,
    _jsxFileName = 'app/containers/reduxRelay.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _redux = require('redux');

var _my_decorators = require('my_decorators');

var _application = require('../actions/application');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mapStateToProps = function mapStateToProps(state) {
  if (state.reduxForm.submit) {
    return {
      reduxForm: state.reduxForm
    };
  } else return {};
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return (0, _redux.bindActionCreators)({
    reduxEditForm: _application.editForm,
    authenticate: _application.authenticate
  }, dispatch);
};

var ReduxRelay = (_dec = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps), _dec(_class = function (_Component) {
  (0, _inherits3.default)(ReduxRelay, _Component);

  function ReduxRelay() {
    (0, _classCallCheck3.default)(this, ReduxRelay);
    return (0, _possibleConstructorReturn3.default)(this, (ReduxRelay.__proto__ || (0, _getPrototypeOf2.default)(ReduxRelay)).apply(this, arguments));
  }

  (0, _createClass3.default)(ReduxRelay, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (nextProps.reduxForm && nextProps.reduxForm.submit) {
        nextProps.reduxForm.submit(nextProps.reduxForm);
        this.props.reduxEditForm({ submit: false });
      }
    }
  }, {
    key: 'render',
    value: function render() {

      return _react2.default.createElement(
        'button',
        { onClick: this.props.authenticate, __source: {
            fileName: _jsxFileName,
            lineNumber: 37
          },
          __self: this
        },
        'Test'
      );
    }
  }]);
  return ReduxRelay;
}(_react.Component)) || _class);
exports.default = ReduxRelay;

});

require.register("index.js", function(exports, require, module) {
'use strict';

var _jsxFileName = 'app/index.js'; //import 'babel-polyfill'

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRouter = require('react-router');

var _reactRouterRedux = require('react-router-redux');

var _reactRedux = require('react-redux');

var _my_decorators = require('my_decorators');

var _store = require('./store');

var _store2 = _interopRequireDefault(_store);

var _routing = require('./routing');

var _routing2 = _interopRequireDefault(_routing);

var _application = require('./actions/application');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(0, _my_decorators.setConfig)({
  stateTracker: false,
  updateReports: { mount: false, update: true, pass: false, render: false }
});

var store = (0, _store2.default)();
var history = (0, _reactRouterRedux.syncHistoryWithStore)(_reactRouter.browserHistory, store);

if (_reactRouter.browserHistory.getCurrentLocation().pathname !== '/mdt/') {
  store.dispatch((0, _application.getCRState)());
}

document.addEventListener('DOMContentLoaded', function () {
  _reactDom2.default.render(_react2.default.createElement(
    _reactRedux.Provider,
    { store: store, __source: {
        fileName: _jsxFileName,
        lineNumber: 28
      },
      __self: undefined
    },
    _react2.default.createElement(
      'div',
      {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 29
        },
        __self: undefined
      },
      _my_decorators.myDecConfig.stateTracker && _react2.default.createElement(_my_decorators.STContainer, {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 30
        },
        __self: undefined
      }),
      _react2.default.createElement(
        _reactRouter.Router,
        { history: history, basename: 'mdt', __source: {
            fileName: _jsxFileName,
            lineNumber: 31
          },
          __self: undefined
        },
        (0, _routing2.default)(store)
      )
    )
  ), document.querySelector('#root'));
});

});

require.register("middleware/remote-sync.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _stringify = require('babel-runtime/core-js/json/stringify');

var _stringify2 = _interopRequireDefault(_stringify);

var _fetch = require('../utilities/fetch');

var _fetch2 = _interopRequireDefault(_fetch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var blacklistActions = ['SET_STATE', // We don't want to sync back what we just got
'SET_AUTH_BEARER', // Setting a new auth token shouldn't over-write the existing state
'PUBLICATIONS', 'MODAL', 'GET_CART', 'GET_ITEM', 'REDUXFORM_ADD', 'REDUXFORM_CLEAR', 'SEARCH_RESULT', 'SEARCH_STATUS', 'SEARCH_VALUE', 'LOGIN'];

var BREAKER_ACTION = 'SET_STATE';
var pendingAction = false;
var breakerActionSeen = false;

exports.default = function (store) {
  return function (next) {
    return function (action) {
      var nextState = next(action); // update store to next state first

      if (action) {

        var actionType = action.type;
        var authHeader = localStorage.getItem('auth');

        if (!breakerActionSeen && actionType === BREAKER_ACTION) {
          breakerActionSeen = true;
          console.log('Breaker action called, enabling posting state to backend');
          // If a pending action is active, that takes priority
          actionType = pendingAction || actionType;
        }

        if (actionType && !actionType.startsWith('@@redux-api@') && blacklistActions.indexOf(actionType) === -1) {
          if (!breakerActionSeen) {
            pendingAction = actionType;
            console.log('Pending ' + actionType);
          } else if (authHeader) {
            var reduxState = store.getState();
            var postingState = {};

            for (var property in reduxState) {
              if (reduxState.hasOwnProperty(property) && !reduxState[property].hasOwnProperty('sync')) {
                if ( //scrub data being synced to server
                property !== 'modal' && property !== 'reduxForm' && property !== 'search') postingState[property] = reduxState[property];
              }
            }
            //Scrub dois array
            postingState.dois = postingState.dois.filter(function (element) {
              return element ? true : false;
            });
            postingState.dois = removeDuplicates(postingState.dois);

            console.warn('Syncing to remote store:', pendingAction || actionType, postingState);
            (0, _fetch2.default)('http://mdt.crossref.org/mdt/v1/state', {
              method: 'POST',
              headers: { Authorization: authHeader },
              body: (0, _stringify2.default)(postingState)
            });

            // Reset pending state
            pendingAction = false;
          }
        }
      }

      return nextState;
    };
  };
};

var isEmpty = function isEmpty(obj) {
  for (var key in obj) {
    if (obj.hasOwnProperty(key)) {
      return false;
    }
  }
  return true;
};

function removeDuplicates(a) {
  var seen = {};
  var out = [];
  var len = a.length;
  var j = 0;
  for (var i = 0; i < len; i++) {
    var item = a[i];
    if (seen[item] !== 1) {
      seen[item] = 1;
      out[j++] = item;
    }
  }
  return out;
}

});

;require.register("post-css/mixins.js", function(exports, require, module) {
'use strict';

// src/mixins.js
var globalMixins = {
  /* noSelect is a static mixin  */
  noSelect: {
    '-webkit-touch-callout': 'none',
    '-webkit-user-select': 'none',
    '-khtml-user-select': 'none',
    '-moz-user-select': 'none',
    '-ms-user-select': 'none',
    'user-select': 'none'
  },
  /* OpenSans is a dynamic mixin  */
  OpenSans: function OpenSans(obj, value) {
    return {
      'font-family': 'Open Sans, sans-serif',
      'font-style': 'normal',
      'font-size': value,
      'font-weight': 200,
      '-webkit-font-smoothing': 'antialiased',
      '-moz-osx-font-smoothing': 'grayscale'
    };
  }
};
module.exports = globalMixins;

});

require.register("post-css/variables.js", function(exports, require, module) {
'use strict';

// src/variables.js
var globalVariable = {
  primary: 'blue'
};
module.exports = globalVariable;

});

require.register("reducers/index.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _reactRouterRedux = require('react-router-redux');

var _redux = require('redux');

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var combinedReducers = (0, _redux.combineReducers)({
  search: searchReducer,
  login: loginReducer,
  routing: _reactRouterRedux.routerReducer,
  modal: modalReducer,
  publications: publicationsReducer,
  dois: doiReducer,
  reduxForm: reduxFormReducer,
  cart: cartReducer
});

exports.default = function (state, action) {

  switch (action.type) {
    case 'SET_STATE':
      return (0, _extends3.default)({}, state, action.payload);
    default:
      return combinedReducers(state, action) || state || {};
  }
};

function loginReducer() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { 'crossmark-prefixes': [], prefixes: [] };
  var action = arguments[1];

  switch (action.type) {
    case 'LOGIN':
      return (0, _extends3.default)({}, state, action.data);
    default:
      return state;
  }
}

function searchReducer() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { loading: false, searchValue: '', result: [] };
  var action = arguments[1];

  switch (action.type) {
    case 'SEARCH_RESULT':
      if (action.value === state.searchValue) {
        return (0, _extends3.default)({}, state, { result: action.result, loading: false });
      } else return state;
    case 'SEARCH_STATUS':
      return (0, _extends3.default)({}, state, { loading: action.status });
    case 'SEARCH_VALUE':
      return (0, _extends3.default)({}, state, { searchValue: action.value });
    default:
      return state;
  }
}

function reduxFormReducer() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { submit: false };
  var action = arguments[1];

  switch (action.type) {
    case 'REDUXFORM_ADD':
      return (0, _extends3.default)({}, state, action.keyVal);
    case 'REDUXFORM_CLEAR':
      return { submit: false };
    default:
      return state;
  }
}

function doiReducer() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments[1];

  switch (action.type) {
    case 'DOI_ADD':
      if (!action.doi) return state;
      if (Array.isArray(action.doi)) {
        filteredDois = action.doi.filter(function (element) {
          return element ? true : false;
        });
        return [].concat((0, _toConsumableArray3.default)(state), (0, _toConsumableArray3.default)(filteredDois));
      } else return [].concat((0, _toConsumableArray3.default)(state), [action.doi]);
    default:
      return state;
  }
}

function modalReducer() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
    showModal: false,
    title: '',
    style: 'defaultModal',
    Component: function Component() {},
    props: {}
  };
  var action = arguments[1];


  switch (action.type) {
    case 'MODAL':
      if (!action.modalObj.style) action.modalObj.style = 'defaultModal';
      return (0, _extends3.default)({}, state, action.modalObj);
    default:
      return state;
  }
}

function publicationsReducer() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments[1];

  switch (action.type) {
    case 'PUBLICATIONS':
      var publications = action.publications;

      var normalize = function normalize(publications) {
        //Redux likes normalized state: store items in an object, with the IDs of the items as keys and the items themselves as the values.
        var normalizedData = {};

        if (Array.isArray(publications)) {
          publications.forEach(function (eachPublication) {
            if (!eachPublication || !eachPublication.message || !eachPublication.message.doi) return console.warn('Had trouble retrieving data for a Publication', eachPublication || 'Empty Array Value');
            var normalizedRecords = {};

            if ((eachPublication.message.contains || []).length) {
              eachPublication.message.contains.forEach(function (eachRecord) {
                if (!eachRecord || !eachRecord.doi) return console.warn('Had trouble retrieving data for a Record', eachRecord || 'Empty Array Value');
                normalizedRecords[eachRecord.doi] = eachRecord;
              });
            }
            normalizedData[eachPublication.message.doi] = (0, _extends3.default)({}, eachPublication, { normalizedRecords: normalizedRecords });
          });
        } else if (publications.message.contains.length) {
          var normalizedRecords = {};

          publications.message.contains.forEach(function (eachRecord) {
            if (!eachRecord || !eachRecord.doi) return console.warn('Had trouble retrieving data for a Record', eachRecord || 'Empty Array Value');
            normalizedRecords[eachRecord.doi] = eachRecord;
          });
          normalizedData[eachPublication.message.doi] = (0, _extends3.default)({}, publications, { normalizedRecords: normalizedRecords });
        } else normalizedData[publications.message.doi] = publications;

        return normalizedData;
      };

      ;

      return (0, _extends3.default)({}, state, normalize(action.publications));
    default:
      return state;
  }
}

function cartReducer() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments[1];

  switch (action.type) {
    case 'CART_UPDATE':
      var newState = [].concat((0, _toConsumableArray3.default)(state));

      var mergeByDoi = function mergeByDoi(arr) {
        return (0, _lodash2.default)(arr).groupBy(function (item) {
          // group the items using the lower case
          return item.doi;
        }).map(function (group) {
          // map each group
          return _lodash2.default.mergeWith.apply(_lodash2.default, [{}].concat(group, function (obj, src) {
            // merge all items, and if a property is an array concat the content
            if (Array.isArray(obj)) {
              return obj.concat(src);
            }
          }));
        }).values() // get the values from the groupBy object
        .value();
      };

      newState.push(action.cart[0]);
      newState = mergeByDoi(newState); //does 2 things, removes dupes and also merge the content if there was 2 of the same that way there is more info if there is more info

      return [].concat((0, _toConsumableArray3.default)(newState));
    case 'REMOVE_FROM_CART':
      var removeIndex = _lodash2.default.findIndex(state, function (item) {
        return action.action.removeDoi === item.doi;
      });
      var newState = [].concat((0, _toConsumableArray3.default)(state));
      newState.splice(removeIndex, 1);
      return [].concat((0, _toConsumableArray3.default)(newState));
    case 'CLEAR_CART':
      var cart = [];
      return [].concat(cart);
    default:
      return state;
  }
}

});

;require.register("routing.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.routes = undefined;
var _jsxFileName = 'app/routing.js'; /* eslint-disable no-multiple-empty-lines,padded-blocks */

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _app = require('./containers/app');

var _app2 = _interopRequireDefault(_app);

var _articlesPage = require('./containers/articlesPage');

var _articlesPage2 = _interopRequireDefault(_articlesPage);

var _addArticlesPage = require('./containers/addArticlesPage');

var _addArticlesPage2 = _interopRequireDefault(_addArticlesPage);

var _loginPage = require('./containers/loginPage');

var _loginPage2 = _interopRequireDefault(_loginPage);

var _loggedIn = require('./containers/loggedIn');

var _loggedIn2 = _interopRequireDefault(_loggedIn);

var _publicationsPage = require('./containers/publicationsPage');

var _publicationsPage2 = _interopRequireDefault(_publicationsPage);

var _publicationPage = require('./containers/publicationPage');

var _publicationPage2 = _interopRequireDefault(_publicationPage);

var _depositCartPage = require('./containers/depositCartPage');

var _depositCartPage2 = _interopRequireDefault(_depositCartPage);

var _depositHistoryPage = require('./containers/depositHistoryPage');

var _depositHistoryPage2 = _interopRequireDefault(_depositHistoryPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// ------------------ Set base url here ------------------
var base = "/mdt";

var routes = exports.routes = {
  base: base || '/',
  loggedInPage: base + '/loggedin',
  publications: base + '/publications',
  publicationsModal: base + '/publications?modal=:doi',
  publication: base + '/publications/:doi',
  articles: base + '/articles',
  addArticle: base + '/publications/:pubDoi/addarticle',
  editArticle: base + '/publications/:pubDoi/addarticle/:articleDoi',
  addArticleUnderIssue: base + '/publications/:pubDoi/:issueDoi/addarticle',
  editArticleUnderIssue: base + '/publications/:pubDoi/:issueDoi/addarticle/:articleDoi',
  depositCart: base + '/cart',
  depositHistory: base + '/deposit-history'
};

exports.default = function () {

  return _react2.default.createElement(
    _reactRouter.Route,
    { path: routes.base, component: _app2.default, basename: 'mdt', __source: {
        fileName: _jsxFileName,
        lineNumber: 38
      },
      __self: undefined
    },
    _react2.default.createElement(_reactRouter.IndexRoute, { component: _loginPage2.default, __source: {
        fileName: _jsxFileName,
        lineNumber: 39
      },
      __self: undefined
    }),
    _react2.default.createElement(_reactRouter.Route, { path: routes.loggedInPage, component: _loggedIn2.default, __source: {
        fileName: _jsxFileName,
        lineNumber: 40
      },
      __self: undefined
    }),
    _react2.default.createElement(_reactRouter.Route, { path: routes.publications, component: _publicationsPage2.default, __source: {
        fileName: _jsxFileName,
        lineNumber: 41
      },
      __self: undefined
    }),
    _react2.default.createElement(_reactRouter.Route, { path: routes.publicationsModal, component: _publicationsPage2.default, __source: {
        fileName: _jsxFileName,
        lineNumber: 42
      },
      __self: undefined
    }),
    _react2.default.createElement(_reactRouter.Route, { path: routes.publication, component: _publicationPage2.default, __source: {
        fileName: _jsxFileName,
        lineNumber: 43
      },
      __self: undefined
    }),
    _react2.default.createElement(_reactRouter.Route, { path: routes.articles, component: _articlesPage2.default, __source: {
        fileName: _jsxFileName,
        lineNumber: 44
      },
      __self: undefined
    }),
    _react2.default.createElement(_reactRouter.Route, { path: routes.addArticle, component: _addArticlesPage2.default, __source: {
        fileName: _jsxFileName,
        lineNumber: 45
      },
      __self: undefined
    }),
    _react2.default.createElement(_reactRouter.Route, { path: routes.editArticle, component: _addArticlesPage2.default, __source: {
        fileName: _jsxFileName,
        lineNumber: 46
      },
      __self: undefined
    }),
    _react2.default.createElement(_reactRouter.Route, { path: routes.addArticleUnderIssue, component: _addArticlesPage2.default, __source: {
        fileName: _jsxFileName,
        lineNumber: 47
      },
      __self: undefined
    }),
    _react2.default.createElement(_reactRouter.Route, { path: routes.editArticleUnderIssue, component: _addArticlesPage2.default, __source: {
        fileName: _jsxFileName,
        lineNumber: 48
      },
      __self: undefined
    }),
    _react2.default.createElement(_reactRouter.Route, { path: routes.depositCart, component: _depositCartPage2.default, __source: {
        fileName: _jsxFileName,
        lineNumber: 49
      },
      __self: undefined
    }),
    _react2.default.createElement(_reactRouter.Route, { path: routes.depositHistory, component: _depositHistoryPage2.default, __source: {
        fileName: _jsxFileName,
        lineNumber: 50
      },
      __self: undefined
    })
  );
};

// Is ArticlesPage doing anything? Remove?

});

;require.register("store/index.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = configure;

var _history = require('history');

var _redux = require('redux');

var _reactRouter = require('react-router');

var _reduxThunk = require('redux-thunk');

var _reduxThunk2 = _interopRequireDefault(_reduxThunk);

var _reactRouterRedux = require('react-router-redux');

var _reducers = require('../reducers');

var _reducers2 = _interopRequireDefault(_reducers);

var _remoteSync = require('../middleware/remote-sync');

var _remoteSync2 = _interopRequireDefault(_remoteSync);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function configure() {
  var create = window.devToolsExtension ? window.devToolsExtension()(_redux.createStore) : _redux.createStore;

  var browserHistoryNew = (0, _reactRouter.useRouterHistory)(_history.createHistory)({
    basename: 'mdt'
  });

  var createStoreWithMiddleware = (0, _redux.applyMiddleware)(_reduxThunk2.default, (0, _reactRouterRedux.routerMiddleware)(browserHistoryNew), _remoteSync2.default)(create);

  var store = createStoreWithMiddleware(_reducers2.default);

  return store;
}

});

;require.register("utilities/appliesTo.json", function(exports, require, module) {
module.exports = [
    {'value':'vor', 'name':'Version of record'},
    {'value':'am', 'name':'Accepted Manuscript'},
    {'value':'tdm', 'name':'Text and Data Mining'}
];
});

require.register("utilities/archiveLocations.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.displayArchiveLocations = exports.ArchiveLocations = undefined;

var _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _jsxFileName = 'app/utilities/archiveLocations.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ArchiveLocations = exports.ArchiveLocations = [{ 'value': 'CLOCKSS', 'name': 'CLOCKSS' }, { 'value': 'LOCKSS', 'name': 'LOCKSS' }, { 'value': 'Portico', 'name': 'Portico' }, { 'value': 'KB', 'name': 'Koninklijke Bibliotheek' }, { 'value': 'Internet Archive', 'name': 'Internet Archive' }, { 'value': 'DWT', 'name': 'Deep Web Technologies' }];

var displayArchiveLocations = exports.displayArchiveLocations = function displayArchiveLocations(handler, value) {

    var locations = [_react2.default.createElement('option', { key: '-1', __source: {
            fileName: _jsxFileName,
            lineNumber: 15
        },
        __self: undefined
    })].concat((0, _toConsumableArray3.default)(ArchiveLocations.map(function (location, i) {
        return _react2.default.createElement(
            'option',
            { key: i, value: location.value, __source: {
                    fileName: _jsxFileName,
                    lineNumber: 16
                },
                __self: undefined
            },
            location.name
        );
    })));

    return _react2.default.createElement(
        'select',
        {
            ref: 'issue.archiveLocation',
            className: 'height32',
            name: 'issue.archiveLocation',
            onChange: function onChange(event) {
                return handler(event);
            },
            value: value,
            __source: {
                fileName: _jsxFileName,
                lineNumber: 20
            },
            __self: undefined
        },
        locations
    );
};

});

require.register("utilities/articleReviewGenerator.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
var _jsxFileName = 'app/utilities/articleReviewGenerator.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _archiveLocations = require('./archiveLocations');

var _objectSearch = require('./objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

var _parseXMLArticle = require('./parseXMLArticle');

var _parseXMLArticle2 = _interopRequireDefault(_parseXMLArticle);

var _getSubItems = require('./getSubItems');

var _xmldoc = require('./xmldoc');

var _xmldoc2 = _interopRequireDefault(_xmldoc);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Languages = require('./language.json');

var PublicationTypes = require('./publicationTypes.json');
var AppliesTo = require('./appliesTo.json');
var IdentifierTypes = require('./identifierTypes.json');


var articleReviewGenerator = function articleReviewGenerator(publication, article, parsedAlready, func) {
    var publicationMetaData = publication;
    if (publication.content) {
        publicationMetaData = (0, _xmldoc2.default)(publication.content);
    }

    var reviewData = article;
    if (!parsedAlready) {
        reviewData = (0, _parseXMLArticle2.default)(article);
    }

    var getFunding = function getFunding() {
        var funders = (0, _getSubItems.getSubmitSubItems)(reviewData.funding).map(function (funder, i) {
            var funderName = undefined;
            if (funder.fundername) {
                funderName = funder.fundername.trim().length > 0 ? funder.fundername : undefined;
            }

            var funder_identifier = undefined;
            if (funder.funder_identifier) {
                funder_identifier = funder.funder_identifier.trim().length > 0 ? funder.funder_identifier : undefined;
            }

            var attributes = '';
            if (funderName || funder_identifier) {
                //if an of these exist
                attributes = '' + funderName + (funder_identifier ? ': ' + funder_identifier : '');
                var grants = funder.grantNumbers.map(function (awardNumber, i) {
                    return awardNumber;
                });

                var fundgroup = _react2.default.createElement(
                    'p',
                    { key: i, __source: {
                            fileName: _jsxFileName,
                            lineNumber: 44
                        },
                        __self: undefined
                    },
                    attributes,
                    _react2.default.createElement('br', {
                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 44
                        },
                        __self: undefined
                    }),
                    grants.length > 0 ? 'Grant Numbers: ' + grants.join(', ') : ''
                );

                return fundgroup;
            }
        });

        return funders.join('').length > 0 ? funders : '';
    };

    var getLicense = function getLicense() {
        var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        var licenses = (0, _getSubItems.getSubmitSubItems)(reviewData.license).map(function (license, i) {

            var appliesto = _lodash2.default.find(AppliesTo, function (applyto) {
                if (applyto.value.trim().toLowerCase() === license.appliesto.trim().toLowerCase()) {
                    return applyto;
                }
            });
            var attributes = _react2.default.createElement(
                'span',
                { key: i, __source: {
                        fileName: _jsxFileName,
                        lineNumber: 62
                    },
                    __self: undefined
                },
                license.appliesto ? appliesto.name : '',
                ': ',
                license.licenseurl,
                ' (',
                license.acceptedDateDay,
                ', ',
                months[parseInt(license.acceptedDateMonth) - 1],
                ' ',
                license.acceptedDateYear,
                ') ',
                reviewData.addInfo.freetolicense === 'yes' ? ', Free to Read: Yes' : ', Free to Read: No',
                _react2.default.createElement('br', {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 64
                    },
                    __self: undefined
                })
            );
            return attributes;
        });
        return licenses.length > 0 ? licenses : '';
    };

    var getRelatedItems = function getRelatedItems() {
        var relatedItems = (0, _getSubItems.getSubmitSubItems)(reviewData.relatedItems).map(function (relatedItem, i) {
            var identifiertype = _lodash2.default.find(IdentifierTypes, function (identtype) {
                if (identtype.name.trim().toLowerCase() === relatedItem.identifierType.trim().toLowerCase()) {
                    return identtype;
                }
            });

            var attributes = _react2.default.createElement(
                'span',
                { key: i, __source: {
                        fileName: _jsxFileName,
                        lineNumber: 78
                    },
                    __self: undefined
                },
                relatedItem.relationType,
                ': ',
                identifiertype ? identifiertype.value : '',
                ' ',
                relatedItem.relatedItemIdentifier,
                ' ',
                relatedItem.description.length > 0 ? relatedItem.description : '',
                _react2.default.createElement('br', {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 78
                    },
                    __self: undefined
                })
            );

            if (relatedItem.description.length > 0 && relatedItem.relationType.length > 0 && relatedItem.relationType.length > 0 && relatedItem.relationType.length > 0) {
                return attributes;
            }
        });
        return relatedItems.length > 0 ? relatedItems : '';
    };

    var getAddInfo = function getAddInfo() {
        var retInfo = [];
        if (reviewData.addInfo.similarityCheckURL.length > 0) {
            retInfo.push(_react2.default.createElement(
                'span',
                {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 90
                    },
                    __self: undefined
                },
                'Similarity Check URL: ',
                reviewData.addInfo.similarityCheckURL,
                _react2.default.createElement('br', {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 90
                    },
                    __self: undefined
                })
            ));
        }
        if (reviewData.addInfo.archiveLocation.length > 0) {
            var arLoc = _lodash2.default.find(_archiveLocations.ArchiveLocations, function (archiveLocation) {
                if (archiveLocation.value.trim().toLowerCase() === reviewData.addInfo.archiveLocation.trim().toLowerCase()) {
                    return archiveLocation;
                }
            });
            retInfo.push(_react2.default.createElement(
                'span',
                {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 98
                    },
                    __self: undefined
                },
                'Archive Location: ',
                arLoc.name,
                _react2.default.createElement('br', {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 98
                    },
                    __self: undefined
                })
            ));
        }
        if (reviewData.addInfo.language.length > 0) {
            var lang = _lodash2.default.find(Languages, function (language) {
                if (language.abbr.trim().toLowerCase() === reviewData.addInfo.language.trim().toLowerCase()) {
                    return language;
                }
            });
            retInfo.push(_react2.default.createElement(
                'span',
                {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 106
                    },
                    __self: undefined
                },
                'Language: ',
                lang.name,
                _react2.default.createElement('br', {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 106
                    },
                    __self: undefined
                })
            ));
        }

        if (reviewData.addInfo.publicationType.length > 0) {
            var pt = _lodash2.default.find(PublicationTypes, function (pubType) {
                if (pubType.value.trim().toLowerCase() === reviewData.addInfo.publicationType.trim().toLowerCase()) {
                    return pubType;
                }
            });
            retInfo.push(_react2.default.createElement(
                'span',
                {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 115
                    },
                    __self: undefined
                },
                'Publication Type: ',
                pt.name
            ));
        }
        return retInfo.length > 0 ? retInfo : '';
    };

    var getPages = function getPages() {
        var retStr = '';
        if (reviewData.article.firstPage.trim().length > 0 || reviewData.article.lastPage.trim().length > 0) {
            retStr = retStr + ', ';
            if (reviewData.article.firstPage.trim().length > 0) {
                retStr = retStr + reviewData.article.firstPage;
            }
            if (reviewData.article.firstPage.trim().length > 0 && reviewData.article.lastPage.trim().length > 0) {
                retStr = retStr + '-';
            }
            if (reviewData.article.lastPage.trim().length > 0) {
                retStr = retStr + reviewData.article.lastPage;
            }
            retStr = retStr + '. ';
        }
        return retStr;
    };

    var publicationAbbrevTitle = (0, _objectSearch2.default)(publicationMetaData, 'abrev_title');
    var pubAbbrTitle = '';
    if (publicationAbbrevTitle) {
        if (publicationAbbrevTitle.trim().length > 0) {
            pubAbbrTitle = ' ' + publicationAbbrevTitle.trim();
        }
    }

    var contributors = (0, _getSubItems.getSubmitSubItems)(reviewData.contributors).map(function (contributor) {
        var contributorName = contributor.firstName + ' ' + contributor.lastName;
        var contributorGroupName = contributor.groupAuthorName;
        if (contributorName.trim().length > 0 || contributorGroupName.trim().length) {
            if (contributorName.trim().length > 0) {
                return contributorName;
            } else if (contributorGroupName.trim().length > 0) {
                return contributorGroupName;
            }
        }
    }).join(', ');

    contributors = contributors.length > 0 ? contributors + ', et al.' : '';

    var onlineDate = reviewData.article.onlineDateYear.length > 0 ? ' (' + reviewData.article.onlineDateYear + '), ' : '';
    var title = reviewData.article.title.length > 0 ? reviewData.article.title + '.' : '';

    var doi = reviewData.article.doi.length > 0 ? ' DOI: ' + reviewData.article.doi + '. ' : '';
    var url = reviewData.article.url ? ' ' + reviewData.article.url + ' ' : '';
    var locationId = reviewData.article.locationId.length > 0 ? ' ' + reviewData.article.locationId : '';

    var generalHeading = contributors + onlineDate + title + pubAbbrTitle + locationId + getPages() + doi + url;

    var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];

    return _react2.default.createElement(
        'div',
        { className: 'ReviewArticleCard', __source: {
                fileName: _jsxFileName,
                lineNumber: 175
            },
            __self: undefined
        },
        _react2.default.createElement(
            'div',
            {
                __source: {
                    fileName: _jsxFileName,
                    lineNumber: 176
                },
                __self: undefined
            },
            func ? _react2.default.createElement(
                'div',
                {
                    __source: {
                        fileName: _jsxFileName,
                        lineNumber: 179
                    },
                    __self: undefined
                },
                _react2.default.createElement(
                    'button',
                    { className: 'addToCart', onClick: func, __source: {
                            fileName: _jsxFileName,
                            lineNumber: 180
                        },
                        __self: undefined
                    },
                    'Add To Cart'
                )
            ) : '',
            _react2.default.createElement(
                'div',
                { className: 'reviewArticle', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 184
                    },
                    __self: undefined
                },
                _react2.default.createElement(
                    'div',
                    { className: 'firstBorder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 185
                        },
                        __self: undefined
                    },
                    _react2.default.createElement('div', { className: 'innerBorder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 186
                        },
                        __self: undefined
                    })
                ),
                _react2.default.createElement(
                    'div',
                    { className: 'secondBorder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 188
                        },
                        __self: undefined
                    },
                    _react2.default.createElement('div', { className: 'innerBorder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 189
                        },
                        __self: undefined
                    })
                ),
                _react2.default.createElement(
                    'div',
                    { className: 'reviewContent', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 191
                        },
                        __self: undefined
                    },
                    _react2.default.createElement(
                        'h4',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 192
                            },
                            __self: undefined
                        },
                        'General'
                    ),
                    _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 193
                            },
                            __self: undefined
                        },
                        generalHeading
                    ),
                    reviewData.article.onlineDateYear.length > 0 || reviewData.article.onlineDateMonth.length > 0 || reviewData.article.onlineDateDay.length > 0 || reviewData.article.printDateYear.length > 0 || reviewData.article.printDateMonth.length > 0 || reviewData.article.printDateDay.length > 0 || reviewData.article.acceptedDateYear.length > 0 || reviewData.article.acceptedDateMonth.length > 0 || reviewData.article.acceptedDateDay.length > 0 ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 198
                            },
                            __self: undefined
                        },
                        reviewData.article.printDateYear.length > 0 || reviewData.article.printDateMonth.length > 0 || reviewData.article.printDateDay.length > 0 ? 'Print: ' + (reviewData.article.printDateDay.length > 0 ? reviewData.article.printDateDay : '') + (reviewData.article.printDateMonth.length > 0 && reviewData.article.printDateYear.length > 0 ? ', ' : '') + (reviewData.article.printDateMonth.length > 0 ? ' ' + months[parseInt(reviewData.article.printDateMonth) - 1] : '') + (reviewData.article.printDateYear.length > 0 ? ' ' + reviewData.article.printDateYear : '') : '',
                        (reviewData.article.onlineDateYear.length > 0 || reviewData.article.onlineDateMonth.length > 0 || reviewData.article.onlineDateDay.length > 0) && _react2.default.createElement('br', {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 211
                            },
                            __self: undefined
                        }),
                        reviewData.article.onlineDateYear.length > 0 || reviewData.article.onlineDateMonth.length > 0 || reviewData.article.onlineDateDay.length > 0 ? 'Online: ' + (reviewData.article.onlineDateDay.length > 0 ? reviewData.article.onlineDateDay : '') + (reviewData.article.onlineDateMonth.length > 0 && reviewData.article.onlineDateYear.length > 0 ? ', ' : '') + (reviewData.article.onlineDateMonth.length > 0 ? ' ' + months[parseInt(reviewData.article.onlineDateMonth) - 1] : '') + (reviewData.article.onlineDateYear.length > 0 ? ' ' + reviewData.article.onlineDateYear : '') : '',
                        (reviewData.article.acceptedDateYear.length > 0 || reviewData.article.acceptedDateMonth.length > 0 || reviewData.article.acceptedDateDay.length > 0) && _react2.default.createElement('br', {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 224
                            },
                            __self: undefined
                        }),
                        reviewData.article.acceptedDateYear.length > 0 || reviewData.article.acceptedDateMonth.length > 0 || reviewData.article.acceptedDateDay.length > 0 ? 'Accepted: ' + (reviewData.article.acceptedDateDay.length > 0 ? reviewData.article.acceptedDateDay : '') + (reviewData.article.acceptedDateMonth.length > 0 && reviewData.article.acceptedDateYear.length > 0 ? ', ' : '') + (reviewData.article.acceptedDateMonth.length > 0 ? ' ' + months[parseInt(reviewData.article.acceptedDateMonth) - 1] : '') + (reviewData.article.acceptedDateYear.length > 0 ? ' ' + reviewData.article.acceptedDateYear : '') : ''
                    ) : '',
                    reviewData.article.abstract.length > 0 ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 242
                            },
                            __self: undefined
                        },
                        'Abstract',
                        _react2.default.createElement('br', {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 242
                            },
                            __self: undefined
                        }),
                        reviewData.article.abstract
                    ) : '',
                    getFunding().length > 0 ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 245
                            },
                            __self: undefined
                        },
                        _react2.default.createElement(
                            'h4',
                            {
                                __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 246
                                },
                                __self: undefined
                            },
                            'Funding'
                        ),
                        getFunding()
                    ) : '',
                    getLicense().length > 0 ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 252
                            },
                            __self: undefined
                        },
                        _react2.default.createElement(
                            'h4',
                            {
                                __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 253
                                },
                                __self: undefined
                            },
                            'License'
                        ),
                        getLicense()
                    ) : '',
                    getRelatedItems().length > 0 ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 259
                            },
                            __self: undefined
                        },
                        _react2.default.createElement(
                            'h4',
                            {
                                __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 260
                                },
                                __self: undefined
                            },
                            'Related Items'
                        ),
                        getRelatedItems()
                    ) : '',
                    getAddInfo().length > 0 ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 266
                            },
                            __self: undefined
                        },
                        _react2.default.createElement(
                            'h4',
                            {
                                __source: {
                                    fileName: _jsxFileName,
                                    lineNumber: 267
                                },
                                __self: undefined
                            },
                            'Additional Information'
                        ),
                        getAddInfo()
                    ) : ''
                )
            )
        )
    );
};
exports.default = articleReviewGenerator;

});

require.register("utilities/cartCheck.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _objectSearch = require('./objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var cartCheck = function cartCheck(cart, item) {
  for (var i = 0; i < cart.length; i++) {
    console.log((0, _objectSearch2.default)(cart[i], 'doi') + ":" + (0, _objectSearch2.default)(item, 'doi') + ":" + ((0, _objectSearch2.default)(cart[i], 'doi') === (0, _objectSearch2.default)(item, 'doi')));
    if ((0, _objectSearch2.default)(cart[i], 'doi') === (0, _objectSearch2.default)(item, 'doi')) {
      return true;
    }
  }
  return false;
};

exports.default = cartCheck;

});

require.register("utilities/classwrapper.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var _jsxFileName = 'app/utilities/classwrapper.js';
exports.ClassWrapper = ClassWrapper;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function ClassWrapper(_ref) {
  var _this = this;

  var classNames = _ref.classNames,
      children = _ref.children;

  var Reducer = function Reducer() {
    return classNames.reduceRight(function (previousValue, currentValue, index, array) {
      if (index == array.length - 2) {

        var LastChild = Array.isArray(previousValue) ? function (lastChildProps) {
          return _react2.default.createElement(previousValue[0], { className: previousValue[1] }, lastChildProps.children);
        } : function (lastChildProps) {
          return _react2.default.createElement(
            'div',
            { className: previousValue, __source: {
                fileName: _jsxFileName,
                lineNumber: 9
              },
              __self: _this
            },
            lastChildProps.children
          );
        };

        var NextChild = Array.isArray(currentValue) ? function (nextChildProps) {
          return _react2.default.createElement(currentValue[0], { className: currentValue[1] }, nextChildProps.children);
        } : function (nextChildProps) {
          return _react2.default.createElement(
            'div',
            { className: currentValue, __source: {
                fileName: _jsxFileName,
                lineNumber: 12
              },
              __self: _this
            },
            nextChildProps.children
          );
        };

        return _react2.default.createElement(
          NextChild,
          {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 14
            },
            __self: _this
          },
          _react2.default.createElement(
            LastChild,
            {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 14
              },
              __self: _this
            },
            children
          )
        );
      } else {

        var ThisChild = Array.isArray(currentValue) ? function (thisChildProps) {
          return _react2.default.createElement(currentValue[0], { className: currentValue[1] }, thisChildProps.children);
        } : function (thisChildProps) {
          return _react2.default.createElement(
            'div',
            { className: currentValue, __source: {
                fileName: _jsxFileName,
                lineNumber: 19
              },
              __self: _this
            },
            thisChildProps.children
          );
        };

        return _react2.default.createElement(
          ThisChild,
          {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 21
            },
            __self: _this
          },
          previousValue
        );
      }
    });
  };
  return _react2.default.createElement(Reducer, {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 24
    },
    __self: this
  });
}

});

;require.register("utilities/cleanObj.js", function(exports, require, module) {
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof2 = require("babel-runtime/helpers/typeof");

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function cleanObj(obj) {
  for (var propName in obj) {
    if (obj[propName] === null || (0, _typeof3.default)(obj[propName]) === undefined) {
      delete obj[propName];
    }
  }

  return obj;
}

exports.default = cleanObj;

});

require.register("utilities/crossmarkHelpers.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.updateTypes = exports.registryDois = undefined;

var _slicedToArray2 = require('babel-runtime/helpers/slicedToArray');

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

exports.deParseCrossmark = deParseCrossmark;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// deparseCrossmark takes a parsed xml JSON object and turns into shallow list of key/value pairs to be saved to reduxForm and read by crossmark components.
// also prepares a list of cards that need to be shown on article load
function deParseCrossmark(data) {
  var reduxForm = {};
  var showCards = {};

  if (data.updates) {
    if (!Array.isArray(data.updates.update)) data.updates.update = [data.updates.update];

    showCards['Status Update'] = parseInt(data.updates.update.length);

    data.updates.update.forEach(function (update, index) {
      var cardNumber = 'update_' + index;
      for (var key in update) {
        var slicedKey = key.slice(1);
        if (slicedKey === 'date') {
          var _update$key$split = update[key].split('-'),
              _update$key$split2 = (0, _slicedToArray3.default)(_update$key$split, 3),
              year = _update$key$split2[0],
              month = _update$key$split2[1],
              day = _update$key$split2[2];

          reduxForm[cardNumber + '_year'] = year;
          reduxForm[cardNumber + '_month'] = month;
          reduxForm[cardNumber + '_day'] = day;
        } else if (slicedKey === 'text') {
          reduxForm[cardNumber + '_DOI'] = update[key];
        } else if (slicedKey === 'type') reduxForm[cardNumber + '_' + slicedKey] = upperCaseFirst(update[key]);
      }
    });
  }

  if (data.custom_metadata && data.custom_metadata.assertion) {
    if (!Array.isArray(data.custom_metadata.assertion)) data.custom_metadata.assertion = [data.custom_metadata.assertion];

    data.custom_metadata.assertion.forEach(function (assertion) {

      if (assertion['-group_name'] === 'publication_history') {
        var cardNumber = 'pubHist_' + assertion['-order'];
        showCards['Publication History'] = parseInt(assertion['-order']) + 1;

        for (var key in assertion) {
          var slicedKey = key.slice(1);
          if (slicedKey === 'text') {
            var _assertion$key$split = assertion[key].split('-'),
                _assertion$key$split2 = (0, _slicedToArray3.default)(_assertion$key$split, 3),
                year = _assertion$key$split2[0],
                month = _assertion$key$split2[1],
                day = _assertion$key$split2[2];

            reduxForm[cardNumber + '_year'] = year;
            reduxForm[cardNumber + '_month'] = month;
            reduxForm[cardNumber + '_day'] = day;
          } else reduxForm[cardNumber + '_' + slicedKey] = assertion[key];
        }
      } else if (assertion['-group_name'] === 'peer_review') {
        var _cardNumber = 'peer_' + assertion['-order'];
        showCards['Peer Review'] = parseInt(assertion['-order']) + 1;

        for (var key in assertion) {
          reduxForm[_cardNumber + '_' + key.slice(1)] = assertion[key];
        }
      } else if (assertion['-group_name'] === 'copyright_licensing') {
        var _cardNumber2 = 'copyright_' + assertion['-order'];
        showCards['Copyright & Licensing'] = parseInt(assertion['-order']) + 1;

        for (var key in assertion) {
          reduxForm[_cardNumber2 + '_' + key.slice(1)] = assertion[key];
        }
      } else if (assertion['-name'] === 'supplementary_Material') {
        var _cardNumber3 = 'supp_' + assertion['-order'];
        showCards['Supplementary Material'] = parseInt(assertion['-order']) + 1;

        for (var key in assertion) {
          reduxForm[_cardNumber3 + '_' + key.slice(1)] = assertion[key];
        }
      } else {
        var _cardNumber4 = 'other_' + assertion['-order'];
        showCards['Other'] = parseInt(assertion['-order']) + 1;

        for (var key in assertion) {
          reduxForm[_cardNumber4 + '_' + key.slice(1)] = assertion[key];
        }
      }
    });
  }

  if (data.custom_metadata && data.custom_metadata.program && data.custom_metadata.program['clinical-trial-number']) {
    if (!Array.isArray(data.custom_metadata.program['clinical-trial-number'])) data.custom_metadata.program['clinical-trial-number'] = [data.custom_metadata.program['clinical-trial-number']];

    showCards['Linked Clinical Trials'] = parseInt(data.custom_metadata.program['clinical-trial-number'].length);

    data.custom_metadata.program['clinical-trial-number'].forEach(function (clinical, index) {
      var cardNumber = 'clinical_' + index;
      for (var key in clinical) {
        var slicedKey = key.slice(1);
        if (slicedKey === 'text') {
          reduxForm[cardNumber + '_trialNumber'] = clinical[key];
        } else if (slicedKey === 'registry') {
          reduxForm[cardNumber + '_' + slicedKey] = swappedRegistry[clinical[key]];
        } else if (slicedKey === 'type') {

          reduxForm[cardNumber + '_' + slicedKey] = relationships[clinical[key]];
        }
      }
    });
  }

  return { reduxForm: reduxForm, showCards: showCards };
}

var registryDois = exports.registryDois = {
  'Uniform Trial Number': '10.18810/utn',
  'ClinicalTrials.gov': '10.18810/clinical-trials-gov',
  'ISRCTN.org': '10.18810/isrctn',
  'Australian New Zealand Clinical Trials Registry': '10.18810/anzctr',
  'German Clinical Trials Register': '10.18810/drks',
  'Chinese Clinical Trial Registry': '10.18810/chictr',
  'Brazilian Clinical Trials Registry': '10.18810/rebec',
  'Netherlands National Trial Register': '10.18810/dutch-trial-register',
  'Clinical Trials Registry India': '10.18810/clinical-trial-registry-india',
  'UMIN Japan': '10.18810/umin-japan',
  'Pan African Clinical Trial Registry': '10.18810/pactr',
  'Sri Lanka Clinical Trials Registry': '10.18810/slctr',
  'Japan Medical Association Clinical Trial Registry': '10.18810/jma',
  'Iranian Registry of Clinical Trials': '10.18810/irct',
  'Clinical Research Information Service, Republic of Korea': '10.18810/cris',
  'Cuban Public Registry of Clinical Trials': '10.18810/rpec',
  'EU Clinical Trials Register': '10.18810/euctr',
  'Japan Primary Registries Network': '10.18810/jprn',
  'Thai Clinical Trials Registry': '10.18810/tctr'
};

var swappedRegistry = swap(registryDois);

var relationships = {
  'preResults': 'Pre-Results',
  'results': 'Results',
  'postResults': 'Post-Results'
};

var updateTypes = exports.updateTypes = ['Addendum', 'Clarification', 'Correction', 'Corrigendum', 'Erratum', 'Expression Of Concern', 'New Edition', 'New Version', 'Partial Retraction', 'Removal', 'Retraction', 'Withdrawal'];

function swap(object) {
  var ret = {};
  for (var key in object) {
    ret[object[key]] = key;
  }
  return ret;
}

function upperCaseFirst(string) {
  return string.split('_').map(function (string) {
    return string.charAt(0).toUpperCase() + string.slice(1);
  }).join(' ');
}

});

;require.register("utilities/date.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var _jsxFileName = 'app/utilities/date.js';
exports.makeDateDropDown = makeDateDropDown;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  '': ['', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28'],
  '01': ['', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],
  '02': ['', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28'],
  '03': ['', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],
  '04': ['', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30'],
  '05': ['', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],
  '06': ['', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30'],
  '07': ['', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],
  '08': ['', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],
  '09': ['', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30'],
  '10': ['', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],
  '11': ['', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30'],
  '12': ['', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],
  months: ['', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'],
  years: yearOptionsFunc()
};


function yearOptionsFunc() {
  var optionsArray = [''];
  var i = '2017';
  while (i > 1980) {
    optionsArray.push(i);
    i--;
  }
  return optionsArray;
}

function makeDateDropDown(handler, name, type, preset, validation) {
  var s = [_react2.default.createElement('option', { key: '-1', __source: {
      fileName: _jsxFileName,
      lineNumber: 33
    },
    __self: this
  })],
      start = 0,
      end = 0;
  if (type === 'y') {
    start = 2017;
    end = 1980;
  } else if (type === 'd') {
    start = 1;
    end = 31;
  } else if (type === 'm') {
    start = 1;
    end = 12;
  }

  if (type === 'y') {
    for (var i = start; i >= end; i--) {
      s.push(_react2.default.createElement(
        'option',
        { key: i, value: i, __source: {
            fileName: _jsxFileName,
            lineNumber: 47
          },
          __self: this
        },
        i
      ));
    }
  } else {
    for (var i = start; i <= end; i++) {
      s.push(_react2.default.createElement(
        'option',
        { key: i, value: i, __source: {
            fileName: _jsxFileName,
            lineNumber: 51
          },
          __self: this
        },
        i
      ));
    }
  }

  return _react2.default.createElement(
    'select',
    {
      className: 'height32 datepickselects' + (validation ? ' fieldError' : ''),
      name: name,
      ref: name,
      onChange: handler,
      value: parseInt(preset),
      __source: {
        fileName: _jsxFileName,
        lineNumber: 56
      },
      __self: this
    },
    s
  );
}

});

;require.register("utilities/dupeDOI.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _promise = require('babel-runtime/core-js/promise');

var _promise2 = _interopRequireDefault(_promise);

var _fetch = require('./fetch');

var _fetch2 = _interopRequireDefault(_fetch);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function isValidDOI(doi) {
  var re = /^10\.\d{4,9}\/[-._;()/:A-Z0-9]+$/i;
  return re.test(doi);
}

function dupCheck(doi) {
  if (doi) {
    if (doi.length > 0) {
      if (isValidDOI(doi)) {
        return _promise2.default.resolve((0, _fetch2.default)('http://mdt.crossref.org/mdt/v1/work?doi=' + doi, { headers: { Authorization: localStorage.getItem('auth') } }).then(function (data) {
          return data.status === 200;
        }));
      } else {
        return false, false;
      }
    } else {
      return false;
    }
  } else {
    return false;
  }
}

var checkDupeDOI = function checkDupeDOI(doi, callback) {
  //doi can be an array of doi's
  if (Array.isArray(doi)) {
    var promises = [];
    _lodash2.default.each(doi, function (each_doi) {
      promises.push(dupCheck(each_doi));
    });
    return _promise2.default.all(promises).then(function (isDupe) {
      callback(isDupe);
    });
  } else {
    return _promise2.default.resolve(dupCheck(doi)).then(function (isDupe) {
      return callback(isDupe);
    });
  }
};

exports.default = checkDupeDOI;

});

require.register("utilities/fetch.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _isomorphicFetch = require('isomorphic-fetch');

var _isomorphicFetch2 = _interopRequireDefault(_isomorphicFetch);

var _reactRouter = require('react-router');

var _routing = require('../routing');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var wrappedFetch = function wrappedFetch() {
  var _arguments = arguments;

  return _isomorphicFetch2.default.apply(_isomorphicFetch2.default, arguments).then(function (response) {
    if (response.status === 401) {
      console.log([response.status, _arguments, response]);
      if (_reactRouter.browserHistory.getCurrentLocation().pathname !== _routing.routes.base) {
        _reactRouter.browserHistory.push(_routing.routes.base);
        console.error('Authorization failed, kicking back to HomePage');
      }
    }
    return response;
  });
};

exports.default = wrappedFetch;

});

require.register("utilities/getSubItems.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.getContributor = exports.getSubmitSubItems = undefined;

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getSubmitSubItems = exports.getSubmitSubItems = function getSubmitSubItems(items) {
    return _lodash2.default.filter(items, function (item) {
        for (var key in item) {
            // checking all the properties of errors to see if there is a true
            if (item[key]) {
                try {
                    if (item[key].trim().length > 0) {
                        return item;
                    }
                } catch (e) {
                    if (item[key].length > 0) {
                        return item;
                    }
                }
            }
        }
    });
};

//get contributor
var getContributor = exports.getContributor = function getContributor(subitem) {
    var contributors = getSubmitSubItems(subitem).map(function (contributor, i) {
        // cause the type "ROLE" is shared name
        var attributes = [contributor.firstName && contributor.firstName.trim().length > 0 ? '<given_name>' + contributor.firstName.trim() + '</given_name>' : undefined, contributor.lastName && contributor.lastName.trim().length > 0 ? '<surname>' + contributor.lastName.trim() + '</surname>' : undefined, contributor.suffix && contributor.suffix.trim().length > 0 ? '<suffix>' + contributor.suffix.trim() + '</suffix>' : undefined, contributor.affiliation && contributor.affiliation.trim().length > 0 ? '<affiliation>' + contributor.affiliation.trim() + '</affiliation>' : undefined, contributor.orcid && contributor.orcid.trim().length > 0 ? '<ORCID>' + contributor.orcid.trim() + '</ORCID>' : undefined, contributor.alternativeName && contributor.alternativeName.trim().length > 0 ? '<alt-name>' + contributor.alternativeName.trim() + '</alt-name>' : undefined];

        attributes = _lodash2.default.filter(attributes, function (attribute) {
            // filter all the undefined
            for (var key in attribute) {
                // checking all the properties of errors to see if there is a true
                if (attribute[key]) {
                    return attribute;
                }
            }
        });

        var person = '<person_name sequence="' + (i === 0 ? 'first' : 'additional') + '" contributor_role="' + (contributor.role && contributor.role.trim().length > 0 ? contributor.role : false) + '">' + attributes.join('') + '</person_name>';

        return person;
    });

    return contributors.length > 0 ? '<contributors>' + contributors.join('') + '</contributors>' : '';
};

});

require.register("utilities/helpers.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var _jsxFileName = 'app/utilities/helpers.js';
exports.ClassWrapper = ClassWrapper;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function ClassWrapper(_ref) {
  var _this = this;

  var classNames = _ref.classNames,
      children = _ref.children;

  var Reducer = function Reducer() {
    return classNames.reduceRight(function (previousValue, currentValue, index, array) {
      if (index == array.length - 2) {

        var LastChild = Array.isArray(previousValue) ? function (lastChildProps) {
          return _react2.default.createElement(previousValue[0], { className: previousValue[1] }, lastChildProps.children);
        } : function (lastChildProps) {
          return _react2.default.createElement(
            'div',
            { className: previousValue, __source: {
                fileName: _jsxFileName,
                lineNumber: 9
              },
              __self: _this
            },
            lastChildProps.children
          );
        };

        var NextChild = Array.isArray(currentValue) ? function (nextChildProps) {
          return _react2.default.createElement(currentValue[0], { className: currentValue[1] }, nextChildProps.children);
        } : function (nextChildProps) {
          return _react2.default.createElement(
            'div',
            { className: currentValue, __source: {
                fileName: _jsxFileName,
                lineNumber: 12
              },
              __self: _this
            },
            nextChildProps.children
          );
        };

        return _react2.default.createElement(
          NextChild,
          {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 14
            },
            __self: _this
          },
          _react2.default.createElement(
            LastChild,
            {
              __source: {
                fileName: _jsxFileName,
                lineNumber: 14
              },
              __self: _this
            },
            children
          )
        );
      } else {

        var ThisChild = Array.isArray(currentValue) ? function (thisChildProps) {
          return _react2.default.createElement(currentValue[0], { className: currentValue[1] }, thisChildProps.children);
        } : function (thisChildProps) {
          return _react2.default.createElement(
            'div',
            { className: currentValue, __source: {
                fileName: _jsxFileName,
                lineNumber: 19
              },
              __self: _this
            },
            thisChildProps.children
          );
        };

        return _react2.default.createElement(
          ThisChild,
          {
            __source: {
              fileName: _jsxFileName,
              lineNumber: 21
            },
            __self: _this
          },
          previousValue
        );
      }
    });
  };
  return _react2.default.createElement(Reducer, {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 24
    },
    __self: this
  });
}

});

;require.register("utilities/identifierTypes.json", function(exports, require, module) {
module.exports = [
    {'name': 'doi', 'value': 'DOI'},
    {'name': 'issn', 'value': 'ISSN'},
    {'name': 'isbn', 'value': 'ISBN'},
    {'name': 'uri', 'value': 'URI'},
    {'name': 'pmid', 'value': 'PMID'},
    {'name': 'pmcid', 'value': 'PMCID'},
    {'name': 'purl', 'value': 'PURL'},
    {'name': 'arxiv', 'value': 'ARXIV'},
    {'name': 'ark', 'value': 'ARK'},
    {'name': 'handle', 'value': 'Handle'},
    {'name': 'uuid', 'value': 'UUID'},
    {'name': 'ecli', 'value': 'ECLI'},
    {'name': 'other', 'value': 'Other'}
];
});

require.register("utilities/isDOI.js", function(exports, require, module) {
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
var isDOI = function isDOI(doi) {
    var re = /^10\.\d{4,9}\/[-._;()/:A-Z0-9]+$/i;
    return re.test(doi);
};

exports.default = isDOI;

});

require.register("utilities/isURL.js", function(exports, require, module) {
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
var isURL = function isURL(url) {
    var re = /^(?:(ftp|http|https)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/;
    return re.test(url);
};

exports.default = isURL;

});

require.register("utilities/issueReviewGenerator.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
var _jsxFileName = 'app/utilities/issueReviewGenerator.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _archiveLocations = require('./archiveLocations');

var _objectSearch = require('./objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

var _parseXMLIssue = require('./parseXMLIssue');

var _parseXMLIssue2 = _interopRequireDefault(_parseXMLIssue);

var _xmldoc = require('./xmldoc');

var _xmldoc2 = _interopRequireDefault(_xmldoc);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Languages = require('./language.json');

var PublicationTypes = require('./publicationTypes.json');
var AppliesTo = require('./appliesTo.json');
var IdentifierTypes = require('./identifierTypes.json');


var issueReviewGenerator = function issueReviewGenerator(publication, issue) {
    var publicationMetaData = (0, _xmldoc2.default)(publication.content);
    var reviewData = (0, _parseXMLIssue2.default)(issue);

    var getSubmitSubItems = function getSubmitSubItems(items) {
        return _lodash2.default.filter(items, function (item) {
            for (var key in item) {
                // checking all the properties of errors to see if there is a true
                if (item[key]) {
                    try {
                        if (item[key].trim().length > 0) {
                            return item;
                        }
                    } catch (e) {
                        if (item[key].length > 0) {
                            return item;
                        }
                    }
                }
            }
        });
    };

    var getdate = function getdate(pubDate) {
        var parseDate = [];
        for (var i = 0; i < pubDate.length; i++) {
            if (pubDate[i].length > 0) {
                parseDate.push(pubDate[i]);
            }
        }

        return parseDate.join(' - ');
    };

    return _react2.default.createElement(
        'div',
        { className: 'ReviewArticleCard', __source: {
                fileName: _jsxFileName,
                lineNumber: 48
            },
            __self: this
        },
        _react2.default.createElement(
            'div',
            {
                __source: {
                    fileName: _jsxFileName,
                    lineNumber: 49
                },
                __self: this
            },
            _react2.default.createElement(
                'div',
                { className: 'reviewArticle', __source: {
                        fileName: _jsxFileName,
                        lineNumber: 50
                    },
                    __self: this
                },
                _react2.default.createElement(
                    'div',
                    { className: 'firstBorder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 51
                        },
                        __self: this
                    },
                    _react2.default.createElement('div', { className: 'innerBorder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 52
                        },
                        __self: this
                    })
                ),
                _react2.default.createElement(
                    'div',
                    { className: 'secondBorder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 54
                        },
                        __self: this
                    },
                    _react2.default.createElement('div', { className: 'innerBorder', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 55
                        },
                        __self: this
                    })
                ),
                _react2.default.createElement(
                    'div',
                    { className: 'reviewContent', __source: {
                            fileName: _jsxFileName,
                            lineNumber: 57
                        },
                        __self: this
                    },
                    _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 58
                            },
                            __self: this
                        },
                        'Issue: ',
                        reviewData.issue.issue ? reviewData.issue.issue : ''
                    ),
                    reviewData.issue.volume ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 59
                            },
                            __self: this
                        },
                        'Volume: ',
                        reviewData.issue.volume ? reviewData.issue.volume : ''
                    ) : '',
                    reviewData.issue.issueDoi ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 60
                            },
                            __self: this
                        },
                        'Issue DOI: ',
                        reviewData.issue.issueDoi ? reviewData.issue.issueDoi : ''
                    ) : '',
                    getdate([reviewData.issue.printDateYear, reviewData.issue.printDateMonth, reviewData.issue.printDateDay]).length > 0 ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 63
                            },
                            __self: this
                        },
                        'Publication Print Date: ',
                        getdate([reviewData.issue.printDateYear, reviewData.issue.printDateMonth, reviewData.issue.printDateDay])
                    ) : '',
                    getdate([reviewData.issue.onlineDateYear, reviewData.issue.onlineDateMonth, reviewData.issue.onlineDateDay]).length > 0 ? _react2.default.createElement(
                        'p',
                        {
                            __source: {
                                fileName: _jsxFileName,
                                lineNumber: 68
                            },
                            __self: this
                        },
                        'Publication Online Date: ',
                        getdate([reviewData.issue.onlineDateYear, reviewData.issue.onlineDateMonth, reviewData.issue.onlineDateDay])
                    ) : ''
                )
            )
        )
    );
};

exports.default = issueReviewGenerator;

});

require.register("utilities/jsesc.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var jsesc = require('jsesc');

var store = null;

var wrappedJSesc = function wrappedJSesc(str) {
  return jsesc(str, { 'json': true, 'wrap': false });
};

wrappedJSesc.registerStore = function (storeRef) {
  store = storeRef;
};

exports.default = wrappedJSesc;

});

require.register("utilities/language.json", function(exports, require, module) {
module.exports = [{'abbr':'aa','name': 'Afar'},
{'abbr':'ab','name': 'Abkhazian'},
{'abbr':'af','name': 'Afrikaans'},
{'abbr':'am','name': 'Amharic'},
{'abbr':'ar','name': 'Arabic'},
{'abbr':'as','name': 'Assamese'},
{'abbr':'ay','name': 'Aymara'},
{'abbr':'az','name': 'Azerbaijani'},
{'abbr':'ba','name': 'Bashkir'},
{'abbr':'be','name': 'Byelorussian'},
{'abbr':'bg','name': 'Bulgarian'},
{'abbr':'bh','name': 'Bihari'},
{'abbr':'bi','name': 'Bislama'},
{'abbr':'bn','name': 'Bengali'},
{'abbr':'bo','name': 'Tibetan'},
{'abbr':'br','name': 'Breton'},
{'abbr':'ca','name': 'Catalan'},
{'abbr':'co','name': 'Corsican'},
{'abbr':'cs','name': 'Czech'},
{'abbr':'cy','name': 'Welch'},
{'abbr':'da','name': 'Danish'},
{'abbr':'de','name': 'German'},
{'abbr':'dz','name': 'Bhutani'},
{'abbr':'el','name': 'Greek'},
{'abbr':'en','name': 'English'},
{'abbr':'eo','name': 'Esperanto'},
{'abbr':'es','name': 'Spanish'},
{'abbr':'et','name': 'Estonian'},
{'abbr':'eu','name': 'Basque'},
{'abbr':'fa','name': 'Persian'},
{'abbr':'fi','name': 'Finnish'},
{'abbr':'fj','name': 'Fiji'},
{'abbr':'fo','name': 'Faeroese'},
{'abbr':'fr','name': 'French'},
{'abbr':'fy','name': 'Frisian'},
{'abbr':'ga','name': 'Irish'},
{'abbr':'gd','name': 'Scots Gaelic'},
{'abbr':'gl','name': 'Galician'},
{'abbr':'gn','name': 'Guarani'},
{'abbr':'gu','name': 'Gujarati'},
{'abbr':'ha','name': 'Hausa'},
{'abbr':'hi','name': 'Hindi'},
{'abbr':'he','name': 'Hebrew'},
{'abbr':'hr','name': 'Croatian'},
{'abbr':'hu','name': 'Hungarian'},
{'abbr':'hy','name': 'Armenian'},
{'abbr':'ia','name': 'Interlingua'},
{'abbr':'id','name': 'Indonesian'},
{'abbr':'ie','name': 'Interlingue'},
{'abbr':'ik','name': 'Inupiak'},
{'abbr':'in','name': 'former Indonesian'},
{'abbr':'is','name': 'Icelandic'},
{'abbr':'it','name': 'Italian'},
{'abbr':'iu','name': 'Inuktitut (Eskimo)'},
{'abbr':'iw','name': 'former Hebrew'},
{'abbr':'ja','name': 'Japanese'},
{'abbr':'ji','name': 'former Yiddish'},
{'abbr':'jw','name': 'Javanese'},
{'abbr':'ka','name': 'Georgian'},
{'abbr':'kk','name': 'Kazakh'},
{'abbr':'kl','name': 'Greenlandic'},
{'abbr':'km','name': 'Cambodian'},
{'abbr':'kn','name': 'Kannada'},
{'abbr':'ko','name': 'Korean'},
{'abbr':'ks','name': 'Kashmiri'},
{'abbr':'ku','name': 'Kurdish'},
{'abbr':'ky','name': 'Kirghiz'},
{'abbr':'la','name': 'Latin'},
{'abbr':'ln','name': 'Lingala'},
{'abbr':'lo','name': 'Laothian'},
{'abbr':'lt','name': 'Lithuanian'},
{'abbr':'lv','name': 'Latvian, Lettish'},
{'abbr':'mg','name': 'Malagasy'},
{'abbr':'mi','name': 'Maori'},
{'abbr':'mk','name': 'Macedonian'},
{'abbr':'ml','name': 'Malayalam'},
{'abbr':'mn','name': 'Mongolian'},
{'abbr':'mo','name': 'Moldavian'},
{'abbr':'mr','name': 'Marathi'},
{'abbr':'ms','name': 'Malay'},
{'abbr':'mt','name': 'Maltese'},
{'abbr':'my','name': 'Burmese'},
{'abbr':'na','name': 'Nauru'},
{'abbr':'ne','name': 'Nepali'},
{'abbr':'nl','name': 'Dutch'},
{'abbr':'no','name': 'Norwegian'},
{'abbr':'oc','name': 'Occitan'},
{'abbr':'om','name': '(Afan) Oromo'},
{'abbr':'or','name': 'Oriya'},
{'abbr':'pa','name': 'Punjabi'},
{'abbr':'pl','name': 'Polish'},
{'abbr':'ps','name': 'Pashto, Pushto'},
{'abbr':'pt','name': 'Portuguese'},
{'abbr':'qu','name': 'Quechua'},
{'abbr':'rm','name': 'Rhaeto-Romance'},
{'abbr':'rn','name': 'Kirundi'},
{'abbr':'ro','name': 'Romanian'},
{'abbr':'ru','name': 'Russian'},
{'abbr':'rw','name': 'Kinyarwanda'},
{'abbr':'sa','name': 'Sanskrit'},
{'abbr':'sd','name': 'Sindhi'},
{'abbr':'sg','name': 'Sangro'},
{'abbr':'sh','name': 'Serbo-Croatian'},
{'abbr':'si','name': 'Singhalese'},
{'abbr':'sk','name': 'Slovak'},
{'abbr':'sl','name': 'Slovenian'},
{'abbr':'sm','name': 'Samoan'},
{'abbr':'sn','name': 'Shona'},
{'abbr':'so','name': 'Somali'},
{'abbr':'sq','name': 'Albanian'},
{'abbr':'sr','name': 'Serbian'},
{'abbr':'ss','name': 'Siswati'},
{'abbr':'st','name': 'Sesotho'},
{'abbr':'su','name': 'Sudanese'},
{'abbr':'sv','name': 'Swedish'},
{'abbr':'sw','name': 'Swahili'},
{'abbr':'ta','name': 'Tamil'},
{'abbr':'te','name': 'Tegulu'},
{'abbr':'tg','name': 'Tajik'},
{'abbr':'th','name': 'Thai'},
{'abbr':'ti','name': 'Tigrinya'},
{'abbr':'tk','name': 'Turkmen'},
{'abbr':'tl','name': 'Tagalog'},
{'abbr':'tn','name': 'Setswana'},
{'abbr':'to','name': 'Tonga'},
{'abbr':'tr','name': 'Turkish'},
{'abbr':'ts','name': 'Tsonga'},
{'abbr':'tt','name': 'Tatar'},
{'abbr':'tw','name': 'Twi'},
{'abbr':'ug','name': 'Uigur'},
{'abbr':'uk','name': 'Ukrainian'},
{'abbr':'ur','name': 'Urdu'},
{'abbr':'uz','name': 'Uzbek'},
{'abbr':'vi','name': 'Vietnamese'},
{'abbr':'vo','name': 'Volapuk'},
{'abbr':'wo','name': 'Wolof'},
{'abbr':'xh','name': 'Xhosa'},
{'abbr':'yi','name': 'Yiddish'},
{'abbr':'yo','name': 'Yoruba'},
{'abbr':'za','name': 'Zhuang'},
{'abbr':'zh','name': 'Chinese'},
{'abbr':'zu','name': 'Zulu'}];
});

require.register("utilities/makeDateDropDown.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
var _jsxFileName = 'app/utilities/makeDateDropDown.js';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var makeDateDropDown = function makeDateDropDown(handler, ref, type, preset, validation, index, item) {
    var s = [_react2.default.createElement('option', { key: '-1', __source: {
            fileName: _jsxFileName,
            lineNumber: 4
        },
        __self: undefined
    })],
        start = 0,
        end = 0;
    if (type === 'y') {
        start = 2017;
        end = 1980;
    } else if (type === 'd') {
        start = 1;
        end = 31;
    } else if (type === 'm') {
        start = 1;
        end = 12;
    }

    if (type === 'y') {
        for (var i = start; i >= end; i--) {
            s.push(_react2.default.createElement(
                'option',
                { key: i, value: i, __source: {
                        fileName: _jsxFileName,
                        lineNumber: 18
                    },
                    __self: undefined
                },
                i
            ));
        }
    } else {
        for (var i = start; i <= end; i++) {
            s.push(_react2.default.createElement(
                'option',
                { key: i, value: i, __source: {
                        fileName: _jsxFileName,
                        lineNumber: 22
                    },
                    __self: undefined
                },
                i
            ));
        }
    }

    return _react2.default.createElement(
        'select',
        {
            className: 'height32 datepickselects' + (validation ? ' fieldError' : ''),
            name: ref,
            value: preset,
            onChange: function onChange(event) {
                return handler(event);
            },
            __source: {
                fileName: _jsxFileName,
                lineNumber: 27
            },
            __self: undefined
        },
        s
    );
};

exports.default = makeDateDropDown;

});

require.register("utilities/objectSearch.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof2 = require('babel-runtime/helpers/typeof');

var _typeof3 = _interopRequireDefault(_typeof2);

var _keys = require('babel-runtime/core-js/object/keys');

var _keys2 = _interopRequireDefault(_keys);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var objectSearch = function objectSearch(object, search, returnVal) {
    var r = undefined;
    if (returnVal || returnVal === '') {
        r = returnVal;
    }
    (0, _keys2.default)(object).some(function (k) {
        if (object[k]) {
            if (k === search) {
                r = object[k];
                return true;
            }
            if ((0, _typeof3.default)(object[k]) === 'object') {
                r = objectSearch(object[k], search);
                return !!r;
            }
        }
    });
    return r;
};

exports.default = objectSearch;

});

require.register("utilities/parseXMLArticle.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _crossmarkHelpers = require('./crossmarkHelpers');

var _archiveLocations = require('./archiveLocations');

var _xmldoc = require('./xmldoc');

var _xmldoc2 = _interopRequireDefault(_xmldoc);

var _objectSearch = require('./objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Languages = require('./language.json');

var PublicationTypes = require('./publicationTypes.json');
var AppliesTo = require('./appliesTo.json');
var IdentifierTypes = require('./identifierTypes.json');


var parseXMLArticle = function parseXMLArticle(articleXML) {
    var retObj = {};
    var parsedArticle = (0, _xmldoc2.default)(articleXML);
    // article loading
    var publication_date = (0, _objectSearch2.default)(parsedArticle, 'publication_date');
    if (publication_date && !Array.isArray(publication_date)) publication_date = [publication_date];

    var onlinePubDate = publication_date ? _lodash2.default.find(publication_date, function (pubDate) {
        if (pubDate['-media_type'] === 'online') {
            return pubDate;
        }
    }) : null;

    var printPubDate = publication_date ? _lodash2.default.find(publication_date, function (pubDate) {
        if (pubDate['-media_type'] === 'print') {
            return pubDate;
        }
    }) : null;

    var printDateYear = '';
    var printDateMonth = '';
    var printDateDay = '';
    if (printPubDate) {
        printDateYear = printPubDate['year'] ? printPubDate['year'] : '';
        printDateMonth = printPubDate['month'] ? printPubDate['month'] : '';
        printDateDay = printPubDate['day'] ? printPubDate['day'] : '';
    }

    var onlineDateYear = '';
    var onlineDateMonth = '';
    var onlineDateDay = '';
    if (onlinePubDate) {
        onlineDateYear = onlinePubDate['year'] ? onlinePubDate['year'] : '';
        onlineDateMonth = onlinePubDate['month'] ? onlinePubDate['month'] : '';
        onlineDateDay = onlinePubDate['day'] ? onlinePubDate['day'] : '';
    }

    var acceptedPubDate = (0, _objectSearch2.default)(parsedArticle, 'acceptance_date');

    var acceptedDateYear = '';
    var acceptedDateMonth = '';
    var acceptedDateDay = '';
    if (acceptedPubDate) {
        acceptedDateYear = acceptedPubDate['year'] ? acceptedPubDate['year'] : '';
        acceptedDateMonth = acceptedPubDate['month'] ? acceptedPubDate['month'] : '';
        acceptedDateDay = acceptedPubDate['day'] ? acceptedPubDate['day'] : '';
    }

    var titles = (0, _objectSearch2.default)(parsedArticle, 'titles');
    var title = titles.title.trim();

    var originallanguagetitle = '';
    if (titles.original_language_title) {
        originallanguagetitle = titles.original_language_title.trim().length > 0 ? titles.original_language_title.trim() : '';
    }
    // 0 is subtitle, 1 is original language subtitle
    var subtitle = '';
    var originallanguagetitlesubtitle = '';

    if (titles.subtitle) {
        if (titles.subtitle[0]) {
            subtitle = titles.subtitle[0].trim().length > 0 ? titles.subtitle[0].trim() : '';
        }
        if (titles.subtitle[1]) {
            originallanguagetitlesubtitle = titles.subtitle[1].trim().length > 0 ? titles.subtitle[1].trim() : '';
        }
    }

    var pages = (0, _objectSearch2.default)(parsedArticle, 'pages');

    var firstPage = '';
    var lastPage = '';
    if (pages) {
        firstPage = pages.first_page ? pages.first_page : '';
        lastPage = pages.last_page ? pages.last_page : '';
    }

    var abstractHolder = (0, _objectSearch2.default)(parsedArticle, 'jats:abstract');
    var abstract = '';
    if (abstractHolder) {
        abstract = (0, _objectSearch2.default)(abstractHolder, 'jats:p');
    }
    var doiData = (0, _objectSearch2.default)(parsedArticle, 'doi_data');
    var doi = doiData.doi;
    var url = doiData.resource;

    var publisherItem = (0, _objectSearch2.default)(parsedArticle, 'publisher_item');
    var locationId = '';
    if (publisherItem) {
        locationId = (0, _objectSearch2.default)(publisherItem, '#text');
    }

    var article = {
        title: title,
        doi: doi,
        subtitle: subtitle,
        originallanguagetitle: originallanguagetitle,
        originallanguagetitlesubtitle: originallanguagetitlesubtitle,
        url: url,
        printDateYear: printDateYear,
        printDateMonth: printDateMonth,
        printDateDay: printDateDay,
        onlineDateYear: onlineDateYear,
        onlineDateMonth: onlineDateMonth,
        onlineDateDay: onlineDateDay,
        acceptedDateYear: acceptedDateYear,
        acceptedDateMonth: acceptedDateMonth,
        acceptedDateDay: acceptedDateDay,
        firstPage: firstPage,
        lastPage: lastPage,
        locationId: locationId,
        abstract: abstract
    };

    retObj = _lodash2.default.extend(retObj, {
        article: article
    });

    // additional info loading
    var publicationType = (0, _objectSearch2.default)(parsedArticle, '-publication_type');
    var archiveLocations = (0, _objectSearch2.default)(parsedArticle, 'archive_locations');
    var archive = '';
    if (archiveLocations) {
        archive = archiveLocations.archive['-name'];
    }
    var item = (0, _objectSearch2.default)(doiData, 'item');
    var similarityCheckURL = '';
    if (item) {
        similarityCheckURL = (0, _objectSearch2.default)(item, 'resource');
    }
    var language = (0, _objectSearch2.default)(parsedArticle, '-language');

    var freeToRead = (0, _objectSearch2.default)(parsedArticle, 'ai:free_to_read');

    var addInfo = {
        archiveLocation: archive,
        language: language ? language : '',
        publicationType: publicationType ? publicationType : '',
        similarityCheckURL: similarityCheckURL ? similarityCheckURL : '',
        freetolicense: freeToRead ? 'yes' : 'no'
    };

    retObj = _lodash2.default.extend(retObj, {
        addInfo: addInfo
    });

    // contributor loading
    var contributors = (0, _objectSearch2.default)(parsedArticle, 'contributors');
    var contributee = [];
    // contributors are divied into 2 types
    // person_name and organization
    var person_name = undefined;
    var organization = undefined;
    if (contributors) {
        person_name = (0, _objectSearch2.default)(contributors, 'person_name');
        organization = (0, _objectSearch2.default)(contributors, 'organization');

        if (person_name) {
            // if exist
            if (!Array.isArray(person_name)) {
                // there is ONE funder
                contributee.push({
                    firstName: person_name.given_name ? person_name.given_name : '',
                    lastName: person_name.surname ? person_name.surname : '',
                    suffix: person_name.suffix ? person_name.suffix : '',
                    affiliation: person_name.affiliation ? person_name.affiliation : '',
                    orcid: person_name.ORCID ? person_name.ORCID : '',
                    role: person_name['-contributor_role'] ? person_name['-contributor_role'] : '',
                    groupAuthorName: '',
                    groupAuthorRole: ''
                });
            } else {
                // its an array
                _lodash2.default.each(person_name, function (person) {
                    contributee.push({
                        firstName: person.given_name ? person.given_name : '',
                        lastName: person.surname ? person.surname : '',
                        suffix: person.suffix ? person.suffix : '',
                        affiliation: person.affiliation ? person.affiliation : '',
                        orcid: person.ORCID ? person.ORCID : '',
                        role: person['-contributor_role'] ? person['-contributor_role'] : '',
                        groupAuthorName: '',
                        groupAuthorRole: ''
                    });
                });
            }
        }

        if (organization) {
            // if exist
            if (!Array.isArray(organization)) {
                // there is ONE organization
                contributee.push({
                    firstName: '',
                    lastName: '',
                    suffix: '',
                    affiliation: '',
                    orcid: '',
                    role: '',
                    groupAuthorName: organization['#text'] ? organization['#text'] : '',
                    groupAuthorRole: organization['-contributor_role'] ? organization['-contributor_role'] : ''
                });
            } else {
                // its an array
                _lodash2.default.each(organization, function (org) {
                    contributee.push({
                        firstName: '',
                        lastName: '',
                        suffix: '',
                        affiliation: '',
                        orcid: '',
                        role: '',
                        groupAuthorName: org['#text'] ? org['#text'] : '',
                        groupAuthorRole: org['-contributor_role'] ? org['-contributor_role'] : ''
                    });
                });
            }
        }
    }

    if (contributee.length <= 0) {
        contributee.push({
            firstName: '',
            lastName: '',
            suffix: '',
            affiliation: '',
            orcid: '',
            role: '',
            groupAuthorName: '',
            groupAuthorRole: ''
        });
    }

    retObj = _lodash2.default.extend(retObj, {
        contributors: contributee
    });

    // fundings loading
    var fundings = (0, _objectSearch2.default)(parsedArticle, 'fr:assertion');
    var funders = [];
    // contributors are divied into 2 types
    // person_name and organization
    if (fundings) {
        if (!Array.isArray(fundings)) {
            // only 1 funder
            // 0 is the actual funder data
            // 1 is the grantnumbers
            var thefunder = (0, _objectSearch2.default)(fundings, 'fr:assertion');
            var funderName = '';
            var funderRegId = '';
            var funderIdent = '';
            var grants = [];
            // because I don't know what is returned back from backend cause there is no validation, I need to loop
            for (var i = 0; i < thefunder.length; i++) {
                if (thefunder[i]['-name'] === 'funder_name') {
                    funderName = thefunder[i]['#text'].trim();
                    // within hte name, there is the funder ID
                    var thefunderReg = (0, _objectSearch2.default)(thefunder[i], 'fr:assertion');
                    if (thefunderReg) {
                        funderIdent = thefunderReg['#text'];
                        funderRegId = funderIdent.substr(funderIdent.lastIndexOf('/') + 1, funderIdent.length - 1);
                    }
                } else if (thefunder[i]['-name'] === 'award_number') {
                    grants.push(thefunder[i]['#text']);
                }
            }
            funders.push({
                fundername: funderName,
                funderRegistryID: funderRegId,
                funder_identifier: funderIdent,
                grantNumbers: grants.length > 0 ? grants : ['']
            });
        } else {
            _lodash2.default.each(fundings, function (fund) {
                var thefunder = (0, _objectSearch2.default)(fund, 'fr:assertion');
                var funderName = '';
                var funderRegId = '';
                var funderIdent = '';
                var grants = [];
                // because I don't know what is returned back from backend cause there is no validation, I need to loop
                for (var i = 0; i < thefunder.length; i++) {
                    if (thefunder[i]['-name'] === 'funder_name') {
                        funderName = thefunder[i]['#text'].trim();
                        // within hte name, there is the funder ID
                        var _thefunderReg = (0, _objectSearch2.default)(thefunder[i], 'fr:assertion');
                        if (_thefunderReg) {
                            funderIdent = _thefunderReg['#text'];
                            funderRegId = funderIdent.substr(funderIdent.lastIndexOf('/') + 1, funderIdent.length - 1);
                        }
                    } else if (thefunder[i]['-name'] === 'award_number') {
                        grants.push(thefunder[i]['#text']);
                    }
                }
                funders.push({
                    fundername: funderName,
                    funderRegistryID: funderRegId,
                    funder_identifier: funderIdent,
                    grantNumbers: grants.length > 0 ? grants : ['']
                });
            });
        }
    }

    if (funders.length <= 0) {
        funders.push({
            fundername: '',
            funderRegistryID: '',
            funder_identifier: '',
            grantNumbers: ['']
        });
    }

    retObj = _lodash2.default.extend(retObj, {
        funding: funders
    });

    // license loading
    var licences = (0, _objectSearch2.default)(parsedArticle, 'ai:license_ref');
    var lic = [];
    // contributors are divied into 2 types
    // person_name and organization
    if (licences) {
        if (!Array.isArray(licences)) {
            var licAcceptedDate = licences['-start_date'].split('-');
            lic.push({
                acceptedDateDay: licAcceptedDate[2] ? licAcceptedDate[2] : '',
                acceptedDateMonth: licAcceptedDate[1] ? licAcceptedDate[1] : '',
                acceptedDateYear: licAcceptedDate[0] ? licAcceptedDate[0] : '',
                appliesto: licences['-applies_to'] ? licences['-applies_to'] : '',
                licenseurl: licences['#text'] ? licences['#text'] : ''
            });
        } else {
            for (var i = 0; i < licences.length; i++) {
                var _licAcceptedDate = licences[i]['-start_date'].split('-');
                lic.push({
                    acceptedDateDay: _licAcceptedDate[2] ? _licAcceptedDate[2] : '',
                    acceptedDateMonth: _licAcceptedDate[1] ? _licAcceptedDate[1] : '',
                    acceptedDateYear: _licAcceptedDate[0] ? _licAcceptedDate[0] : '',
                    appliesto: licences[i]['-applies_to'] ? licences[i]['-applies_to'] : '',
                    licenseurl: licences[i]['#text'] ? licences[i]['#text'] : ''
                });
            }
        }
    }

    if (lic.length <= 0) {
        lic.push({
            acceptedDateDay: '',
            acceptedDateMonth: '',
            acceptedDateYear: '',
            appliesto: '',
            licenseurl: ''
        });
    }

    retObj = _lodash2.default.extend(retObj, {
        license: lic
    });

    // related items
    var relatedItems = (0, _objectSearch2.default)(parsedArticle, 'related_item');
    var relItem = [];
    // contributors are divied into 2 types
    // person_name and organization
    if (relatedItems) {
        if (!Array.isArray(relatedItems)) {
            var inter_work_relation = (0, _objectSearch2.default)(relatedItems, 'inter_work_relation');
            relItem.push({
                description: relatedItems['description'] ? relatedItems['description'] : '',
                identifierType: inter_work_relation['-identifier-type'] ? inter_work_relation['-identifier-type'] : '',
                relatedItemIdentifier: inter_work_relation['#text'] ? inter_work_relation['#text'] : '',
                relationType: inter_work_relation['-relationship-type'] ? inter_work_relation['-relationship-type'] : ''
            });
        } else {
            for (var i = 0; i < relatedItems.length; i++) {
                var _inter_work_relation = (0, _objectSearch2.default)(relatedItems[i], 'inter_work_relation');
                relItem.push({
                    description: relatedItems[i]['description'] ? relatedItems[i]['description'] : '',
                    identifierType: _inter_work_relation['-identifier-type'] ? _inter_work_relation['-identifier-type'] : '',
                    relatedItemIdentifier: _inter_work_relation['#text'] ? _inter_work_relation['#text'] : '',
                    relationType: _inter_work_relation['-relationship-type'] ? _inter_work_relation['-relationship-type'] : ''
                });
            }
        }
    }

    if (relItem.length <= 0) {
        relItem.push({
            description: '',
            identifierType: '',
            relatedItemIdentifier: '',
            relationType: ''
        });
    }

    retObj = _lodash2.default.extend(retObj, {
        relatedItems: relItem
    });

    if (parsedArticle.crossref) {
        if (parsedArticle.crossref.journal.journal_article.crossmark) {
            var _deParseCrossmark = (0, _crossmarkHelpers.deParseCrossmark)(parsedArticle.crossref.journal.journal_article.crossmark),
                reduxForm = _deParseCrossmark.reduxForm,
                showCards = _deParseCrossmark.showCards;

            if (reduxForm && showCards) {
                retObj.crossmark = { reduxForm: reduxForm, showCards: showCards };
            }
        }
    }

    return retObj;
};
exports.default = parseXMLArticle;

});

require.register("utilities/parseXMLIssue.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _archiveLocations = require('./archiveLocations');

var _xmldoc = require('./xmldoc');

var _xmldoc2 = _interopRequireDefault(_xmldoc);

var _objectSearch = require('./objectSearch');

var _objectSearch2 = _interopRequireDefault(_objectSearch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Languages = require('./language.json');

var PublicationTypes = require('./publicationTypes.json');
var AppliesTo = require('./appliesTo.json');
var IdentifierTypes = require('./identifierTypes.json');


var parseXMLIssue = function parseXMLIssue(xml) {
    var retObj = {};
    var parsedIssue = (0, _xmldoc2.default)(xml);

    // article loading
    var issueTitle = (0, _objectSearch2.default)(parsedIssue, 'title') ? (0, _objectSearch2.default)(parsedIssue, 'title') : '';
    var issue = (0, _objectSearch2.default)(parsedIssue, 'issue') ? (0, _objectSearch2.default)(parsedIssue, 'issue') : '';
    var issueDoi = (0, _objectSearch2.default)(parsedIssue, 'doi') ? (0, _objectSearch2.default)(parsedIssue, 'doi') : '';
    var issueUrl = (0, _objectSearch2.default)(parsedIssue, 'resource') ? (0, _objectSearch2.default)(parsedIssue, 'resource') : '';
    var special_numbering = (0, _objectSearch2.default)(parsedIssue, 'special_numbering') ? (0, _objectSearch2.default)(parsedIssue, 'special_numbering') : '';
    var publication_date = (0, _objectSearch2.default)(parsedIssue, 'publication_date');
    var onlinePubDate = undefined;
    var printPubDate = undefined;

    if (publication_date) {
        if (Array.isArray(publication_date)) {
            onlinePubDate = _lodash2.default.find(publication_date, function (pubDate) {
                if (pubDate) {
                    if (pubDate['-media_type'] === 'online') {
                        return pubDate;
                    }
                }
            });

            printPubDate = _lodash2.default.find(publication_date, function (pubDate) {
                if (pubDate) {
                    if (pubDate['-media_type'] === 'print') {
                        return pubDate;
                    }
                }
            });
        } else {
            if (publication_date['-media_type'] === 'print') {
                printPubDate = publication_date;
            } else if (publication_date['-media_type'] === 'online') {
                onlinePubDate = publication_date;
            }
        }
    }

    var printDateYear = '';
    var printDateMonth = '';
    var printDateDay = '';
    if (printPubDate) {
        printDateYear = printPubDate['year'] ? printPubDate['year'] : '';
        printDateMonth = printPubDate['month'] ? printPubDate['month'] : '';
        printDateDay = printPubDate['day'] ? printPubDate['day'] : '';
    }

    var onlineDateYear = '';
    var onlineDateMonth = '';
    var onlineDateDay = '';
    if (onlinePubDate) {
        onlineDateYear = onlinePubDate['year'] ? onlinePubDate['year'] : '';
        onlineDateMonth = onlinePubDate['month'] ? onlinePubDate['month'] : '';
        onlineDateDay = onlinePubDate['day'] ? onlinePubDate['day'] : '';
    }

    var archiveLocations = (0, _objectSearch2.default)(parsedIssue, 'archive_locations');
    var archive = '';
    if (archiveLocations) {
        archive = archiveLocations.archive['-name'];
    }

    var journal_volume = (0, _objectSearch2.default)(parsedIssue, 'journal_volume');
    if (journal_volume) {
        var theVolume = (0, _objectSearch2.default)(journal_volume, 'volume') ? (0, _objectSearch2.default)(journal_volume, 'volume') : '';
        var volumeDoiData = (0, _objectSearch2.default)(journal_volume, 'doi_data') ? (0, _objectSearch2.default)(journal_volume, 'doi_data') : '';
        var volumeDoi = (0, _objectSearch2.default)(volumeDoiData, 'doi') ? (0, _objectSearch2.default)(volumeDoiData, 'doi') : '';
        var volumeUrl = (0, _objectSearch2.default)(volumeDoiData, 'resource') ? (0, _objectSearch2.default)(volumeDoiData, 'resource') : '';
    }

    var setIssue = {
        issue: issue,
        issueTitle: issueTitle,
        issueDoi: issueDoi,
        issueUrl: issueUrl,
        printDateYear: printDateYear,
        printDateMonth: printDateMonth,
        printDateDay: printDateDay,
        onlineDateYear: onlineDateYear,
        onlineDateMonth: onlineDateMonth,
        onlineDateDay: onlineDateDay,
        archiveLocation: archive,
        specialIssueNumber: special_numbering,
        volume: theVolume,
        volumeDoi: volumeDoi,
        volumeUrl: volumeUrl

        // contributor loading
    };var contributors = (0, _objectSearch2.default)(parsedIssue, 'contributors');
    var contributee = [];
    // contributors are divied into 2 types
    // person_name and organization
    var person_name = undefined;
    if (contributors) {
        person_name = (0, _objectSearch2.default)(contributors, 'person_name');

        if (person_name) {
            // if exist
            if (!Array.isArray(person_name)) {
                // there is ONE funder
                contributee.push({
                    firstName: person_name.given_name ? person_name.given_name : '',
                    lastName: person_name.surname ? person_name.surname : '',
                    suffix: person_name.suffix ? person_name.suffix : '',
                    affiliation: person_name.affiliation ? person_name.affiliation : '',
                    orcid: person_name.ORCID ? person_name.ORCID : '',
                    alternativeName: person_name['alt-name'] ? person_name['alt-name'] : '',
                    role: person_name['-contributor_role'] ? person_name['-contributor_role'] : ''
                });
            } else {
                // its an array
                _lodash2.default.each(person_name, function (person) {
                    contributee.push({
                        firstName: person.given_name ? person.given_name : '',
                        lastName: person.surname ? person.surname : '',
                        suffix: person.suffix ? person.suffix : '',
                        affiliation: person.affiliation ? person.affiliation : '',
                        orcid: person.ORCID ? person.ORCID : '',
                        alternativeName: person['alt-name'] ? person['alt-name'] : '',
                        role: person['-contributor_role'] ? person['-contributor_role'] : ''
                    });
                });
            }
        }
    }

    if (contributee.length <= 0) {
        contributee.push({
            firstName: '',
            lastName: '',
            suffix: '',
            affiliation: '',
            orcid: '',
            role: '',
            alternativeName: ''
        });
    }

    var issueDoiDisabled = false;
    if (issueDoi) {
        issueDoiDisabled = issueDoi.length > 0 ? true : false;
    }

    var volumeDoiDisabled = false;
    if (volumeDoi) {
        volumeDoiDisabled = volumeDoi.length > 0 ? true : false;
    }

    retObj = _lodash2.default.extend(retObj, {
        issue: setIssue,
        optionalIssueInfo: contributee
    });

    return retObj;
};
exports.default = parseXMLIssue;

});

require.register("utilities/pascaleCase.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
var pascaleCase = function pascaleCase(name) {
    if (name) {
        var arr, i, l;
        arr = String(name).split(/\s|_/);

        i = 0;
        l = arr.length;

        while (i < l) {
            arr[i] = arr[i].substr(0, 1).toUpperCase() + (arr[i].length > 1 ? arr[i].substr(1).toLowerCase() : '');
            i++;
        }

        return arr.join(' ');
    } else {
        return name;
    }
};

exports.default = pascaleCase;

});

require.register("utilities/publicationTypes.json", function(exports, require, module) {
module.exports = [
    {'value':'abstract_only', 'name':'Abstract'},
    {'value':'full_text', 'name':'Full Text'},
    {'value':'bibliographic_record', 'name':'Bibliographic Record'}
];
});

require.register("utilities/relationTypes.json", function(exports, require, module) {
module.exports = [
    {'value':'isDerivedFrom', 'name':'isDerivedFrom'},
    {'value':'isReviewOf', 'name':'isReviewOf'},
    {'value':'hasReview', 'name':'hasReview'},
    {'value':'isCommentOn', 'name':'isCommentOn'},
    {'value':'hasComment', 'name':'hasComment'},
    {'value':'isReplyTo', 'name':'isReplyTo'},
    {'value':'hasReply', 'name':'hasReply'},
    {'value':'basedOnData', 'name':'basedOnData'},
    {'value':'hasRelatedMaterial', 'name':'hasRelatedMaterial'},
    {'value':'isCompiledBy', 'name':'isCompiledBy'},
    {'value':'compiles', 'name':'compiles'},
    {'value':'isDocumentedBy', 'name':'isDocumentedBy'},
    {'value':'documents', 'name':'documents'},
    {'value':'isSupplementTo', 'name':'isSupplementTo'},
    {'value':'isSupplementedBy', 'name':'isSupplementedBy'},
    {'value':'isContinuedBy', 'name':'isContinuedBy'},
    {'value':'continues', 'name':'continues'},
    {'value':'isPartOf', 'name':'isPartOf'},
    {'value':'hasPart', 'name':'hasPart'},
    {'value':'references', 'name':'references'},
    {'value':'isReferencedBy', 'name':'isReferencedBy'},
    {'value':'isBasedOn', 'name':'isBasedOn'},
    {'value':'isBasisFor', 'name':'isBasisFor'},
    {'value':'requires', 'name':'requires'},
    {'value':'isRequiredBy', 'name':'isRequiredBy'},
    {'value':'isTranslationOf', 'name':'isTranslationOf'},
    {'value':'hasTranslation', 'name':'hasTranslation'},
    {'value':'isPreprintOf', 'name':'isPreprintOf'},
    {'value':'hasPreprint', 'name':'hasPreprint'},
    {'value':'isManuscriptOf', 'name':'isManuscriptOf'},
    {'value':'hasManuscript', 'name':'hasManuscript'},
    {'value':'isExpressionOf', 'name':'isExpressionOf'},
    {'value':'hasExpression', 'name':'hasExpression'},
    {'value':'isManifestationOf', 'name':'isManifestationOf'},
    {'value':'hasManifestation', 'name':'hasManifestation'},
    {'value':'isReplacedBy', 'name':'isReplacedBy'},
    {'value':'isIdenticalTo', 'name':'isIdenticalTo'},
    {'value':'isVariantFormOf', 'name':'isVariantFormOf'},
    {'value':'isOriginalFormOf', 'name':'isOriginalFormOf'},
    {'value':'isVersionOf', 'name':'isVersionOf'}
];
});

require.register("utilities/roles.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.displayRoles = exports.Roles = undefined;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Roles = exports.Roles = [{ 'value': 'author', 'name': 'Author' }, { 'value': 'editor', 'name': 'Editor' }, { 'value': 'chair', 'name': 'Chair' }, { 'value': 'translator', 'name': 'Translator' }];

var displayRoles = exports.displayRoles = function displayRoles(ref, handler, value) {
    console.log("HERRE");
};

});

require.register("utilities/x2js.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
var x2Js = require('x2js');

var store = null;

var wrappedJSONtoXML = function wrappedJSONtoXML(content) {
    var x2js = new x2Js();
    var xml = x2js.js2xml(content);
    return xml;
};

wrappedJSONtoXML.registerStore = function (storeRef) {
    store = storeRef;
};

exports.default = wrappedJSONtoXML;

});

require.register("utilities/xmlGenerator.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getIssueXml = exports.publicationXml = exports.journalArticleXml = exports.crossmarkXml = undefined;

var _keys = require('babel-runtime/core-js/object/keys');

var _keys2 = _interopRequireDefault(_keys);

var _slicedToArray2 = require('babel-runtime/helpers/slicedToArray');

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _getSubItems = require('./getSubItems');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var crossmarkXml = exports.crossmarkXml = function crossmarkXml(form, crossmarkPrefix) {

  function generateUpdate(card) {
    var array = ['<updates>'];
    for (var number in card) {
      var _card$number = card[number],
          type = _card$number.type,
          DOI = _card$number.DOI,
          day = _card$number.day,
          month = _card$number.month,
          year = _card$number.year;

      var date = (year || '') + '-' + (month || '') + '-' + (day || '');
      array.push('<update' + (type ? 'type="' + type.toLowerCase().replace(/\s+/g, '_') + '"' : '') + ' ' + (year || month || day ? 'date="' + date + '"' : '') + '>' + (DOI ? DOI : '') + '</update>');
    }
    array.push('</updates>');
    return array.join('');
  }

  function generateOther(card) {
    var array = [];
    for (var number in card) {
      var _card$number2 = card[number],
          label = _card$number2.label,
          explanation = _card$number2.explanation,
          href = _card$number2.href;

      array.push('<assertion name="' + (label || '').toLowerCase().replace(/\s+/g, '_') + '" ' + (label ? 'label="' + label + '"' : '') + ' ' + (explanation ? 'explanation="' + explanation + '"' : '') + ' ' + (href ? 'href="' + href + '"' : '') + ' ' + (number ? 'order="' + number + '"' : '') + '/>');
    }return array.join('');
  }

  function generatePubHist(card) {
    var array = [];
    for (var number in card) {
      var _card$number3 = card[number],
          label = _card$number3.label,
          day = _card$number3.day,
          month = _card$number3.month,
          year = _card$number3.year;

      var date = (year || '') + '-' + (month || '') + '-' + (day || '');
      array.push('<assertion name="' + (label || '').toLowerCase().replace(/\s+/g, '_') + '" ' + (label ? 'label="' + label + '"' : '') + ' group_name="publication_history" group_label="Publication History" ' + (number ? 'order="' + number + '"' : '') + '>' + (year || month || day ? date : '') + '</assertion>');
    }return array.join('');
  }

  function generatePeer(card) {
    var array = [];
    for (var number in card) {
      var _card$number4 = card[number],
          label = _card$number4.label,
          explanation = _card$number4.explanation,
          href = _card$number4.href;

      array.push('<assertion name="' + (label || '').toLowerCase().replace(/\s+/g, '_') + '" ' + (label ? 'label="' + label + '"' : '') + ' group_name="peer_review" group_label="Peer review" ' + (explanation ? 'explanation="' + explanation + '"' : '') + ' ' + (href ? 'href="' + href + '"' : '') + ' ' + (number ? 'order="' + number + '"' : '') + '/>');
    }return array.join('');
  }

  function generateSupp(card) {
    var array = [];
    for (var number in card) {
      var _card$number5 = card[number],
          explanation = _card$number5.explanation,
          href = _card$number5.href;

      array.push('<assertion name="supplementary_Material" label="Supplementary Material" ' + (explanation ? 'explanation="' + explanation + '"' : '') + ' ' + (href ? 'href="' + href + '"' : '') + ' ' + (number ? 'order="' + number + '"' : '') + '/>');
    }return array.join('');
  }

  function generateCopyright(card) {
    var array = [];
    for (var number in card) {
      var _card$number6 = card[number],
          label = _card$number6.label,
          explanation = _card$number6.explanation,
          href = _card$number6.href;

      if (label === 'Copyright Statement') array.push('<assertion name="copyright_statement" ' + (label ? 'label="' + label + '"' : '') + ' group_name="copyright_licensing" group_label="Copyright $amp; Licensing" ' + (explanation ? 'explanation="' + explanation + '"' : '') + ' ' + (href ? 'href="' + href + '"' : '') + ' ' + (number ? 'order="' + number + '"' : '') + '/>');
      if (label === 'Licensing Information') array.push('<assertion name="licensing" ' + (label ? 'label="' + label + '"' : '') + ' group_name="copyright_licensing" group_label="Copyright $amp; Licensing" ' + (explanation ? 'explanation="' + explanation + '"' : '') + ' ' + (href ? 'href="' + href + '"' : '') + ' ' + (number ? 'order="' + number + '"' : '') + ' ' + (number ? 'order="' + number + '"' : '') + '/>');
    }return array.join('');
  }

  function generateClinical(card) {
    var array = ['<program xmlns="http://www.crossref.org/clinicaltrials.xsd">'];
    for (var number in card) {
      var _card$number7 = card[number],
          registry = _card$number7.registry,
          trialNumber = _card$number7.trialNumber,
          type = _card$number7.type;

      array.push('<clinical-trial-number ' + (registry ? 'registry="' + registryDois[registry] + '"' : '') + ' ' + (type ? 'type="' + lowerCaseFirst(type).replace(/-/g, '') + '"' : '') + '>' + (trialNumber ? trialNumber : '') + '</clinical-trial-number>');
    };
    array.push('</program>');
    return array.join('');
  }

  var data = {};
  for (var key in form) {
    if (!key.includes('_')) continue;

    var _key$split = key.split('_'),
        _key$split2 = (0, _slicedToArray3.default)(_key$split, 3),
        card = _key$split2[0],
        number = _key$split2[1],
        field = _key$split2[2];

    if (!data[card]) data[card] = {};
    if (!data[card][number]) data[card][number] = {};
    data[card][number][field] = form[key];
  }

  if (!(0, _keys2.default)(data).length) return undefined;

  return ['<crossmark>', '<crossmark_policy>' + crossmarkPrefix + '/something</crossmark_policy>', //TODO Needs to be looked at

  '<crossmark_domains><crossmark_domain><domain>psychoceramics.labs.crossref.org</domain></crossmark_domain></crossmark_domains>', //TEMPORARY, Crossref team said they will be removing this requirement

  data.update ? generateUpdate(data.update) : '', '<custom_metadata>', data.other ? generateOther(data.other) : '', data.pubHist ? generatePubHist(data.pubHist) : '', data.peer ? generatePeer(data.peer) : '', data.supp ? generateSupp(data.supp) : '', data.copyright ? generateCopyright(data.copyright) : '', data.clinical ? generateClinical(data.clinical) : '', '</custom_metadata>', '</crossmark>'].join('');
};

var journalArticleXml = exports.journalArticleXml = function journalArticleXml(component, crossmark) {
  var state = component.state;
  var article = state.article;
  var language = state.addInfo.language;
  var publicationType = state.addInfo.publicationType;

  var array = ['<journal_article', '' + (language.length > 0 ? ' language="' + language + '"' : ''), '' + (publicationType.length > 0 ? ' publication_type="' + publicationType + '"' : ''), '>', '<titles>', '' + (article.title.length > 0 ? '<title>' + article.title.trim() + '</title>' : ''), '' + (article.subtitle.length > 0 ? '<subtitle>' + article.subtitle.trim() + '</subtitle>' : ''), '' + (article.originallanguagetitle.length > 0 ? '<original_language_title>' + article.originallanguagetitle.trim() + '</original_language_title>' : ''), '' + (article.originallanguagetitlesubtitle.length > 0 ? '<subtitle>' + article.originallanguagetitlesubtitle.trim() + '</subtitle>' : ''), '</titles>', '' + getAcceptanceDateXML(), '' + (getContributorXML().length > 0 ? getContributorXML() : ''), '' + (article.abstract.trim().length > 0 ? '<jats:abstract xmlns:jats="http://www.ncbi.nlm.nih.gov/JATS1"><jats:p>' + article.abstract.trim() + '</jats:p></jats:abstract>' : ''), article.onlineDateYear.length > 0 ? ['<publication_date media_type="online">', '' + (article.onlineDateYear.length > 0 ? '<year>' + article.onlineDateYear + '</year>' : ''), '' + (article.onlineDateMonth.length > 0 ? '<month>' + article.onlineDateMonth + '</month>' : ''), '' + (article.onlineDateDay.length > 0 ? '<day>' + article.onlineDateDay + '</day>' : ''), '</publication_date>'].join('') : '', article.printDateYear.length > 0 ? ['<publication_date media_type="print">', '' + (article.printDateYear.length > 0 ? '<year>' + article.printDateYear + '</year>' : ''), '' + (article.printDateMonth.length > 0 ? '<month>' + article.printDateMonth + '</month>' : ''), '' + (article.printDateDay.length > 0 ? '<day>' + article.printDateDay + '</day>' : ''), '</publication_date>'].join('') : '', '' + (getPagesXML().length > 0 ? getPagesXML() : ''), '' + (getPublisherItems().length > 0 ? getPublisherItems() : ''), '' + (getFunderXML().length > 0 ? getFunderXML() : ''), '' + (getLicenseXML().length > 0 ? getLicenseXML() : ''), '' + (getRelatedItemsXML().length > 0 ? getRelatedItemsXML() : ''), state.addInfo.archiveLocation.trim().length > 0 ? '<archive_locations><archive name="' + state.addInfo.archiveLocation + '"/></archive_locations>' : '', crossmark ? crossmark : '', '<doi_data>', '<doi>' + article.doi + '</doi>', '<resource>' + article.url + '</resource>', '' + (getCollectionXML().length > 0 ? getCollectionXML() : ''), '</doi_data>', '</journal_article>'];
  return array.join('');

  function getContributorXML() {
    var contributors = getSubmitSubItems(state.contributors).map(function (contributor, i) {
      // cause the type "ROLE" is shared name
      var attributes = [contributor.firstName && contributor.firstName.trim().length > 0 ? '<given_name>' + contributor.firstName + '</given_name>' : undefined, contributor.lastName && contributor.lastName.trim().length > 0 ? '<surname>' + contributor.lastName + '</surname>' : undefined, contributor.suffix && contributor.suffix.trim().length > 0 ? '<suffix>' + contributor.suffix + '</suffix>' : undefined, contributor.affiliation && contributor.affiliation.trim().length > 0 ? '<affiliation>' + contributor.affiliation + '</affiliation>' : undefined, contributor.orcid && contributor.orcid.trim().length > 0 ? '<ORCID>' + contributor.orcid + '</ORCID>' : undefined];

      attributes = _lodash2.default.filter(attributes, function (attribute) {
        // filter all the undefined
        for (var key in attribute) {
          // checking all the properties of errors to see if there is a true
          if (attribute[key]) {
            return attribute;
          }
        }
      });

      var org = contributor.groupAuthorName && contributor.groupAuthorName.trim().length > 0 && contributor.groupAuthorRole && contributor.groupAuthorRole.trim().length > 0 ? '<organization sequence="' + (i === 0 ? 'first' : 'additional') + '" contributor_role="' + contributor.groupAuthorRole + '">' + contributor.groupAuthorName + '</organization>' : undefined;

      var person = '<person_name sequence="' + (i === 0 ? 'first' : 'additional') + '"' + (contributor.role && contributor.role.trim().length > 0 ? ' contributor_role="' + contributor.role + '"' : '') + '>' + attributes.join('') + '</person_name>';

      return org ? org : person;
    });

    return contributors.length > 0 ? '<contributors>' + contributors.join('') + '</contributors>' : '';
  }

  function getFunderXML() {
    var funders = getSubmitSubItems(state.funding).map(function (funder, i) {
      var funderName = undefined;
      if (funder.fundername) {
        funderName = funder.fundername.trim().length > 0 ? funder.fundername : undefined;
      }

      var funder_identifier = undefined;
      if (funder.funder_identifier) {
        funder_identifier = funder.funder_identifier.trim().length > 0 ? funder.funder_identifier : undefined;
      }

      var attributes = '';
      if (funderName || funder_identifier) {
        //if an of these exist
        attributes = '<fr:assertion name="funder_name">' + funderName + (funder_identifier ? '<fr:assertion name="funder_identifier">' + funder_identifier + '</fr:assertion>' : '') + '</fr:assertion>';
        var grants = funder.grantNumbers.map(function (awardNumber, i) {
          return '<fr:assertion name="award_number">' + awardNumber + '</fr:assertion>';
        });

        var fundgroup = '<fr:assertion name="fundgroup">' + attributes + grants.join('') + '</fr:assertion>';
        return fundgroup;
      }
    });

    funders = _lodash2.default.filter(funders, function (funder) {
      return typeof funder !== 'undefined';
    });

    return funders.length > 0 ? '<fr:program xmlns:fr="http://www.crossref.org/fundref.xsd">' + funders.join('') + '</fr:program>' : '';
  }

  function getLicenseXML() {
    var licenses = getSubmitSubItems(state.license).map(function (license, i) {

      var dayHolder = [];
      if ((license.acceptedDateYear ? license.acceptedDateYear : '').length > 0) {
        dayHolder.push(license.acceptedDateYear);
      }
      if ((license.acceptedDateMonth ? license.acceptedDateMonth : '').length > 0) {
        dayHolder.push(license.acceptedDateMonth);
      }
      if ((license.acceptedDateDay ? license.acceptedDateDay : '').length > 0) {
        dayHolder.push(license.acceptedDateDay);
      }

      var attributes = '';
      if (dayHolder.length > 0) {
        var freetolicense = '';
        if (state.addInfo.freetolicense === 'yes') {
          freetolicense = '<ai:free_to_read start_date="' + dayHolder.join('-') + '"/>';
        }

        attributes = freetolicense + '<ai:license_ref applies_to="' + license.appliesto + '" start_date="' + dayHolder.join('-') + '">' + license.licenseurl + '</ai:license_ref>';
      }
      return attributes;
    });
    return licenses.length > 0 ? '<ai:program xmlns:ai="http://www.crossref.org/AccessIndicators.xsd" name="AccessIndicators">' + licenses.join('') + '</ai:program>' : '';
  }

  function getRelatedItemsXML() {
    var relatedItems = getSubmitSubItems(state.relatedItems).map(function (relatedItem, i) {
      var attributes = '<related_item>' + (relatedItem.description.length > 0 ? '<description>' + relatedItem.description + '</description>' : '') + '<inter_work_relation relationship-type="' + relatedItem.relationType + '" identifier-type="' + relatedItem.identifierType + '">' + relatedItem.relatedItemIdentifier + '</inter_work_relation></related_item>';

      return attributes;
    });
    return relatedItems.length > 0 ? '<program xlmns="http://www.crossref.org/relations.xsd">' + relatedItems.join('') + '</program>' : '';
  }

  function getCollectionXML() {
    // similarity check
    var similarityCheck = state.addInfo.similarityCheckURL.trim().length > 0 ? '<item crawler="iParadigms"><resource>' + state.addInfo.similarityCheckURL + '</resource></item>' : '';
    return similarityCheck;
  }

  function getPagesXML() {
    return article.firstPage.trim().length > 0 || article.lastPage.trim().length > 0 ? '<pages>' + (article.firstPage.trim().length > 0 ? '<first_page>' + article.firstPage + '</first_page>' : '') + (article.lastPage.trim().length > 0 ? '<last_page>' + article.lastPage + '</last_page>' : '') + '</pages>' : '';
  }

  function getPublisherItems() {
    return article.locationId.trim().length > 0 ? '<publisher_item><item_number item_number_type="article_number">' + article.locationId.trim() + '</item_number></publisher_item>' : '';
  }

  function getAcceptanceDateXML() {
    var retStr = '';
    if (article.acceptedDateYear.length > 0 || article.acceptedDateMonth.length > 0 || article.acceptedDateDay.length > 0) {
      retStr = retStr + (article.acceptedDateYear.length > 0 ? '<year>' + article.acceptedDateYear + '</year>' : '');
      retStr = retStr + (article.acceptedDateMonth.length > 0 ? '<month>' + article.acceptedDateMonth + '</month>' : '');
      retStr = retStr + (article.acceptedDateDay.length > 0 ? '<day>' + article.acceptedDateDay + '</day>' : '');
      retStr = '<acceptance_date>' + retStr + '</acceptance_date>';
    }

    return retStr;
  }

  function getSubmitSubItems(items) {
    return _lodash2.default.filter(items, function (item) {
      for (var key in item) {
        // checking all the properties of errors to see if there is a true
        if (item[key]) {
          try {
            if (item[key].trim().length > 0) {
              return item;
            }
          } catch (e) {
            if (item[key].length > 0) {
              return item;
            }
          }
        }
      }
    });
  }
};

var publicationXml = exports.publicationXml = function publicationXml(form) {
  var xmlArray = ['<Journal xmlns="http://www.crossref.org/xschema/1.1">', '<journal_metadata' + (form.language ? ' language=' + form.language : '') + '>', '<full_title>' + form.title + '</full_title>', form.abbreviation ? '<abbrev_title>' + form.abbreviation + '</abbrev_title>' : '', '<issn media_type="electronic">' + form.electISSN + '</issn>', '<doi_data>', '<doi>' + form.DOI + '</doi>', '<resource>' + form.url + '</resource>', '</doi_data>', '</journal_metadata>', form.archivelocation ? '<archive_locations><archive name=' + form.archivelocation + '/></archive_locations>' : '', '</Journal>'];
  return xmlArray.join('');
};

var getIssueXml = exports.getIssueXml = function getIssueXml(issueObj) {
  // the title
  var titles = issueObj.issue.issueTitle.trim().length > 0 ? '<titles><title>' + issueObj.issue.issueTitle.trim() + '</title></titles>' : '';

  // special numbering
  var specialNumbering = issueObj.issue.specialIssueNumber.trim().length > 0 ? '<special_numbering>' + issueObj.issue.specialIssueNumber.trim() + '</special_numbering>' : '';

  // special numbering
  var issue = issueObj.issue.issue.trim().length > 0 ? '<issue>' + issueObj.issue.issue.trim() + '</issue>' : '';

  // the online date
  var publicationOnlineDate = '';
  if (issueObj.issue.onlineDateYear.length > 0 || issueObj.issue.onlineDateDay.length > 0 || issueObj.issue.onlineDateMonth.length > 0) {
    publicationOnlineDate += issueObj.issue.onlineDateYear.length > 0 ? '<year>' + issueObj.issue.onlineDateYear + '</year>' : '';
    publicationOnlineDate += issueObj.issue.onlineDateMonth.length > 0 ? '<month>' + issueObj.issue.onlineDateMonth + '</month>' : '';
    publicationOnlineDate += issueObj.issue.onlineDateDay.length > 0 ? '<day>' + issueObj.issue.onlineDateDay + '</day>' : '';

    publicationOnlineDate = '<publication_date media_type="online">' + publicationOnlineDate + '</publication_date>';
  }

  // the print date
  var publicationPrintDate = '';
  if (issueObj.issue.printDateYear.length > 0 || issueObj.issue.printDateDay.length > 0 || issueObj.issue.printDateMonth.length > 0) {
    publicationPrintDate += issueObj.issue.printDateYear.length > 0 ? '<year>' + issueObj.issue.printDateYear + '</year>' : '';
    publicationPrintDate += issueObj.issue.printDateMonth.length > 0 ? '<month>' + issueObj.issue.printDateMonth + '</month>' : '';
    publicationPrintDate += issueObj.issue.printDateDay.length > 0 ? '<day>' + issueObj.issue.printDateDay + '</day>' : '';

    publicationPrintDate = '<publication_date media_type="print">' + publicationPrintDate + '</publication_date>';
  }

  //doi_data
  var doiData = '';
  if (issueObj.issue.issueDoi.trim().length > 0 || issueObj.issue.issueUrl.trim().length > 0) {
    doiData += issueObj.issue.issueDoi.trim().length > 0 ? '<doi>' + issueObj.issue.issueDoi + '</doi>' : '';
    doiData += issueObj.issue.issueUrl.trim().length > 0 ? '<resource>' + issueObj.issue.issueUrl + '</resource>' : '';
    doiData = '<doi_data>' + doiData + '</doi_data>';
  }

  // volume
  var volume = '';
  if ((issueObj.issue.volumeDoi ? issueObj.issue.volumeDoi : '').trim().length > 0 || (issueObj.issue.volumeUrl ? issueObj.issue.volumeUrl : '').trim().length > 0 || (issueObj.issue.volume ? issueObj.issue.volume : '').trim().length > 0) {
    volume += (issueObj.issue.volume ? issueObj.issue.volume : '').trim().length > 0 ? '<volume>' + issueObj.issue.volume + '</volume>' : '';

    var volumeDoiData = '';
    if ((issueObj.issue.volumeDoi ? issueObj.issue.volumeDoi : '').trim().length > 0 || (issueObj.issue.volumeUrl ? issueObj.issue.volumeUrl : '').trim().length > 0) {
      volumeDoiData += (issueObj.issue.volumeDoi ? issueObj.issue.volumeDoi : '').trim().length > 0 ? '<doi>' + issueObj.issue.volumeDoi + '</doi>' : '';
      volumeDoiData += (issueObj.issue.volumeUrl ? issueObj.issue.volumeUrl : '').trim().length > 0 ? '<resource>' + issueObj.issue.volumeUrl + '</resource>' : '';
      volumeDoiData = '<doi_data>' + volumeDoiData + '</doi_data>';
    }

    volume = '<journal_volume>' + volume + volumeDoiData + '</journal_volume>';
  }

  // archive locations
  var archiveLocation = '';
  if (issueObj.issue.archiveLocation.trim().length > 0) {
    archiveLocation = '<archive_locations><archive name="' + issueObj.issue.archiveLocation + '"/></archive_locations>';
  }

  return '<?xml version="1.0" encoding="UTF-8"?><crossref xmlns="http://www.crossref.org/xschema/1.1"><journal_issue>' + (0, _getSubItems.getContributor)(issueObj.optionalIssueInfo) + titles + issue + specialNumbering + publicationOnlineDate + publicationPrintDate + volume + archiveLocation + doiData + '</journal_issue></crossref>';
  //took out xsi:schemaLocation="http://www.crossref.org/xschema/1.1 http://doi.crossref.org/schemas/unixref1.1.xsd" per Mikes request
};

function lowerCaseFirst(string) {
  return string.charAt(0).toLowerCase() + string.slice(1);
}

});

;require.register("utilities/xmldoc.js", function(exports, require, module) {
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
var ObjTree = require('xml-objtree');

var store = null;

var wrappedXmlDoc = function wrappedXmlDoc(content) {
    var objTree = new ObjTree();
    var json = objTree.parseXML(content);
    return json;
};

wrappedXmlDoc.registerStore = function (storeRef) {
    store = storeRef;
};

exports.default = wrappedXmlDoc;

});

require.alias("events/events.js", "events");
require.alias("process/browser.js", "process");process = require('process');require.register("___globals___", function(exports, require, module) {
  
});})();require('___globals___');


//# sourceMappingURL=app.js.map