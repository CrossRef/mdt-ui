// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`generate resource XML from csv award Reducer 1`] = `
Map {
  "grant id 1" => Array [
    Object {
      "<award_number>": "grant id 1",
      "<funder_identifier>": "1234567",
      "<funder_name>": "crossref funder",
    },
    Object {
      "<award_number>": "grant id 1",
      "<funder_identifier>": "22222",
      "<funder_name>": "another crossref funder",
    },
  ],
  "grant id 2" => Array [
    Object {
      "<award_number>": "grant id 2",
      "<funder_identifier>": "33333",
      "<funder_name>": "old crossref funder",
    },
  ],
}
`;

exports[`generate resource XML from csv awardCallback should modify doc appending the funders within an award group 1`] = `
Document {
  "location": null,
}
`;

exports[`generate resource XML from csv awardCallback should with no award 1`] = `
Document {
  "location": null,
}
`;

exports[`generate resource XML from csv doi reducer for resource XML generation 1`] = `
Map {
  "10.5555/science.1232048" => Array [
    Object {
      "<award_number>": "U54 GM094611",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000002",
      "<funder_name>": "National Institutes of Health",
      "DOI": "10.5555/science.1232048",
    },
    Object {
      "<award_number>": "U54 GM094611",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100006151",
      "<funder_name>": "Office of Basic Energy Sciences",
      "DOI": "10.5555/science.1232048",
    },
    Object {
      "<award_number>": "W-31-109-Eng-38",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100006132",
      "<funder_name>": "National Institutes of Health",
      "DOI": "10.5555/science.1232048",
    },
  ],
  "10.5555/science.1232437" => Array [
    Object {
      "<award_number>": "R01NS081707",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000065",
      "<funder_name>": "National Institute of Neurological Disorders and Stroke",
      "DOI": "10.5555/science.1232437",
    },
    Object {
      "<award_number>": "R00DA025182",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000026",
      "<funder_name>": "National Institute on Drug Abuse",
      "DOI": "10.5555/science.1232437",
    },
  ],
  "10.5555/science.1213495" => Array [
    Object {
      "<award_number>": "",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000002",
      "<funder_name>": "National Institutes of Health",
      "DOI": "10.5555/science.1213495",
    },
    Object {
      "<award_number>": "AI076458",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000002",
      "<funder_name>": "National Institutes of Health",
      "DOI": "10.5555/science.1213495",
    },
    Object {
      "<award_number>": "T32GM07229",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000002",
      "<funder_name>": "National Institutes of Health",
      "DOI": "10.5555/science.1213495",
    },
    Object {
      "<award_number>": "T32HD007516",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000002",
      "<funder_name>": "National Institutes of Health",
      "DOI": "10.5555/science.1213495",
    },
    Object {
      "<award_number>": "3T32GM007170-36S1",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000002",
      "<funder_name>": "National Institutes of Health",
      "DOI": "10.5555/science.1213495",
    },
    Object {
      "<award_number>": "T32AI055428",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000002",
      "<funder_name>": "National Institutes of Health",
      "DOI": "10.5555/science.1213495",
    },
    Object {
      "<award_number>": "AI065644",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000002",
      "<funder_name>": "National Institutes of Health",
      "DOI": "10.5555/science.1213495",
    },
    Object {
      "<award_number>": "W81WWXWH1010185",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000005",
      "<funder_name>": "U.S. Department of Defense",
      "DOI": "10.5555/science.1213495",
    },
    Object {
      "<award_number>": "BX000435",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000738",
      "<funder_name>": "U.S. Department of Veterans Affairs",
      "DOI": "10.5555/science.1213495",
    },
  ],
  "10.5555/science.1229858" => Array [
    Object {
      "<award_number>": "HL088906",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000002",
      "<funder_name>": "National Institutes of Health",
      "DOI": "10.5555/science.1229858",
    },
  ],
  "10.5555/science.1227622" => Array [
    Object {
      "<award_number>": "R01 MH094705",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000002",
      "<funder_name>": "National Institutes of Health",
      "DOI": "10.5555/science.1227622",
    },
  ],
  "10.5555/science.1226740" => Array [
    Object {
      "<award_number>": "NS075177",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000065",
      "<funder_name>": "National Institute of Neurological Disorders and Stroke",
      "DOI": "10.5555/science.1226740",
    },
    Object {
      "<award_number>": "NS078304),",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000065",
      "<funder_name>": "National Institute of Neurological Disorders and Stroke",
      "DOI": "10.5555/science.1226740",
    },
    Object {
      "<award_number>": "RR00165",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000097",
      "<funder_name>": "National Center for Research Resources",
      "DOI": "10.5555/science.1226740",
    },
    Object {
      "<award_number>": "P51RR000165",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000097",
      "<funder_name>": "National Center for Research Resources",
      "DOI": "10.5555/science.1226740",
    },
    Object {
      "<award_number>": "OD P51OD011132",
      "<funder_identifier>": "",
      "<funder_name>": "Office of Research Infrastructure Programs",
      "DOI": "10.5555/science.1226740",
    },
  ],
  "10.5555/science.1226603" => Array [
    Object {
      "<award_number>": "4R00CA168997-02",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000002",
      "<funder_name>": "National Institutes of Health",
      "DOI": "10.5555/science.1226603",
    },
    Object {
      "<award_number>": "RC2HL102815",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000002",
      "<funder_name>": "National Institutes of Health",
      "DOI": "10.5555/science.1226603",
    },
    Object {
      "<award_number>": "U01 HL100001",
      "<funder_identifier>": "http://dx.doi.org/10.13039/100000002",
      "<funder_name>": "National Institutes of Health",
      "DOI": "10.5555/science.1226603",
    },
  ],
}
`;

exports[`generate resource XML from csv generate fund group callback 1`] = `
Document {
  "location": null,
}
`;

exports[`generate resource XML from csv get DOI Objects 1`] = `
Document {
  "_inc": 384,
  "childNodes": Object {
    "0": <doi_resources>
      <fr:program
        name="fundref"
      >
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            U54 GM094611
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Institutes of Health
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000002
            </fr:assertion>
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            Office of Basic Energy Sciences
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100006151
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            W-31-109-Eng-38
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Institutes of Health
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100006132
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
      </fr:program>
      <fr:program
        name="fundref"
      >
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            R01NS081707
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Institute of Neurological Disorders and Stroke
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000065
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            R00DA025182
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Institute on Drug Abuse
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000026
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
      </fr:program>
      <fr:program
        name="fundref"
      >
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            AI076458
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Institutes of Health
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000002
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            T32GM07229
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Institutes of Health
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000002
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            T32HD007516
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Institutes of Health
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000002
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            3T32GM007170-36S1
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Institutes of Health
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000002
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            T32AI055428
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Institutes of Health
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000002
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            AI065644
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Institutes of Health
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000002
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            W81WWXWH1010185
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            U.S. Department of Defense
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000005
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            BX000435
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            U.S. Department of Veterans Affairs
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000738
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
      </fr:program>
      <fr:program
        name="fundref"
      >
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            HL088906
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Institutes of Health
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000002
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
      </fr:program>
      <fr:program
        name="fundref"
      >
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            R01 MH094705
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Institutes of Health
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000002
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
      </fr:program>
      <fr:program
        name="fundref"
      >
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            NS075177
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Institute of Neurological Disorders and Stroke
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000065
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            NS078304),
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Institute of Neurological Disorders and Stroke
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000065
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            RR00165
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Center for Research Resources
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000097
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            P51RR000165
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Center for Research Resources
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000097
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            OD P51OD011132
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            Office of Research Infrastructure Programs
          </fr:assertion>
          <fr:assertion
            name="funder_identifier"
          />
        </fr:assertion>
      </fr:program>
      <fr:program
        name="fundref"
      >
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            4R00CA168997-02
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Institutes of Health
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000002
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            RC2HL102815
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Institutes of Health
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000002
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="fundgroup"
        >
          <fr:assertion
            name="award_number"
          >
            U01 HL100001
          </fr:assertion>
          <fr:assertion
            name="funder_name"
          >
            National Institutes of Health
            <fr:assertion
              name="funder_identifier"
            >
              http://dx.doi.org/10.13039/100000002
            </fr:assertion>
          </fr:assertion>
        </fr:assertion>
      </fr:program>
    </doi_resources>,
    "length": 1,
  },
  "doctype": null,
  "documentElement": <doi_resources>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          U54 GM094611
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          Office of Basic Energy Sciences
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100006151
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          W-31-109-Eng-38
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100006132
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
    </fr:program>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          R01NS081707
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institute of Neurological Disorders and Stroke
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000065
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          R00DA025182
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institute on Drug Abuse
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000026
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
    </fr:program>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="funder_name"
      >
        National Institutes of Health
        <fr:assertion
          name="funder_identifier"
        >
          http://dx.doi.org/10.13039/100000002
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          AI076458
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          T32GM07229
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          T32HD007516
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          3T32GM007170-36S1
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          T32AI055428
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          AI065644
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          W81WWXWH1010185
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          U.S. Department of Defense
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000005
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          BX000435
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          U.S. Department of Veterans Affairs
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000738
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
    </fr:program>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          HL088906
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
    </fr:program>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          R01 MH094705
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
    </fr:program>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          NS075177
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institute of Neurological Disorders and Stroke
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000065
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          NS078304),
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institute of Neurological Disorders and Stroke
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000065
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          RR00165
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Center for Research Resources
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000097
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          P51RR000165
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Center for Research Resources
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000097
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          OD P51OD011132
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          Office of Research Infrastructure Programs
        </fr:assertion>
        <fr:assertion
          name="funder_identifier"
        />
      </fr:assertion>
    </fr:program>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          4R00CA168997-02
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          RC2HL102815
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          U01 HL100001
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
    </fr:program>
  </doi_resources>,
  "documentURI": undefined,
  "firstChild": <doi_resources>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          U54 GM094611
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          Office of Basic Energy Sciences
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100006151
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          W-31-109-Eng-38
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100006132
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
    </fr:program>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          R01NS081707
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institute of Neurological Disorders and Stroke
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000065
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          R00DA025182
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institute on Drug Abuse
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000026
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
    </fr:program>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="funder_name"
      >
        National Institutes of Health
        <fr:assertion
          name="funder_identifier"
        >
          http://dx.doi.org/10.13039/100000002
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          AI076458
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          T32GM07229
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          T32HD007516
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          3T32GM007170-36S1
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          T32AI055428
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          AI065644
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          W81WWXWH1010185
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          U.S. Department of Defense
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000005
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          BX000435
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          U.S. Department of Veterans Affairs
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000738
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
    </fr:program>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          HL088906
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
    </fr:program>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          R01 MH094705
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
    </fr:program>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          NS075177
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institute of Neurological Disorders and Stroke
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000065
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          NS078304),
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institute of Neurological Disorders and Stroke
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000065
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          RR00165
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Center for Research Resources
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000097
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          P51RR000165
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Center for Research Resources
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000097
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          OD P51OD011132
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          Office of Research Infrastructure Programs
        </fr:assertion>
        <fr:assertion
          name="funder_identifier"
        />
      </fr:assertion>
    </fr:program>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          4R00CA168997-02
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          RC2HL102815
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          U01 HL100001
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
    </fr:program>
  </doi_resources>,
  "implementation": Object {
    "_features": Object {},
  },
  "lastChild": <doi_resources>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          U54 GM094611
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          Office of Basic Energy Sciences
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100006151
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          W-31-109-Eng-38
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100006132
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
    </fr:program>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          R01NS081707
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institute of Neurological Disorders and Stroke
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000065
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          R00DA025182
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institute on Drug Abuse
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000026
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
    </fr:program>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="funder_name"
      >
        National Institutes of Health
        <fr:assertion
          name="funder_identifier"
        >
          http://dx.doi.org/10.13039/100000002
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          AI076458
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          T32GM07229
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          T32HD007516
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          3T32GM007170-36S1
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          T32AI055428
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          AI065644
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          W81WWXWH1010185
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          U.S. Department of Defense
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000005
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          BX000435
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          U.S. Department of Veterans Affairs
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000738
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
    </fr:program>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          HL088906
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
    </fr:program>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          R01 MH094705
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
    </fr:program>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          NS075177
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institute of Neurological Disorders and Stroke
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000065
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          NS078304),
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institute of Neurological Disorders and Stroke
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000065
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          RR00165
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Center for Research Resources
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000097
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          P51RR000165
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Center for Research Resources
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000097
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          OD P51OD011132
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          Office of Research Infrastructure Programs
        </fr:assertion>
        <fr:assertion
          name="funder_identifier"
        />
      </fr:assertion>
    </fr:program>
    <fr:program
      name="fundref"
    >
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          4R00CA168997-02
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          RC2HL102815
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
      <fr:assertion
        name="fundgroup"
      >
        <fr:assertion
          name="award_number"
        >
          U01 HL100001
        </fr:assertion>
        <fr:assertion
          name="funder_name"
        >
          National Institutes of Health
          <fr:assertion
            name="funder_identifier"
          >
            http://dx.doi.org/10.13039/100000002
          </fr:assertion>
        </fr:assertion>
      </fr:assertion>
    </fr:program>
  </doi_resources>,
}
`;

exports[`generate resource XML from csv getFundingElem should create a Funding Element within given group 1`] = `undefined`;

exports[`generate resource XML from csv getFundingElem should work for a row without a name 1`] = `undefined`;

exports[`generate resource XML from csv getFundingElem should work for a row without an identifier 1`] = `undefined`;

exports[`generate resource XML from csv main processor callback 1`] = `undefined`;

exports[`generate resource XML from csv makeAssertionElem should create a "fr:assertion" element with given name and value 1`] = `
<fundref_data>
  <fr:assertion
    name="DOI"
  >
    10.5555/test1
  </fr:assertion>
</fundref_data>
`;

exports[`generate resource XML from csv should take array of funder rows and the program element to insert funding xml into 1`] = `
<fr:program
  name="fundref"
>
  <fr:assertion
    name="funder_name"
  >
    crossref funder
    <fr:assertion
      name="funder_identifier"
    >
      1234567
    </fr:assertion>
  </fr:assertion>
</fr:program>
`;
